<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 7.3.2 (Python 3.12.3 on linux)" generated="2026-02-13T21:59:28.703272" rpa="false" schemaversion="5">
<suite id="s1" name="Tests" source="/home/pwuser/ns8-module/tests">
<kw name="Connect to the node" type="SETUP">
<kw name="Open Connection" owner="SSHLibrary">
<arg>${NODE_ADDR}</arg>
<doc>Opens a new SSH connection to the given ``host`` and ``port``.</doc>
<status status="PASS" start="2026-02-13T21:59:28.780544" elapsed="0.000175"/>
</kw>
<kw name="Login With Public Key" owner="SSHLibrary">
<msg time="2026-02-13T21:59:28.781011" level="INFO">Logging into 'rl1.e2e-tests.mv.nethserver.net:22' as 'root'.</msg>
<msg time="2026-02-13T21:59:30.695193" level="INFO">Read output: 
NethServer cluster-admin UI:
  - https://rl1.e2e-tests.mv.nethserver.net/cluster-admin/
  - https://174.138.4.244/cluster-admin/

Activate the web console with: systemctl enable --now cockpit.socket

Last login: Fri Feb 13 21:57:59 2026 from 2.119.67.169
[?2004h[root@rl1 ~]#</msg>
<arg>root</arg>
<arg>${SSH_KEYFILE}</arg>
<doc>Logs into the SSH server using key-based authentication.</doc>
<status status="PASS" start="2026-02-13T21:59:28.780815" elapsed="1.914601"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T21:59:30.695974" level="INFO">Executing command 'systemctl is-system-running'.</msg>
<msg time="2026-02-13T21:59:30.871171" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T21:59:30.871502" level="INFO">${output} = running</msg>
<var>${output}</var>
<arg>systemctl is-system-running</arg>
<arg>--wait</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T21:59:30.695698" elapsed="0.175843"/>
</kw>
<kw name="Should Be True" owner="BuiltIn">
<arg>'${output}' == 'running' or '${output}' == 'degraded'</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" start="2026-02-13T21:59:30.871775" elapsed="0.000562"/>
</kw>
<status status="PASS" start="2026-02-13T21:59:28.780249" elapsed="2.092196"/>
</kw>
<suite id="s1-s1" name="00 Nethvoice-Proxy Add-Module" source="/home/pwuser/ns8-module/tests/00_nethvoice-proxy_add-module.robot">
<test id="s1-s1-t1" name="Check if nethvoice-proxy is installed correctly" line="6">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T21:59:30.876142" level="INFO">Executing command 'add-module ghcr.io/nethesis/nethvoice-proxy:main 1'.</msg>
<msg time="2026-02-13T22:00:33.321763" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:00:33.322404" level="INFO">${output} = {'module_id': 'nethvoice-proxy1', 'image_name': 'nethvoice-proxy', 'image_url': 'ghcr.io/nethesis/nethvoice-proxy:main'}</msg>
<msg time="2026-02-13T22:00:33.322490" level="INFO">${rc} = 0</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>add-module ${IMAGE_URL} 1</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T21:59:30.876000" elapsed="62.446529"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:33.323207" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>0</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:33.322832" elapsed="0.000476"/>
</kw>
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:00:33.323946" level="INFO">&amp;{output} = { module_id=nethvoice-proxy1 | image_name=nethvoice-proxy | image_url=ghcr.io/nethesis/nethvoice-proxy:main }</msg>
<var>&amp;{output}</var>
<arg>${output}</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:00:33.323456" elapsed="0.000507"/>
</kw>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:33.324716" level="INFO">${module_id} = nethvoice-proxy1</msg>
<arg>${module_id}</arg>
<arg>${output.module_id}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2026-02-13T22:00:33.324054" elapsed="0.000690"/>
</kw>
<status status="PASS" start="2026-02-13T21:59:30.875804" elapsed="62.449033"/>
</test>
<test id="s1-s1-t2" name="Gather system information" line="13">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:33.326189" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-available-interfaces --data '{}''.</msg>
<msg time="2026-02-13T22:00:35.121057" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:00:35.121362" level="INFO">${stdout} = {"data": [{"name": "lo", "addresses": [{"address": "127.0.0.1", "network": "127.0.0.0/8", "family": "inet"}, {"address": "::1", "network": "::1/128", "family": "inet6"}]}, {"name": "eth0", "addresses"...</msg>
<msg time="2026-02-13T22:00:35.121403" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:00:35.121434" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:33.326006" elapsed="1.795447"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:35.121943" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:35.121640" elapsed="0.000358"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:00:35.122729" level="INFO">${response} = {'data': [{'name': 'lo', 'addresses': [{'address': '127.0.0.1', 'network': '127.0.0.0/8', 'family': 'inet'}, {'address': '::1', 'network': '::1/128', 'family': 'inet6'}]}, {'name': 'eth0', 'addresses'...</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:00:35.122460" elapsed="0.000290"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:35.122137" elapsed="0.000640"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:00:35.122879" elapsed="0.000014"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:00:35.122807" elapsed="0.000108"/>
</branch>
<status status="PASS" start="2026-02-13T22:00:35.122089" elapsed="0.000841"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:00:35.122968" elapsed="0.000052"/>
</return>
<msg time="2026-02-13T22:00:35.123148" level="INFO">${response} = {'data': [{'name': 'lo', 'addresses': [{'address': '127.0.0.1', 'network': '127.0.0.0/8', 'family': 'inet'}, {'address': '::1', 'network': '::1/128', 'family': 'inet6'}]}, {'name': 'eth0', 'addresses'...</msg>
<var>${response}</var>
<arg>module/${module_id}/get-available-interfaces</arg>
<arg>{}</arg>
<status status="PASS" start="2026-02-13T22:00:33.325735" elapsed="1.797432"/>
</kw>
<for flavor="IN">
<iter>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:35.123849" level="INFO">${address} = 127.0.0.1</msg>
<var>${address}</var>
<arg>${interface['addresses'][0]['address']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:00:35.123619" elapsed="0.000244"/>
</kw>
<kw name="Exit For Loop If" owner="BuiltIn">
<arg>"${interface['name']}" == "wg0"</arg>
<doc>Stops executing the enclosing FOR loop if the ``condition`` is true.</doc>
<status status="PASS" start="2026-02-13T22:00:35.123916" elapsed="0.000413"/>
</kw>
<var name="${interface}">{'name': 'lo', 'addresses': [{'address': '127.0.0.1', 'network': '127.0.0.0/8', 'family': 'inet'}, {'address': '::1', 'network': '::1/128', 'family': 'inet6'}]}</var>
<status status="PASS" start="2026-02-13T22:00:35.123569" elapsed="0.001003"/>
</iter>
<iter>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:35.124927" level="INFO">${address} = 174.138.4.244</msg>
<var>${address}</var>
<arg>${interface['addresses'][0]['address']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:00:35.124690" elapsed="0.000252"/>
</kw>
<kw name="Exit For Loop If" owner="BuiltIn">
<arg>"${interface['name']}" == "wg0"</arg>
<doc>Stops executing the enclosing FOR loop if the ``condition`` is true.</doc>
<status status="PASS" start="2026-02-13T22:00:35.124994" elapsed="0.000399"/>
</kw>
<var name="${interface}">{'name': 'eth0', 'addresses': [{'address': '174.138.4.244', 'network': '174.138.0.0/20', 'family': 'inet'}, {'address': '10.18.0.12', 'network': '10.18.0.0/16', 'family': 'inet'}, {'address': '2a03:b0...</var>
<status status="PASS" start="2026-02-13T22:00:35.124645" elapsed="0.000768"/>
</iter>
<iter>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:35.125722" level="INFO">${address} = 10.110.0.3</msg>
<var>${address}</var>
<arg>${interface['addresses'][0]['address']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:00:35.125511" elapsed="0.000226"/>
</kw>
<kw name="Exit For Loop If" owner="BuiltIn">
<arg>"${interface['name']}" == "wg0"</arg>
<doc>Stops executing the enclosing FOR loop if the ``condition`` is true.</doc>
<status status="PASS" start="2026-02-13T22:00:35.125787" elapsed="0.000391"/>
</kw>
<var name="${interface}">{'name': 'eth1', 'addresses': [{'address': '10.110.0.3', 'network': '10.110.0.0/20', 'family': 'inet'}, {'address': 'fe80::d0dc:c7ff:fef9:4a9d', 'network': 'fe80::/64', 'family': 'inet6'}]}</var>
<status status="PASS" start="2026-02-13T22:00:35.125471" elapsed="0.000727"/>
</iter>
<iter>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:35.126710" level="INFO">${address} = 10.5.4.1</msg>
<var>${address}</var>
<arg>${interface['addresses'][0]['address']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:00:35.126297" elapsed="0.000428"/>
</kw>
<kw name="Exit For Loop If" owner="BuiltIn">
<msg time="2026-02-13T22:00:35.127164" level="INFO">Exiting for loop altogether.</msg>
<arg>"${interface['name']}" == "wg0"</arg>
<doc>Stops executing the enclosing FOR loop if the ``condition`` is true.</doc>
<status status="PASS" start="2026-02-13T22:00:35.126777" elapsed="0.000442"/>
</kw>
<var name="${interface}">{'name': 'wg0', 'addresses': [{'address': '10.5.4.1', 'network': '10.5.4.1/32', 'family': 'inet'}]}</var>
<status status="PASS" start="2026-02-13T22:00:35.126256" elapsed="0.000985"/>
</iter>
<var>${interface}</var>
<value>@{response['data']}</value>
<status status="PASS" start="2026-02-13T22:00:35.123229" elapsed="0.004031"/>
</for>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:35.127704" level="INFO">${service_ip} = 10.5.4.1</msg>
<arg>${service_ip}</arg>
<arg>${address}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2026-02-13T22:00:35.127328" elapsed="0.000401"/>
</kw>
<for flavor="IN">
<iter>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:35.128265" level="INFO">${address} = 127.0.0.1</msg>
<var>${address}</var>
<arg>${interface['addresses'][0]['address']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:00:35.128043" elapsed="0.000237"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:35.128567" level="INFO">${network} = 127.0.0.0/8</msg>
<var>${network}</var>
<arg>${interface['addresses'][0]['network']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:00:35.128331" elapsed="0.000249"/>
</kw>
<kw name="Exit For Loop If" owner="BuiltIn">
<arg>"${interface['name']}" == "eth0"</arg>
<doc>Stops executing the enclosing FOR loop if the ``condition`` is true.</doc>
<status status="PASS" start="2026-02-13T22:00:35.128629" elapsed="0.000376"/>
</kw>
<var name="${interface}">{'name': 'lo', 'addresses': [{'address': '127.0.0.1', 'network': '127.0.0.0/8', 'family': 'inet'}, {'address': '::1', 'network': '::1/128', 'family': 'inet6'}]}</var>
<status status="PASS" start="2026-02-13T22:00:35.127993" elapsed="0.001031"/>
</iter>
<iter>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:35.129351" level="INFO">${address} = 174.138.4.244</msg>
<var>${address}</var>
<arg>${interface['addresses'][0]['address']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:00:35.129142" elapsed="0.000223"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:35.129617" level="INFO">${network} = 174.138.0.0/20</msg>
<var>${network}</var>
<arg>${interface['addresses'][0]['network']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:00:35.129413" elapsed="0.000217"/>
</kw>
<kw name="Exit For Loop If" owner="BuiltIn">
<msg time="2026-02-13T22:00:35.130055" level="INFO">Exiting for loop altogether.</msg>
<arg>"${interface['name']}" == "eth0"</arg>
<doc>Stops executing the enclosing FOR loop if the ``condition`` is true.</doc>
<status status="PASS" start="2026-02-13T22:00:35.129677" elapsed="0.000479"/>
</kw>
<var name="${interface}">{'name': 'eth0', 'addresses': [{'address': '174.138.4.244', 'network': '174.138.0.0/20', 'family': 'inet'}, {'address': '10.18.0.12', 'network': '10.18.0.0/16', 'family': 'inet'}, {'address': '2a03:b0...</var>
<status status="PASS" start="2026-02-13T22:00:35.129102" elapsed="0.001088"/>
</iter>
<var>${interface}</var>
<value>@{response['data']}</value>
<status status="PASS" start="2026-02-13T22:00:35.127761" elapsed="0.002454"/>
</for>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:35.130785" level="INFO">${local_ip} = 174.138.4.244</msg>
<arg>${local_ip}</arg>
<arg>${address}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2026-02-13T22:00:35.130295" elapsed="0.000522"/>
</kw>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:35.131325" level="INFO">${local_network} = 174.138.0.0/20</msg>
<arg>${local_network}</arg>
<arg>${network}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2026-02-13T22:00:35.130889" elapsed="0.000466"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:33.325359" elapsed="1.806081"/>
</test>
<test id="s1-s1-t3" name="Check if nethvoice-proxy is configured wih the correctly default values" line="29">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:35.132322" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/list-service-providers --data '{"service": "sip", "transport": "tcp", "filter": {"module_id": "nethvoice-proxy1"}}''.</msg>
<msg time="2026-02-13T22:00:36.989684" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:00:36.989998" level="INFO">${stdout} = [{"port": "5060", "host": "10.5.4.1", "address": "127.0.0.1", "public_address": "127.0.0.1", "fqdn": "15174.ns8.invalid", "node": "1", "module_uuid": "6ea6264b-8f35-4164-a1ea-8de6f7234f2b", "transport...</msg>
<msg time="2026-02-13T22:00:36.990075" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:00:36.990132" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:35.132171" elapsed="1.858170"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:36.990850" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:36.990565" elapsed="0.000335"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:00:36.991460" level="INFO">${response} = [{'port': '5060', 'host': '10.5.4.1', 'address': '127.0.0.1', 'public_address': '127.0.0.1', 'fqdn': '15174.ns8.invalid', 'node': '1', 'module_uuid': '6ea6264b-8f35-4164-a1ea-8de6f7234f2b', 'transport...</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:00:36.991278" elapsed="0.000198"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:36.990995" elapsed="0.000503"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:00:36.991578" elapsed="0.000010"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:00:36.991523" elapsed="0.000082"/>
</branch>
<status status="PASS" start="2026-02-13T22:00:36.990962" elapsed="0.000654"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:00:36.991649" elapsed="0.000039"/>
</return>
<msg time="2026-02-13T22:00:36.991781" level="INFO">${response} = [{'port': '5060', 'host': '10.5.4.1', 'address': '127.0.0.1', 'public_address': '127.0.0.1', 'fqdn': '15174.ns8.invalid', 'node': '1', 'module_uuid': '6ea6264b-8f35-4164-a1ea-8de6f7234f2b', 'transport...</msg>
<var>${response}</var>
<arg>module/${module_id}/list-service-providers</arg>
<arg>{"service": "sip", "transport": "tcp", "filter": {"module_id": "${module_id}"}}</arg>
<status status="PASS" start="2026-02-13T22:00:35.131876" elapsed="1.859920"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response[0]['host']}</arg>
<arg>${service_ip}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:00:36.991858" elapsed="0.000360"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:36.992790" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/list-service-providers --data '{"service": "sip", "transport": "udp", "filter": {"module_id": "nethvoice-proxy1"} }''.</msg>
<msg time="2026-02-13T22:00:38.713882" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:00:38.714221" level="INFO">${stdout} = [{"port": "5060", "host": "10.5.4.1", "address": "127.0.0.1", "public_address": "127.0.0.1", "fqdn": "15174.ns8.invalid", "node": "1", "module_uuid": "6ea6264b-8f35-4164-a1ea-8de6f7234f2b", "transport...</msg>
<msg time="2026-02-13T22:00:38.714293" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:00:38.714341" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:36.992664" elapsed="1.721706"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:38.714842" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:38.714580" elapsed="0.000303"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:00:38.715396" level="INFO">${response} = [{'port': '5060', 'host': '10.5.4.1', 'address': '127.0.0.1', 'public_address': '127.0.0.1', 'fqdn': '15174.ns8.invalid', 'node': '1', 'module_uuid': '6ea6264b-8f35-4164-a1ea-8de6f7234f2b', 'transport...</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:00:38.715200" elapsed="0.000211"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:38.714955" elapsed="0.000476"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:00:38.715514" elapsed="0.000010"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:00:38.715460" elapsed="0.000081"/>
</branch>
<status status="PASS" start="2026-02-13T22:00:38.714933" elapsed="0.000619"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:00:38.715584" elapsed="0.000037"/>
</return>
<msg time="2026-02-13T22:00:38.715719" level="INFO">${response} = [{'port': '5060', 'host': '10.5.4.1', 'address': '127.0.0.1', 'public_address': '127.0.0.1', 'fqdn': '15174.ns8.invalid', 'node': '1', 'module_uuid': '6ea6264b-8f35-4164-a1ea-8de6f7234f2b', 'transport...</msg>
<var>${response}</var>
<arg>module/${module_id}/list-service-providers</arg>
<arg>{"service": "sip", "transport": "udp", "filter": {"module_id": "${module_id}"} }</arg>
<status status="PASS" start="2026-02-13T22:00:36.992420" elapsed="1.723313"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response[0]['host']}</arg>
<arg>${service_ip}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:00:38.715812" elapsed="0.000335"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:35.131567" elapsed="3.584654"/>
</test>
<status status="PASS" start="2026-02-13T21:59:30.872540" elapsed="67.844016"/>
</suite>
<suite id="s1-s2" name="01 Container Health" source="/home/pwuser/ns8-module/tests/01_container_health.robot">
<test id="s1-s2-t1" name="Check rtpengine container is running" line="5">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:38.718438" level="INFO">Executing command 'runagent -m nethvoice-proxy1 podman ps --filter name=rtpengine --format "{{.Status}}"'.</msg>
<msg time="2026-02-13T22:00:39.939243" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:00:39.939549" level="INFO">${output} = Up 10 seconds</msg>
<msg time="2026-02-13T22:00:39.939610" level="INFO">${rc} = 0</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} podman ps --filter name=rtpengine --format "{{.Status}}"</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:38.718303" elapsed="1.221338"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:39.940202" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>0</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:39.939881" elapsed="0.000412"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Up</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2026-02-13T22:00:39.940421" elapsed="0.000175"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:38.718147" elapsed="1.222747"/>
</test>
<test id="s1-s2-t2" name="Check rtpengine control socket is accessible" line="11">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:39.941421" level="INFO">Executing command 'runagent -m nethvoice-proxy1 podman exec rtpengine rtpengine-ctl list'.</msg>
<msg time="2026-02-13T22:00:41.199224" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:00:41.199549" level="INFO">${output} = More parameters required.</msg>
<msg time="2026-02-13T22:00:41.199609" level="INFO">${rc} = 0</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} podman exec rtpengine rtpengine-ctl list</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:39.941289" elapsed="1.258350"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:41.200044" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>0</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:41.199859" elapsed="0.000243"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:39.941050" elapsed="1.259142"/>
</test>
<test id="s1-s2-t3" name="Check kamailio container is running" line="16">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:41.200964" level="INFO">Executing command 'runagent -m nethvoice-proxy1 podman ps --filter name=kamailio --format "{{.Status}}"'.</msg>
<msg time="2026-02-13T22:00:42.331860" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:00:42.332358" level="INFO">${output} = Up 7 seconds</msg>
<msg time="2026-02-13T22:00:42.332402" level="INFO">${rc} = 0</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} podman ps --filter name=kamailio --format "{{.Status}}"</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:41.200656" elapsed="1.131768"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:42.332818" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>0</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:42.332617" elapsed="0.000257"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Up</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2026-02-13T22:00:42.332962" elapsed="0.000128"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:41.200332" elapsed="1.132849"/>
</test>
<test id="s1-s2-t4" name="Check kamailio is responding" line="22">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:42.333820" level="INFO">Executing command 'runagent -m nethvoice-proxy1 podman exec kamailio kamcmd core.uptime'.</msg>
<msg time="2026-02-13T22:00:43.620545" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:00:43.620793" level="INFO">${output} = {
	now: Fri Feb 13 23:00:43 2026
	up_since: Fri Feb 13 23:00:35 2026
	uptime: 8
}</msg>
<msg time="2026-02-13T22:00:43.620828" level="INFO">${rc} = 0</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} podman exec kamailio kamcmd core.uptime</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:42.333611" elapsed="1.287235"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:43.621206" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>0</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:43.621018" elapsed="0.000235"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>uptime</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2026-02-13T22:00:43.621326" elapsed="0.000097"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:42.333318" elapsed="1.288186"/>
</test>
<test id="s1-s2-t5" name="Check postgres container is running" line="28">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:43.622048" level="INFO">Executing command 'runagent -m nethvoice-proxy1 podman ps --filter name=postgres --format "{{.Status}}"'.</msg>
<msg time="2026-02-13T22:00:44.745545" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:00:44.745785" level="INFO">${output} = Up 15 seconds</msg>
<msg time="2026-02-13T22:00:44.745820" level="INFO">${rc} = 0</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} podman ps --filter name=postgres --format "{{.Status}}"</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:43.621859" elapsed="1.123979"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:44.746222" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>0</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:44.746005" elapsed="0.000295"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Up</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2026-02-13T22:00:44.746426" elapsed="0.000193"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:43.621629" elapsed="1.125131"/>
</test>
<test id="s1-s2-t6" name="Check postgres is accepting connections" line="34">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:44.747635" level="INFO">Executing command 'runagent -m nethvoice-proxy1 podman exec postgres pg_isready -U postgres'.</msg>
<msg time="2026-02-13T22:00:46.078437" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:00:46.078742" level="INFO">${output} = /var/run/postgresql:5432 - accepting connections</msg>
<msg time="2026-02-13T22:00:46.078803" level="INFO">${rc} = 0</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} podman exec postgres pg_isready -U postgres</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:44.747478" elapsed="1.331355"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:46.079423" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>0</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:46.079102" elapsed="0.000401"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>accepting connections</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2026-02-13T22:00:46.079650" elapsed="0.000190"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:44.746952" elapsed="1.333097"/>
</test>
<test id="s1-s2-t7" name="Check redis container is running" line="40">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:46.080749" level="INFO">Executing command 'runagent -m nethvoice-proxy1 podman ps --filter name=redis --format "{{.Status}}"'.</msg>
<msg time="2026-02-13T22:00:47.423898" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:00:47.424198" level="INFO">${output} = Up 18 seconds</msg>
<msg time="2026-02-13T22:00:47.424237" level="INFO">${rc} = 0</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} podman ps --filter name=redis --format "{{.Status}}"</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:46.080589" elapsed="1.343790"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:47.424728" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>0</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:47.424558" elapsed="0.000226"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Up</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2026-02-13T22:00:47.424854" elapsed="0.000097"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:46.080264" elapsed="1.344779"/>
</test>
<test id="s1-s2-t8" name="Check redis is responding" line="46">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:47.425566" level="INFO">Executing command 'runagent -m nethvoice-proxy1 podman exec redis redis-cli ping'.</msg>
<msg time="2026-02-13T22:00:49.010189" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:00:49.010480" level="INFO">${output} = PONG</msg>
<msg time="2026-02-13T22:00:49.010507" level="INFO">${rc} = 0</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} podman exec redis redis-cli ping</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:47.425413" elapsed="1.585109"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:49.010849" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>0</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:49.010683" elapsed="0.000205"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>PONG</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2026-02-13T22:00:49.010954" elapsed="0.000101"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:47.425183" elapsed="1.585951"/>
</test>
<status status="PASS" start="2026-02-13T22:00:38.716753" elapsed="10.294615"/>
</suite>
<suite id="s1-s3" name="10 Actions" source="/home/pwuser/ns8-module/tests/10_actions">
<suite id="s1-s3-s1" name="00 Add Route Validate" source="/home/pwuser/ns8-module/tests/10_actions/00_add_route_validate.robot">
<test id="s1-s3-s1-t1" name="Input can't be empty" line="6">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:49.014180" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-route --data '{}''.</msg>
<msg time="2026-02-13T22:00:50.360166" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:00:50.360448" level="INFO">${stdout} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}, {"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<msg time="2026-02-13T22:00:50.360509" level="INFO">${stderr} = Validation errors: [(root): domain is required (root): address is required]</msg>
<msg time="2026-02-13T22:00:50.360561" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:49.014036" elapsed="1.346553"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:50.361261" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:50.360813" elapsed="0.000534"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:00:50.361781" elapsed="0.000017"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:00:50.361471" elapsed="0.000356"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:50.362083" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}, {"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:00:50.361928" elapsed="0.000177"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:50.361850" elapsed="0.000278"/>
</branch>
<status status="PASS" start="2026-02-13T22:00:50.361435" elapsed="0.000708"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:00:50.362177" elapsed="0.000040"/>
</return>
<msg time="2026-02-13T22:00:50.362318" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}, {"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-route</arg>
<arg>{}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:00:49.013790" elapsed="1.348552"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:49.013531" elapsed="1.348902"/>
</test>
<test id="s1-s3-s1-t2" name="Domain is required" line="10">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:50.363236" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-route --data '{"address": [{"uri": "sip:127.0.0.1:5080", "description": "module1"}]}''.</msg>
<msg time="2026-02-13T22:00:51.960578" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:00:51.960806" level="INFO">${stdout} = [{"parameter": "(root)", "error": "(root)_required", "value": {"address": [{"description": "module1", "uri": "sip:127.0.0.1:5080"}]}, "field": "(root)"}]</msg>
<msg time="2026-02-13T22:00:51.960841" level="INFO">${stderr} = Validation errors: [(root): domain is required]</msg>
<msg time="2026-02-13T22:00:51.960868" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:50.363087" elapsed="1.597798"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:51.961476" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:51.961084" elapsed="0.000472"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:00:51.962051" elapsed="0.000029"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:00:51.961678" elapsed="0.000686"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:51.962654" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {"address": [{"description": "module1", "uri": "sip:127.0.0.1:5080"}]}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:00:51.962531" elapsed="0.000142"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:51.962416" elapsed="0.000282"/>
</branch>
<status status="PASS" start="2026-02-13T22:00:51.961644" elapsed="0.001070"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:00:51.962746" elapsed="0.000038"/>
</return>
<msg time="2026-02-13T22:00:51.962886" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {"address": [{"description": "module1", "uri": "sip:127.0.0.1:5080"}]}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-route</arg>
<arg>{"address": [{"uri": "sip:127.0.0.1:5080", "description": "module1"}]}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:00:50.362831" elapsed="1.600072"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:50.362544" elapsed="1.600446"/>
</test>
<test id="s1-s3-s1-t3" name="Address list is required" line="14">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:51.963810" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-route --data '{"domain": "ns8.test"}''.</msg>
<msg time="2026-02-13T22:00:53.449630" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:00:53.449897" level="INFO">${stdout} = [{"parameter": "(root)", "error": "(root)_required", "value": {"domain": "ns8.test"}, "field": "(root)"}]</msg>
<msg time="2026-02-13T22:00:53.449931" level="INFO">${stderr} = Validation errors: [(root): address is required]</msg>
<msg time="2026-02-13T22:00:53.449971" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:51.963679" elapsed="1.486309"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:53.450491" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:53.450195" elapsed="0.000345"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:00:53.450883" elapsed="0.000016"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:00:53.450632" elapsed="0.000293"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:53.451184" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {"domain": "ns8.test"}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:00:53.451024" elapsed="0.000177"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:53.450962" elapsed="0.000265"/>
</branch>
<status status="PASS" start="2026-02-13T22:00:53.450609" elapsed="0.000636"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:00:53.451282" elapsed="0.000038"/>
</return>
<msg time="2026-02-13T22:00:53.451438" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {"domain": "ns8.test"}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-route</arg>
<arg>{"domain": "ns8.test"}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:00:51.963449" elapsed="1.488005"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:51.963124" elapsed="1.488417"/>
</test>
<test id="s1-s3-s1-t4" name="Domain can't be empty" line="18">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:53.452751" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-route --data '{"domain":"", "address":[{"uri": "sip:127.0.0.1:5080", "description": "module1"}]}''.</msg>
<msg time="2026-02-13T22:00:55.659701" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:00:55.659938" level="INFO">${stdout} = [{"parameter": "domain", "error": "domain_string_gte", "value": "", "field": "domain"}]</msg>
<msg time="2026-02-13T22:00:55.659970" level="INFO">${stderr} = Validation errors: [domain: String length must be greater than or equal to 1]</msg>
<msg time="2026-02-13T22:00:55.659997" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:53.452605" elapsed="2.207408"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:55.660478" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:55.660208" elapsed="0.000316"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:00:55.660809" elapsed="0.000014"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:00:55.660596" elapsed="0.000255"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:55.661129" level="INFO">${response} = [{"parameter": "domain", "error": "domain_string_gte", "value": "", "field": "domain"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:00:55.660950" elapsed="0.000196"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:55.660877" elapsed="0.000288"/>
</branch>
<status status="PASS" start="2026-02-13T22:00:55.660574" elapsed="0.000603"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:00:55.661206" elapsed="0.000036"/>
</return>
<msg time="2026-02-13T22:00:55.661355" level="INFO">${response} = [{"parameter": "domain", "error": "domain_string_gte", "value": "", "field": "domain"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-route</arg>
<arg>{"domain":"", "address":[{"uri": "sip:127.0.0.1:5080", "description": "module1"}]}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:00:53.452329" elapsed="2.209040"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:53.451762" elapsed="2.209683"/>
</test>
<test id="s1-s3-s1-t5" name="Address list can't be empty" line="22">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:55.662458" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-route --data '{"domain":"ns8.test", "address":[]}''.</msg>
<msg time="2026-02-13T22:00:58.281986" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:00:58.282252" level="INFO">${stdout} = [{"parameter": "address", "error": "address_array_min_items", "value": [], "field": "address"}]</msg>
<msg time="2026-02-13T22:00:58.282288" level="INFO">${stderr} = Validation errors: [address: Array must have at least 1 items]</msg>
<msg time="2026-02-13T22:00:58.282317" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:55.662316" elapsed="2.620018"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:58.282787" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:58.282516" elapsed="0.000321"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:00:58.283167" elapsed="0.000016"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:00:58.282918" elapsed="0.000294"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:58.283376" level="INFO">${response} = [{"parameter": "address", "error": "address_array_min_items", "value": [], "field": "address"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:00:58.283283" elapsed="0.000106"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:58.283233" elapsed="0.000175"/>
</branch>
<status status="PASS" start="2026-02-13T22:00:58.282894" elapsed="0.000525"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:00:58.283447" elapsed="0.000032"/>
</return>
<msg time="2026-02-13T22:00:58.283563" level="INFO">${response} = [{"parameter": "address", "error": "address_array_min_items", "value": [], "field": "address"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-route</arg>
<arg>{"domain":"ns8.test", "address":[]}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:00:55.661997" elapsed="2.621579"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:55.661559" elapsed="2.622092"/>
</test>
<test id="s1-s3-s1-t6" name="URI field is required" line="26">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:58.284458" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-route --data '{"domain":"ns8.test", "address":[{"description": "module1"}]}''.</msg>
<msg time="2026-02-13T22:00:59.542646" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:00:59.542876" level="INFO">${stdout} = [{"parameter": "address", "error": "address_required", "value": {"description": "module1"}, "field": "address.0"}]</msg>
<msg time="2026-02-13T22:00:59.542910" level="INFO">${stderr} = Validation errors: [address.0: uri is required]</msg>
<msg time="2026-02-13T22:00:59.542938" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:58.284324" elapsed="1.258631"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:00:59.543426" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:00:59.543155" elapsed="0.000319"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:00:59.543787" elapsed="0.000016"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:00:59.543555" elapsed="0.000274"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:00:59.544020" level="INFO">${response} = [{"parameter": "address", "error": "address_required", "value": {"description": "module1"}, "field": "address.0"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:00:59.543911" elapsed="0.000136"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:59.543850" elapsed="0.000220"/>
</branch>
<status status="PASS" start="2026-02-13T22:00:59.543529" elapsed="0.000564"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:00:59.544129" elapsed="0.000038"/>
</return>
<msg time="2026-02-13T22:00:59.544265" level="INFO">${response} = [{"parameter": "address", "error": "address_required", "value": {"description": "module1"}, "field": "address.0"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-route</arg>
<arg>{"domain":"ns8.test", "address":[{"description": "module1"}]}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:00:58.284088" elapsed="1.260193"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:58.283769" elapsed="1.260598"/>
</test>
<test id="s1-s3-s1-t7" name="URI field is can't be empty" line="30">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:00:59.545215" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-route --data '{"domain":"ns8.test", "address":[{"uri": "", "description": "module1"}]}''.</msg>
<msg time="2026-02-13T22:01:00.871966" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:00.872348" level="INFO">${stdout} = [{"parameter": "address", "error": "address_string_gte", "value": "", "field": "address.0.uri"}]</msg>
<msg time="2026-02-13T22:01:00.872411" level="INFO">${stderr} = Validation errors: [address.0.uri: String length must be greater than or equal to 1]</msg>
<msg time="2026-02-13T22:01:00.872461" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:00:59.545042" elapsed="1.327456"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:00.873057" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:00.872761" elapsed="0.000343"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:00.873487" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:00.873274" elapsed="0.000257"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:00.873698" level="INFO">${response} = [{"parameter": "address", "error": "address_string_gte", "value": "", "field": "address.0.uri"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:00.873597" elapsed="0.000115"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:00.873548" elapsed="0.000182"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:00.873252" elapsed="0.000489"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:00.873772" elapsed="0.000049"/>
</return>
<msg time="2026-02-13T22:01:00.873917" level="INFO">${response} = [{"parameter": "address", "error": "address_string_gte", "value": "", "field": "address.0.uri"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-route</arg>
<arg>{"domain":"ns8.test", "address":[{"uri": "", "description": "module1"}]}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:00:59.544801" elapsed="1.329144"/>
</kw>
<status status="PASS" start="2026-02-13T22:00:59.544489" elapsed="1.329527"/>
</test>
<test id="s1-s3-s1-t8" name="Description field is required" line="34">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:00.875046" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-route --data '{"domain":"ns8.test", "address":[{"uri": "sip:127.0.0.1:5080"}]}''.</msg>
<msg time="2026-02-13T22:01:02.230195" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:02.230461" level="INFO">${stdout} = [{"parameter": "address", "error": "address_required", "value": {"uri": "sip:127.0.0.1:5080"}, "field": "address.0"}]</msg>
<msg time="2026-02-13T22:01:02.230539" level="INFO">${stderr} = Validation errors: [address.0: description is required]</msg>
<msg time="2026-02-13T22:01:02.230592" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:00.874694" elapsed="1.355928"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:02.231352" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:02.230886" elapsed="0.000560"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:02.231993" elapsed="0.000028"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:02.231620" elapsed="0.000467"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:02.232441" level="INFO">${response} = [{"parameter": "address", "error": "address_required", "value": {"uri": "sip:127.0.0.1:5080"}, "field": "address.0"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:02.232249" elapsed="0.000223"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:02.232142" elapsed="0.000370"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:02.231558" elapsed="0.000979"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:02.232590" elapsed="0.000056"/>
</return>
<msg time="2026-02-13T22:01:02.232734" level="INFO">${response} = [{"parameter": "address", "error": "address_required", "value": {"uri": "sip:127.0.0.1:5080"}, "field": "address.0"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-route</arg>
<arg>{"domain":"ns8.test", "address":[{"uri": "sip:127.0.0.1:5080"}]}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:00.874452" elapsed="1.358295"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:00.874138" elapsed="1.358696"/>
</test>
<status status="PASS" start="2026-02-13T22:00:49.012402" elapsed="13.220660"/>
</suite>
<suite id="s1-s3-s2" name="00 Add Trunk Validate" source="/home/pwuser/ns8-module/tests/10_actions/00_add_trunk_validate.robot">
<test id="s1-s3-s2-t1" name="Input can't be empty" line="6">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:02.235618" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-trunk --data '{}''.</msg>
<msg time="2026-02-13T22:01:03.568679" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:03.568997" level="INFO">${stdout} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}, {"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<msg time="2026-02-13T22:01:03.569078" level="INFO">${stderr} = Validation errors: [(root): rule is required (root): destination is required]</msg>
<msg time="2026-02-13T22:01:03.569138" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:02.235475" elapsed="1.333691"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:03.569930" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:03.569473" elapsed="0.000540"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:03.570451" elapsed="0.000013"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:03.570188" elapsed="0.000299"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:03.570646" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}, {"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:03.570558" elapsed="0.000102"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:03.570507" elapsed="0.000171"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:03.570149" elapsed="0.000540"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:03.570719" elapsed="0.000038"/>
</return>
<msg time="2026-02-13T22:01:03.570962" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}, {"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-trunk</arg>
<arg>{}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:02.235203" elapsed="1.335785"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:02.234847" elapsed="1.336229"/>
</test>
<test id="s1-s3-s2-t2" name="Rule is required" line="10">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:03.571875" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-trunk --data '{"destination": {"uri": "sip:127.0.0.1:5080", "description": "module1"}}''.</msg>
<msg time="2026-02-13T22:01:04.960630" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:04.960893" level="INFO">${stdout} = [{"parameter": "(root)", "error": "(root)_required", "value": {"destination": {"description": "module1", "uri": "sip:127.0.0.1:5080"}}, "field": "(root)"}]</msg>
<msg time="2026-02-13T22:01:04.960938" level="INFO">${stderr} = Validation errors: [(root): rule is required]</msg>
<msg time="2026-02-13T22:01:04.960977" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:03.571745" elapsed="1.389253"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:04.961686" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:04.961283" elapsed="0.000480"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:04.962388" elapsed="0.000013"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:04.961975" elapsed="0.000448"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:04.962628" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {"destination": {"description": "module1", "uri": "sip:127.0.0.1:5080"}}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:04.962514" elapsed="0.000130"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:04.962448" elapsed="0.000215"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:04.961885" elapsed="0.000790"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:04.962720" elapsed="0.000069"/>
</return>
<msg time="2026-02-13T22:01:04.962902" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {"destination": {"description": "module1", "uri": "sip:127.0.0.1:5080"}}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-trunk</arg>
<arg>{"destination": {"uri": "sip:127.0.0.1:5080", "description": "module1"}}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:03.571510" elapsed="1.391406"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:03.571190" elapsed="1.391822"/>
</test>
<test id="s1-s3-s2-t3" name="Destination is required" line="14">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:04.963945" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-trunk --data '{"rule": "05551594XX"}''.</msg>
<msg time="2026-02-13T22:01:06.301213" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:06.301443" level="INFO">${stdout} = [{"parameter": "(root)", "error": "(root)_required", "value": {"rule": "05551594XX"}, "field": "(root)"}]</msg>
<msg time="2026-02-13T22:01:06.301477" level="INFO">${stderr} = Validation errors: [(root): destination is required]</msg>
<msg time="2026-02-13T22:01:06.301504" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:04.963792" elapsed="1.337728"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:06.301975" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:06.301701" elapsed="0.000323"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:06.302426" elapsed="0.000017"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:06.302178" elapsed="0.000295"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:06.302675" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {"rule": "05551594XX"}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:06.302558" elapsed="0.000135"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:06.302494" elapsed="0.000224"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:06.302150" elapsed="0.000583"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:06.302765" elapsed="0.000037"/>
</return>
<msg time="2026-02-13T22:01:06.302902" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {"rule": "05551594XX"}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-trunk</arg>
<arg>{"rule": "05551594XX"}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:04.963526" elapsed="1.339393"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:04.963168" elapsed="1.339840"/>
</test>
<test id="s1-s3-s2-t4" name="Rule can't be empty" line="18">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:06.303924" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-trunk --data '{"rule":"", "destination":{"uri": "sip:127.0.0.1:5080", "description": "module1"}}''.</msg>
<msg time="2026-02-13T22:01:07.576265" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:07.576495" level="INFO">${stdout} = [{"parameter": "rule", "error": "rule_string_gte", "value": "", "field": "rule"}]</msg>
<msg time="2026-02-13T22:01:07.576529" level="INFO">${stderr} = Validation errors: [rule: String length must be greater than or equal to 1]</msg>
<msg time="2026-02-13T22:01:07.576557" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:06.303768" elapsed="1.272875"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:07.577084" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:07.576826" elapsed="0.000306"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:07.577417" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:07.577202" elapsed="0.000249"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:07.577628" level="INFO">${response} = [{"parameter": "rule", "error": "rule_string_gte", "value": "", "field": "rule"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:07.577520" elapsed="0.000121"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:07.577469" elapsed="0.000191"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:07.577181" elapsed="0.000490"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:07.577698" elapsed="0.000033"/>
</return>
<msg time="2026-02-13T22:01:07.577812" level="INFO">${response} = [{"parameter": "rule", "error": "rule_string_gte", "value": "", "field": "rule"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-trunk</arg>
<arg>{"rule":"", "destination":{"uri": "sip:127.0.0.1:5080", "description": "module1"}}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:06.303492" elapsed="1.274333"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:06.303152" elapsed="1.274744"/>
</test>
<test id="s1-s3-s2-t5" name="Destination can't be empty" line="22">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:07.578671" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-trunk --data '{"rule":"05551594XX", "destination":{}}''.</msg>
<msg time="2026-02-13T22:01:08.886266" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:08.886580" level="INFO">${stdout} = [{"parameter": "destination", "error": "destination_required", "value": {}, "field": "destination"}, {"parameter": "destination", "error": "destination_required", "value": {}, "field": "destination"}]</msg>
<msg time="2026-02-13T22:01:08.886642" level="INFO">${stderr} = Validation errors: [destination: uri is required destination: description is required]</msg>
<msg time="2026-02-13T22:01:08.886692" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:07.578544" elapsed="1.308175"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:08.887461" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:08.886976" elapsed="0.000571"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:08.887946" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:08.887674" elapsed="0.000306"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:08.888148" level="INFO">${response} = [{"parameter": "destination", "error": "destination_required", "value": {}, "field": "destination"}, {"parameter": "destination", "error": "destination_required", "value": {}, "field": "destination"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:08.888057" elapsed="0.000105"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:08.887999" elapsed="0.000181"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:08.887638" elapsed="0.000553"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:08.888220" elapsed="0.000038"/>
</return>
<msg time="2026-02-13T22:01:08.888345" level="INFO">${response} = [{"parameter": "destination", "error": "destination_required", "value": {}, "field": "destination"}, {"parameter": "destination", "error": "destination_required", "value": {}, "field": "destination"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-trunk</arg>
<arg>{"rule":"05551594XX", "destination":{}}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:07.578316" elapsed="1.310043"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:07.577996" elapsed="1.310439"/>
</test>
<test id="s1-s3-s2-t6" name="URI field is required" line="26">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:08.889375" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-trunk --data '{"rule":"05551594XX", "destination":{"description": "module1"}}''.</msg>
<msg time="2026-02-13T22:01:10.165238" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:10.165481" level="INFO">${stdout} = [{"parameter": "destination", "error": "destination_required", "value": {"description": "module1"}, "field": "destination"}]</msg>
<msg time="2026-02-13T22:01:10.165574" level="INFO">${stderr} = Validation errors: [destination: uri is required]</msg>
<msg time="2026-02-13T22:01:10.165638" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:08.889198" elapsed="1.276468"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:10.166461" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:10.165954" elapsed="0.000549"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:10.166785" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:10.166572" elapsed="0.000246"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:10.167118" level="INFO">${response} = [{"parameter": "destination", "error": "destination_required", "value": {"description": "module1"}, "field": "destination"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:10.166889" elapsed="0.000244"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:10.166836" elapsed="0.000316"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:10.166551" elapsed="0.000613"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:10.167190" elapsed="0.000033"/>
</return>
<msg time="2026-02-13T22:01:10.167307" level="INFO">${response} = [{"parameter": "destination", "error": "destination_required", "value": {"description": "module1"}, "field": "destination"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-trunk</arg>
<arg>{"rule":"05551594XX", "destination":{"description": "module1"}}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:08.888850" elapsed="1.278470"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:08.888554" elapsed="1.278838"/>
</test>
<test id="s1-s3-s2-t7" name="URI field can't be empty" line="30">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:10.168152" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-trunk --data '{"rule":"05551594XX", "destination":{"uri": "", "description": "module1"}}''.</msg>
<msg time="2026-02-13T22:01:11.426628" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:11.426999" level="INFO">${stdout} = [{"parameter": "destination", "error": "destination_string_gte", "value": "", "field": "destination.uri"}]</msg>
<msg time="2026-02-13T22:01:11.427056" level="INFO">${stderr} = Validation errors: [destination.uri: String length must be greater than or equal to 1]</msg>
<msg time="2026-02-13T22:01:11.427092" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:10.168011" elapsed="1.259104"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:11.428307" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:11.427514" elapsed="0.000995"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:11.429753" elapsed="0.000086"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:11.428752" elapsed="0.001316"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:11.431945" level="INFO">${response} = [{"parameter": "destination", "error": "destination_string_gte", "value": "", "field": "destination.uri"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:11.430649" elapsed="0.001334"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:11.430233" elapsed="0.001782"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:11.428677" elapsed="0.003376"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:11.432134" elapsed="0.000086"/>
</return>
<msg time="2026-02-13T22:01:11.432391" level="INFO">${response} = [{"parameter": "destination", "error": "destination_string_gte", "value": "", "field": "destination.uri"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-trunk</arg>
<arg>{"rule":"05551594XX", "destination":{"uri": "", "description": "module1"}}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:10.167783" elapsed="1.264631"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:10.167496" elapsed="1.265070"/>
</test>
<test id="s1-s3-s2-t8" name="Description field is required" line="34">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:11.434391" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-trunk --data '{"rule":"05551594XX", "destination":{"uri": "sip:127.0.0.1:5080"}}''.</msg>
<msg time="2026-02-13T22:01:12.685209" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:12.685594" level="INFO">${stdout} = [{"parameter": "destination", "error": "destination_required", "value": {"uri": "sip:127.0.0.1:5080"}, "field": "destination"}]</msg>
<msg time="2026-02-13T22:01:12.685636" level="INFO">${stderr} = Validation errors: [destination: description is required]</msg>
<msg time="2026-02-13T22:01:12.685669" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:11.434092" elapsed="1.251596"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:12.686266" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:12.685953" elapsed="0.000369"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:12.686652" elapsed="0.000013"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:12.686412" elapsed="0.000275"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:12.686846" level="INFO">${response} = [{"parameter": "destination", "error": "destination_required", "value": {"uri": "sip:127.0.0.1:5080"}, "field": "destination"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:12.686754" elapsed="0.000106"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:12.686704" elapsed="0.000175"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:12.686381" elapsed="0.000510"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:12.686918" elapsed="0.000035"/>
</return>
<msg time="2026-02-13T22:01:12.687053" level="INFO">${response} = [{"parameter": "destination", "error": "destination_required", "value": {"uri": "sip:127.0.0.1:5080"}, "field": "destination"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-trunk</arg>
<arg>{"rule":"05551594XX", "destination":{"uri": "sip:127.0.0.1:5080"}}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:11.433521" elapsed="1.253550"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:11.432878" elapsed="1.254279"/>
</test>
<test id="s1-s3-s2-t9" name="Description field can't be empty" line="38">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:12.688039" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-trunk --data '{"rule":"05551594XX", "destination":{"uri": "sip:127.0.0.1:5080", "description": ""}}''.</msg>
<msg time="2026-02-13T22:01:13.973292" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:13.973535" level="INFO">${stdout} = [{"parameter": "destination", "error": "destination_string_gte", "value": "", "field": "destination.description"}]</msg>
<msg time="2026-02-13T22:01:13.973569" level="INFO">${stderr} = Validation errors: [destination.description: String length must be greater than or equal to 1]</msg>
<msg time="2026-02-13T22:01:13.973595" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:12.687901" elapsed="1.285712"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:13.974173" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:13.973821" elapsed="0.000422"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:13.974548" elapsed="0.000013"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:13.974337" elapsed="0.000245"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:13.974747" level="INFO">${response} = [{"parameter": "destination", "error": "destination_string_gte", "value": "", "field": "destination.description"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:13.974653" elapsed="0.000108"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:13.974603" elapsed="0.000176"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:13.974315" elapsed="0.000475"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:13.974817" elapsed="0.000033"/>
</return>
<msg time="2026-02-13T22:01:13.974933" level="INFO">${response} = [{"parameter": "destination", "error": "destination_string_gte", "value": "", "field": "destination.description"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-trunk</arg>
<arg>{"rule":"05551594XX", "destination":{"uri": "sip:127.0.0.1:5080", "description": ""}}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:12.687577" elapsed="1.287369"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:12.687270" elapsed="1.287750"/>
</test>
<status status="PASS" start="2026-02-13T22:01:02.233249" elapsed="11.741973"/>
</suite>
<suite id="s1-s3-s3" name="00 Configure Module Validate" source="/home/pwuser/ns8-module/tests/10_actions/00_configure_module_validate.robot">
<test id="s1-s3-s3-t1" name="FQDN cannot be empty" line="7">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:13.977278" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/configure-module --data '{"fqdn": "", "addresses": {"address": "127.0.0.1"}}''.</msg>
<msg time="2026-02-13T22:01:15.202942" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:15.203288" level="INFO">${stdout} = [{"parameter": "fqdn", "error": "fqdn_string_gte", "value": "", "field": "fqdn"}, {"parameter": "fqdn", "error": "fqdn_format", "value": "", "field": "fqdn"}]</msg>
<msg time="2026-02-13T22:01:15.203349" level="INFO">${stderr} = Validation errors: [fqdn: String length must be greater than or equal to 1 fqdn: Does not match format 'hostname']</msg>
<msg time="2026-02-13T22:01:15.203397" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:13.977149" elapsed="1.226278"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:15.204119" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:15.203674" elapsed="0.000535"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:15.204498" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:15.204288" elapsed="0.000245"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:15.204692" level="INFO">${response} = [{"parameter": "fqdn", "error": "fqdn_string_gte", "value": "", "field": "fqdn"}, {"parameter": "fqdn", "error": "fqdn_format", "value": "", "field": "fqdn"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:15.204602" elapsed="0.000104"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:15.204551" elapsed="0.000174"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:15.204268" elapsed="0.000469"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:15.204764" elapsed="0.000034"/>
</return>
<msg time="2026-02-13T22:01:15.204883" level="INFO">${response} = [{"parameter": "fqdn", "error": "fqdn_string_gte", "value": "", "field": "fqdn"}, {"parameter": "fqdn", "error": "fqdn_format", "value": "", "field": "fqdn"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/configure-module</arg>
<arg>{"fqdn": "", "addresses": {"address": "127.0.0.1"}}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:13.976889" elapsed="1.228008"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:13.976632" elapsed="1.228344"/>
</test>
<test id="s1-s3-s3-t2" name="FQDN must be a valid domain name" line="11">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:15.205734" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/configure-module --data '{"fqdn": "example@#$", "addresses": {"address": "127.0.0.1"}}''.</msg>
<msg time="2026-02-13T22:01:16.452275" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:16.452507" level="INFO">${stdout} = [{"parameter": "fqdn", "error": "fqdn_format", "value": "example@#$", "field": "fqdn"}]</msg>
<msg time="2026-02-13T22:01:16.452539" level="INFO">${stderr} = Validation errors: [fqdn: Does not match format 'hostname']</msg>
<msg time="2026-02-13T22:01:16.452565" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:15.205610" elapsed="1.246974"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:16.453559" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:16.452958" elapsed="0.000693"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:16.454021" elapsed="0.000028"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:16.453783" elapsed="0.000297"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:16.454277" level="INFO">${response} = [{"parameter": "fqdn", "error": "fqdn_format", "value": "example@#$", "field": "fqdn"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:16.454165" elapsed="0.000130"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:16.454104" elapsed="0.000213"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:16.453746" elapsed="0.000586"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:16.454362" elapsed="0.000036"/>
</return>
<msg time="2026-02-13T22:01:16.454495" level="INFO">${response} = [{"parameter": "fqdn", "error": "fqdn_format", "value": "example@#$", "field": "fqdn"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/configure-module</arg>
<arg>{"fqdn": "example@#$", "addresses": {"address": "127.0.0.1"}}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:15.205385" elapsed="1.249127"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:15.205096" elapsed="1.249538"/>
</test>
<test id="s1-s3-s3-t3" name="Address in addresses configuration is required" line="15">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:16.455961" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/configure-module --data '{"fqdn": "example.com", "addresses": {"public_address": "127.0.0.1"}}''.</msg>
<msg time="2026-02-13T22:01:17.628939" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:17.629307" level="INFO">${stdout} = [{"parameter": "addresses", "error": "addresses_required", "value": {"public_address": "127.0.0.1"}, "field": "addresses"}]</msg>
<msg time="2026-02-13T22:01:17.629368" level="INFO">${stderr} = Validation errors: [addresses: address is required]</msg>
<msg time="2026-02-13T22:01:17.629417" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:16.455825" elapsed="1.173622"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:17.630162" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:17.629707" elapsed="0.000540"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:17.630749" elapsed="0.000027"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:17.630374" elapsed="0.000450"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:17.631091" level="INFO">${response} = [{"parameter": "addresses", "error": "addresses_required", "value": {"public_address": "127.0.0.1"}, "field": "addresses"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:17.630965" elapsed="0.000141"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:17.630861" elapsed="0.000263"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:17.630338" elapsed="0.000797"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:17.631163" elapsed="0.000037"/>
</return>
<msg time="2026-02-13T22:01:17.631286" level="INFO">${response} = [{"parameter": "addresses", "error": "addresses_required", "value": {"public_address": "127.0.0.1"}, "field": "addresses"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/configure-module</arg>
<arg>{"fqdn": "example.com", "addresses": {"public_address": "127.0.0.1"}}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:16.455352" elapsed="1.175948"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:16.454816" elapsed="1.176563"/>
</test>
<test id="s1-s3-s3-t4" name="Address and public_address in addresses configuration must be a valid address" line="19">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:17.632215" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/configure-module --data '{"fqdn": "example.com", "addresses": {"address": "A", "public_address": "B"}}''.</msg>
<msg time="2026-02-13T22:01:18.879761" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:18.880134" level="INFO">${stdout} = [{"parameter": "addresses", "error": "addresses_format", "value": "A", "field": "addresses.address"}, {"parameter": "addresses", "error": "addresses_format", "value": "B", "field": "addresses.public_a...</msg>
<msg time="2026-02-13T22:01:18.880171" level="INFO">${stderr} = Validation errors: [addresses.address: Does not match format 'ipv4' addresses.public_address: Does not match format 'ipv4']</msg>
<msg time="2026-02-13T22:01:18.880200" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:17.632080" elapsed="1.248148"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:18.880708" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:18.880431" elapsed="0.000326"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:18.881109" elapsed="0.000016"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:18.880838" elapsed="0.000314"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:18.881353" level="INFO">${response} = [{"parameter": "addresses", "error": "addresses_format", "value": "A", "field": "addresses.address"}, {"parameter": "addresses", "error": "addresses_format", "value": "B", "field": "addresses.public_a...</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:18.881235" elapsed="0.000247"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:18.881173" elapsed="0.000330"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:18.880813" elapsed="0.000703"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:18.881547" elapsed="0.000037"/>
</return>
<msg time="2026-02-13T22:01:18.881687" level="INFO">${response} = [{"parameter": "addresses", "error": "addresses_format", "value": "A", "field": "addresses.address"}, {"parameter": "addresses", "error": "addresses_format", "value": "B", "field": "addresses.public_a...</msg>
<var>${response}</var>
<arg>module/${module_id}/configure-module</arg>
<arg>{"fqdn": "example.com", "addresses": {"address": "A", "public_address": "B"}}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:17.631803" elapsed="1.249898"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:17.631499" elapsed="1.250277"/>
</test>
<test id="s1-s3-s3-t5" name="Service network's configuration must present if service_network is present" line="23">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:18.882636" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/configure-module --data '{"fqdn": "example.com", "addresses": {"address": "127.0.0.1"}, "service_network": {}}''.</msg>
<msg time="2026-02-13T22:01:20.066757" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:20.067004" level="INFO">${stdout} = [{"parameter": "service_network", "error": "service_network_required", "value": {}, "field": "service_network"}, {"parameter": "service_network", "error": "service_network_required", "value": {}, "fie...</msg>
<msg time="2026-02-13T22:01:20.067064" level="INFO">${stderr} = Validation errors: [service_network: address is required service_network: netmask is required]</msg>
<msg time="2026-02-13T22:01:20.067093" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:18.882506" elapsed="1.184610"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:20.067574" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:20.067305" elapsed="0.000312"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:20.067905" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:20.067691" elapsed="0.000248"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:20.068125" level="INFO">${response} = [{"parameter": "service_network", "error": "service_network_required", "value": {}, "field": "service_network"}, {"parameter": "service_network", "error": "service_network_required", "value": {}, "fie...</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:20.068013" elapsed="0.000127"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:20.067960" elapsed="0.000198"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:20.067667" elapsed="0.000503"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:20.068198" elapsed="0.000036"/>
</return>
<msg time="2026-02-13T22:01:20.068320" level="INFO">${response} = [{"parameter": "service_network", "error": "service_network_required", "value": {}, "field": "service_network"}, {"parameter": "service_network", "error": "service_network_required", "value": {}, "fie...</msg>
<var>${response}</var>
<arg>module/${module_id}/configure-module</arg>
<arg>{"fqdn": "example.com", "addresses": {"address": "127.0.0.1"}, "service_network": {}}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:18.882242" elapsed="1.186092"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:18.881898" elapsed="1.186514"/>
</test>
<test id="s1-s3-s3-t6" name="Service network's address and netmask must both be present" line="27">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:20.069233" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/configure-module --data '{"fqdn": "example.com", "addresses": {"address": "127.0.0.1"}, "service_network": {"address": "10.5.4.0.1"}}''.</msg>
<msg time="2026-02-13T22:01:21.365002" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:21.365487" level="INFO">${stdout} = [{"parameter": "service_network", "error": "service_network_required", "value": {"address": "10.5.4.0.1"}, "field": "service_network"}, {"parameter": "service_network", "error": "service_network_forma...</msg>
<msg time="2026-02-13T22:01:21.365550" level="INFO">${stderr} = Validation errors: [service_network: netmask is required service_network.address: Does not match format 'ipv4']</msg>
<msg time="2026-02-13T22:01:21.365617" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:20.069108" elapsed="1.296542"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:21.366345" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:21.365905" elapsed="0.000488"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:21.366677" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:21.366463" elapsed="0.000246"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:21.366880" level="INFO">${response} = [{"parameter": "service_network", "error": "service_network_required", "value": {"address": "10.5.4.0.1"}, "field": "service_network"}, {"parameter": "service_network", "error": "service_network_forma...</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:21.366776" elapsed="0.000118"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:21.366727" elapsed="0.000186"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:21.366441" elapsed="0.000484"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:21.366951" elapsed="0.000035"/>
</return>
<msg time="2026-02-13T22:01:21.367236" level="INFO">${response} = [{"parameter": "service_network", "error": "service_network_required", "value": {"address": "10.5.4.0.1"}, "field": "service_network"}, {"parameter": "service_network", "error": "service_network_forma...</msg>
<var>${response}</var>
<arg>module/${module_id}/configure-module</arg>
<arg>{"fqdn": "example.com", "addresses": {"address": "127.0.0.1"}, "service_network": {"address": "10.5.4.0.1"}}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:20.068850" elapsed="1.298405"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:21.367801" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/configure-module --data '{"fqdn": "example.com", "addresses": {"address": "127.0.0.1"}, "service_network": {"netmask": "10.5.4.0/24"}}''.</msg>
<msg time="2026-02-13T22:01:22.695175" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:22.695441" level="INFO">${stdout} = [{"parameter": "service_network", "error": "service_network_required", "value": {"netmask": "10.5.4.0/24"}, "field": "service_network"}]</msg>
<msg time="2026-02-13T22:01:22.695477" level="INFO">${stderr} = Validation errors: [service_network: address is required]</msg>
<msg time="2026-02-13T22:01:22.695501" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:21.367677" elapsed="1.327839"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:22.696064" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:22.695757" elapsed="0.000363"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:22.696441" elapsed="0.000014"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:22.696201" elapsed="0.000277"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:22.696656" level="INFO">${response} = [{"parameter": "service_network", "error": "service_network_required", "value": {"netmask": "10.5.4.0/24"}, "field": "service_network"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:22.696559" elapsed="0.000111"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:22.696498" elapsed="0.000190"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:22.696171" elapsed="0.000529"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:22.696727" elapsed="0.000035"/>
</return>
<msg time="2026-02-13T22:01:22.696847" level="INFO">${response} = [{"parameter": "service_network", "error": "service_network_required", "value": {"netmask": "10.5.4.0/24"}, "field": "service_network"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/configure-module</arg>
<arg>{"fqdn": "example.com", "addresses": {"address": "127.0.0.1"}, "service_network": {"netmask": "10.5.4.0/24"}}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:21.367437" elapsed="1.329424"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:20.068529" elapsed="2.628407"/>
</test>
<test id="s1-s3-s3-t7" name="Service network's address and netmask must be valid" line="33">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:22.697736" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/configure-module --data '{"fqdn": "example.com", "addresses": {"address": "127.0.0.1"}, "service_network": {"address": "A", "netmask": "10.5.4.0/24"}}''.</msg>
<msg time="2026-02-13T22:01:24.098410" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:24.098622" level="INFO">${stdout} = [{"parameter": "service_network", "error": "service_network_format", "value": "A", "field": "service_network.address"}]</msg>
<msg time="2026-02-13T22:01:24.098650" level="INFO">${stderr} = Validation errors: [service_network.address: Does not match format 'ipv4']</msg>
<msg time="2026-02-13T22:01:24.098672" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:22.697602" elapsed="1.401083"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:24.099154" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:24.098849" elapsed="0.000362"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:24.099539" elapsed="0.000015"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:24.099297" elapsed="0.000284"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:24.099987" level="INFO">${response} = [{"parameter": "service_network", "error": "service_network_format", "value": "A", "field": "service_network.address"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:24.099664" elapsed="0.000341"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:24.099603" elapsed="0.000435"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:24.099273" elapsed="0.000782"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:24.100092" elapsed="0.000036"/>
</return>
<msg time="2026-02-13T22:01:24.100225" level="INFO">${response} = [{"parameter": "service_network", "error": "service_network_format", "value": "A", "field": "service_network.address"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/configure-module</arg>
<arg>{"fqdn": "example.com", "addresses": {"address": "127.0.0.1"}, "service_network": {"address": "A", "netmask": "10.5.4.0/24"}}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:22.697361" elapsed="1.402880"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:24.100852" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/configure-module --data '{"fqdn": "example.com", "addresses": {"address": "127.0.0.1"}, "service_network": {"address": "10.5.4.1", "netmask": "A"}}''.</msg>
<msg time="2026-02-13T22:01:26.408365" level="INFO">Command exited with return code 2.</msg>
<msg time="2026-02-13T22:01:26.408672" level="INFO">${stdout} = [{"field": "service_network.address", "parameter": "service_netmask", "value": "A", "error": "service_network_netmask_is_not_valid"}]</msg>
<msg time="2026-02-13T22:01:26.408880" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:01:26.408936" level="INFO">${rc} = 2</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:24.100699" elapsed="2.308268"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:26.409696" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:26.409260" elapsed="0.000519"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:26.410311" elapsed="0.000028"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:26.409908" elapsed="0.000477"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:26.410554" level="INFO">${response} = [{"field": "service_network.address", "parameter": "service_netmask", "value": "A", "error": "service_network_netmask_is_not_valid"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:26.410464" elapsed="0.000104"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:26.410414" elapsed="0.000172"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:26.409871" elapsed="0.000727"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:26.410628" elapsed="0.000036"/>
</return>
<msg time="2026-02-13T22:01:26.410752" level="INFO">${response} = [{"field": "service_network.address", "parameter": "service_netmask", "value": "A", "error": "service_network_netmask_is_not_valid"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/configure-module</arg>
<arg>{"fqdn": "example.com", "addresses": {"address": "127.0.0.1"}, "service_network": {"address": "10.5.4.1", "netmask": "A"}}</arg>
<arg>rc_expected=2</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:24.100425" elapsed="2.310341"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:22.697054" elapsed="3.713790"/>
</test>
<test id="s1-s3-s3-t8" name="Networks in local networks list must be valid" line="39">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:26.411681" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/configure-module --data '{"fqdn": "example.com", "addresses": {"address": "127.0.0.1"}, "local_networks": ["A"]}''.</msg>
<msg time="2026-02-13T22:01:28.063170" level="INFO">Command exited with return code 3.</msg>
<msg time="2026-02-13T22:01:28.063469" level="INFO">${stdout} = [{"field": "service_networks", "value": "A", "error": "local_network_netmask_is_not_valid"}]</msg>
<msg time="2026-02-13T22:01:28.063513" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:01:28.063548" level="INFO">${rc} = 3</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:26.411537" elapsed="1.652033"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:28.064150" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:28.063768" elapsed="0.000483"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:28.064740" elapsed="0.000028"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:28.064374" elapsed="0.000442"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:28.065126" level="INFO">${response} = [{"field": "service_networks", "value": "A", "error": "local_network_netmask_is_not_valid"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:28.064957" elapsed="0.000183"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:28.064851" elapsed="0.000309"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:28.064339" elapsed="0.000833"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:28.065201" elapsed="0.000033"/>
</return>
<msg time="2026-02-13T22:01:28.065319" level="INFO">${response} = [{"field": "service_networks", "value": "A", "error": "local_network_netmask_is_not_valid"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/configure-module</arg>
<arg>{"fqdn": "example.com", "addresses": {"address": "127.0.0.1"}, "local_networks": ["A"]}</arg>
<arg>rc_expected=3</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:26.411281" elapsed="1.654052"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:26.410955" elapsed="1.654455"/>
</test>
<test id="s1-s3-s3-t9" name="lets_encrypt field must be a boolean" line="43">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:28.066179" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/configure-module --data '{"fqdn": "example.com", "addresses": {"address": "127.0.0.1"}, "lets_encrypt": "A"}''.</msg>
<msg time="2026-02-13T22:01:29.336113" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:29.336489" level="INFO">${stdout} = [{"parameter": "lets_encrypt", "error": "lets_encrypt_invalid_type", "value": "A", "field": "lets_encrypt"}]</msg>
<msg time="2026-02-13T22:01:29.336549" level="INFO">${stderr} = Validation errors: [lets_encrypt: Invalid type. Expected: boolean, given: string]</msg>
<msg time="2026-02-13T22:01:29.336599" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:28.066041" elapsed="1.270586"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:29.337076" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:29.336822" elapsed="0.000301"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:29.337406" elapsed="0.000013"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:29.337194" elapsed="0.000334"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:29.337697" level="INFO">${response} = [{"parameter": "lets_encrypt", "error": "lets_encrypt_invalid_type", "value": "A", "field": "lets_encrypt"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:29.337604" elapsed="0.000107"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:29.337548" elapsed="0.000182"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:29.337172" elapsed="0.000570"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:29.337770" elapsed="0.000034"/>
</return>
<msg time="2026-02-13T22:01:29.337887" level="INFO">${response} = [{"parameter": "lets_encrypt", "error": "lets_encrypt_invalid_type", "value": "A", "field": "lets_encrypt"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/configure-module</arg>
<arg>{"fqdn": "example.com", "addresses": {"address": "127.0.0.1"}, "lets_encrypt": "A"}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:28.065803" elapsed="1.272097"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:28.065513" elapsed="1.272463"/>
</test>
<test id="s1-s3-s3-t10" name="Lets encrypt can be enabled only with valid FQDN" line="47">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:29.338726" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/configure-module --data '{"fqdn": "example.com", "addresses": {"address": "127.0.0.1"}, "lets_encrypt": true}''.</msg>
<msg time="2026-02-13T22:01:40.786443" level="INFO">Command exited with return code 3.</msg>
<msg time="2026-02-13T22:01:40.786770" level="INFO">${stdout} = [{"details": "2026-02-13T22:01:39Z unable to generate a certificate for the domains [example.com]: acme: error: 400 :: POST :: https://acme-v02.api.letsencrypt.org/acme/new-order :: urn:ietf:params:ac...</msg>
<msg time="2026-02-13T22:01:40.786833" level="INFO">${stderr} = &lt;3&gt;2026-02-13T22:01:39Z unable to generate a certificate for the domains [example.com]: acme: error: 400 :: POST :: https://acme-v02.api.letsencrypt.org/acme/new-order :: urn:ietf:params:acme:error:re...</msg>
<msg time="2026-02-13T22:01:40.786885" level="INFO">${rc} = 3</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:29.338601" elapsed="11.448313"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:40.787575" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:40.787225" elapsed="0.000409"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:40.787977" elapsed="0.000021"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:40.787722" elapsed="0.000302"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:40.788254" level="INFO">${response} = [{"details": "2026-02-13T22:01:39Z unable to generate a certificate for the domains [example.com]: acme: error: 400 :: POST :: https://acme-v02.api.letsencrypt.org/acme/new-order :: urn:ietf:params:ac...</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:40.788165" elapsed="0.000103"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:40.788085" elapsed="0.000201"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:40.787690" elapsed="0.000607"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:40.788329" elapsed="0.000037"/>
</return>
<msg time="2026-02-13T22:01:40.788455" level="INFO">${response} = [{"details": "2026-02-13T22:01:39Z unable to generate a certificate for the domains [example.com]: acme: error: 400 :: POST :: https://acme-v02.api.letsencrypt.org/acme/new-order :: urn:ietf:params:ac...</msg>
<var>${response}</var>
<arg>module/${module_id}/configure-module</arg>
<arg>{"fqdn": "example.com", "addresses": {"address": "127.0.0.1"}, "lets_encrypt": true}</arg>
<arg>rc_expected=3</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:29.338371" elapsed="11.450098"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:29.338087" elapsed="11.450470"/>
</test>
<status status="PASS" start="2026-02-13T22:01:13.975396" elapsed="26.813364"/>
</suite>
<suite id="s1-s3-s4" name="00 Get Configuration Validate" source="/home/pwuser/ns8-module/tests/10_actions/00_get_configuration_validate.robot">
<test id="s1-s3-s4-t1" name="Get default configuration" line="6">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:40.791250" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-configuration --data '{}''.</msg>
<msg time="2026-02-13T22:01:42.964638" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:01:42.964879" level="INFO">${stdout} = {"addresses": {"address": "127.0.0.1"}, "fqdn": "15174.ns8.invalid", "lets_encrypt": false, "service_network": {"address": "10.5.4.1", "netmask": "10.5.4.0/24"}, "local_networks": []}</msg>
<msg time="2026-02-13T22:01:42.964912" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:01:42.964939" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:40.791098" elapsed="2.173858"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:42.965540" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:42.965153" elapsed="0.000468"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:01:42.966419" level="INFO">${response} = {'addresses': {'address': '127.0.0.1'}, 'fqdn': '15174.ns8.invalid', 'lets_encrypt': False, 'service_network': {'address': '10.5.4.1', 'netmask': '10.5.4.0/24'}, 'local_networks': []}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:01:42.966167" elapsed="0.000268"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:42.965747" elapsed="0.000709"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:42.966529" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:42.966475" elapsed="0.000082"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:42.965713" elapsed="0.000935"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:42.966683" elapsed="0.000035"/>
</return>
<msg time="2026-02-13T22:01:42.966810" level="INFO">${response} = {'addresses': {'address': '127.0.0.1'}, 'fqdn': '15174.ns8.invalid', 'lets_encrypt': False, 'service_network': {'address': '10.5.4.1', 'netmask': '10.5.4.0/24'}, 'local_networks': []}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-configuration</arg>
<arg>{}</arg>
<arg>rc_expected=0</arg>
<status status="PASS" start="2026-02-13T22:01:40.790854" elapsed="2.175971"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:40.790601" elapsed="2.176300"/>
</test>
<status status="PASS" start="2026-02-13T22:01:40.788949" elapsed="2.178128"/>
</suite>
<suite id="s1-s3-s5" name="00 Get Route Validate" source="/home/pwuser/ns8-module/tests/10_actions/00_get_route_validate.robot">
<test id="s1-s3-s5-t1" name="Input can't be empty" line="6">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:42.969076" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-route --data '{}''.</msg>
<msg time="2026-02-13T22:01:44.253837" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:44.254100" level="INFO">${stdout} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<msg time="2026-02-13T22:01:44.254141" level="INFO">${stderr} = Validation errors: [(root): domain is required]</msg>
<msg time="2026-02-13T22:01:44.254169" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:42.968943" elapsed="1.285244"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:44.254674" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:44.254383" elapsed="0.000343"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:44.255099" elapsed="0.000017"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:44.254808" elapsed="0.000336"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:44.255346" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:44.255229" elapsed="0.000135"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:44.255166" elapsed="0.000220"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:44.254783" elapsed="0.000618"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:44.255435" elapsed="0.000037"/>
</return>
<msg time="2026-02-13T22:01:44.255571" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/get-route</arg>
<arg>{}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:42.968722" elapsed="1.286865"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:42.968485" elapsed="1.287189"/>
</test>
<test id="s1-s3-s5-t2" name="Domain can't be empty" line="10">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:44.256807" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-route --data '{"domain":""}''.</msg>
<msg time="2026-02-13T22:01:45.454970" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:45.455324" level="INFO">${stdout} = [{"parameter": "domain", "error": "domain_string_gte", "value": "", "field": "domain"}]</msg>
<msg time="2026-02-13T22:01:45.455385" level="INFO">${stderr} = Validation errors: [domain: String length must be greater than or equal to 1]</msg>
<msg time="2026-02-13T22:01:45.455435" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:44.256664" elapsed="1.198802"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:45.456117" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:45.455719" elapsed="0.000466"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:45.456703" elapsed="0.000042"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:45.456303" elapsed="0.000485"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:45.457043" level="INFO">${response} = [{"parameter": "domain", "error": "domain_string_gte", "value": "", "field": "domain"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:45.456905" elapsed="0.000161"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:45.456818" elapsed="0.000331"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:45.456263" elapsed="0.000906"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:45.457215" elapsed="0.000050"/>
</return>
<msg time="2026-02-13T22:01:45.457410" level="INFO">${response} = [{"parameter": "domain", "error": "domain_string_gte", "value": "", "field": "domain"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/get-route</arg>
<arg>{"domain":""}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:44.256398" elapsed="1.201033"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:44.255794" elapsed="1.201741"/>
</test>
<status status="PASS" start="2026-02-13T22:01:42.967237" elapsed="2.490550"/>
</suite>
<suite id="s1-s3-s6" name="00 Get Trunk Validate" source="/home/pwuser/ns8-module/tests/10_actions/00_get_trunk_validate.robot">
<test id="s1-s3-s6-t1" name="Input can't be empty" line="6">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:45.460340" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-trunk --data '{}''.</msg>
<msg time="2026-02-13T22:01:46.771521" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:46.771999" level="INFO">${stdout} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<msg time="2026-02-13T22:01:46.772084" level="INFO">${stderr} = Validation errors: [(root): rule is required]</msg>
<msg time="2026-02-13T22:01:46.772273" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:45.460204" elapsed="1.312099"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:46.772904" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:46.772553" elapsed="0.000406"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:46.773319" elapsed="0.000015"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:46.773054" elapsed="0.000307"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:46.773557" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:46.773446" elapsed="0.000127"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:46.773384" elapsed="0.000212"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:46.773019" elapsed="0.000591"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:46.773648" elapsed="0.000040"/>
</return>
<msg time="2026-02-13T22:01:46.773776" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/get-trunk</arg>
<arg>{}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:45.459945" elapsed="1.313845"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:45.459676" elapsed="1.314192"/>
</test>
<test id="s1-s3-s6-t2" name="Rule can't be empty" line="10">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:46.774696" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-trunk --data '{"rule":""}''.</msg>
<msg time="2026-02-13T22:01:48.011046" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:48.011361" level="INFO">${stdout} = [{"parameter": "rule", "error": "rule_string_gte", "value": "", "field": "rule"}]</msg>
<msg time="2026-02-13T22:01:48.011420" level="INFO">${stderr} = Validation errors: [rule: String length must be greater than or equal to 1]</msg>
<msg time="2026-02-13T22:01:48.011469" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:46.774559" elapsed="1.236939"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:48.012194" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:48.011751" elapsed="0.000523"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:48.012762" elapsed="0.000028"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:48.012398" elapsed="0.000438"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:48.013205" level="INFO">${response} = [{"parameter": "rule", "error": "rule_string_gte", "value": "", "field": "rule"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:48.012974" elapsed="0.000261"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:48.012870" elapsed="0.000407"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:48.012364" elapsed="0.000937"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:48.013351" elapsed="0.000053"/>
</return>
<msg time="2026-02-13T22:01:48.013566" level="INFO">${response} = [{"parameter": "rule", "error": "rule_string_gte", "value": "", "field": "rule"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/get-trunk</arg>
<arg>{"rule":""}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:46.774320" elapsed="1.239274"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:46.773982" elapsed="1.239752"/>
</test>
<status status="PASS" start="2026-02-13T22:01:45.458088" elapsed="2.555839"/>
</suite>
<suite id="s1-s3-s7" name="00 Remove Route Validate" source="/home/pwuser/ns8-module/tests/10_actions/00_remove_route_validate.robot">
<test id="s1-s3-s7-t1" name="Input can't be empty" line="6">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:48.016172" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/remove-route --data '{}''.</msg>
<msg time="2026-02-13T22:01:49.257344" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:49.257598" level="INFO">${stdout} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<msg time="2026-02-13T22:01:49.257631" level="INFO">${stderr} = Validation errors: [(root): domain is required]</msg>
<msg time="2026-02-13T22:01:49.257659" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:48.016040" elapsed="1.241637"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:49.258247" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:49.257884" elapsed="0.000423"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:49.258648" elapsed="0.000014"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:49.258398" elapsed="0.000288"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:49.258872" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:49.258774" elapsed="0.000112"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:49.258713" elapsed="0.000302"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:49.258364" elapsed="0.000675"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:49.259070" elapsed="0.000049"/>
</return>
<msg time="2026-02-13T22:01:49.259216" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/remove-route</arg>
<arg>{}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:48.015813" elapsed="1.243417"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:48.015586" elapsed="1.243736"/>
</test>
<test id="s1-s3-s7-t2" name="Domain can't be empty" line="10">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:49.260153" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-route --data '{"doamin":""}''.</msg>
<msg time="2026-02-13T22:01:50.438451" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:50.438704" level="INFO">${stdout} = [{"parameter": "(root)", "error": "(root)_required", "value": {"doamin": ""}, "field": "(root)"}, {"parameter": "(root)", "error": "(root)_required", "value": {"doamin": ""}, "field": "(root)"}]</msg>
<msg time="2026-02-13T22:01:50.438757" level="INFO">${stderr} = Validation errors: [(root): domain is required (root): address is required]</msg>
<msg time="2026-02-13T22:01:50.438786" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:49.259998" elapsed="1.178803"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:50.439227" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:50.438973" elapsed="0.000295"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:50.439549" elapsed="0.000013"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:50.439336" elapsed="0.000247"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:50.439735" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {"doamin": ""}, "field": "(root)"}, {"parameter": "(root)", "error": "(root)_required", "value": {"doamin": ""}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:50.439649" elapsed="0.000101"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:50.439601" elapsed="0.000166"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:50.439316" elapsed="0.000462"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:50.439806" elapsed="0.000033"/>
</return>
<msg time="2026-02-13T22:01:50.439921" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {"doamin": ""}, "field": "(root)"}, {"parameter": "(root)", "error": "(root)_required", "value": {"doamin": ""}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/add-route</arg>
<arg>{"doamin":""}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:49.259757" elapsed="1.180178"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:49.259432" elapsed="1.180575"/>
</test>
<status status="PASS" start="2026-02-13T22:01:48.014127" elapsed="2.426063"/>
</suite>
<suite id="s1-s3-s8" name="00 Remove Trunk Validate" source="/home/pwuser/ns8-module/tests/10_actions/00_remove_trunk_validate.robot">
<test id="s1-s3-s8-t1" name="Input can't be empty" line="6">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:50.442431" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/remove-trunk --data '{}''.</msg>
<msg time="2026-02-13T22:01:51.815266" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:51.815539" level="INFO">${stdout} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<msg time="2026-02-13T22:01:51.815569" level="INFO">${stderr} = Validation errors: [(root): rule is required]</msg>
<msg time="2026-02-13T22:01:51.815597" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:50.442064" elapsed="1.373555"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:51.816094" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:51.815800" elapsed="0.000360"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:51.816649" elapsed="0.000016"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:51.816267" elapsed="0.000423"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:51.816893" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:51.816772" elapsed="0.000139"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:51.816713" elapsed="0.000230"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:51.816235" elapsed="0.000723"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:51.816993" elapsed="0.000045"/>
</return>
<msg time="2026-02-13T22:01:51.817149" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/remove-trunk</arg>
<arg>{}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:50.441834" elapsed="1.375333"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:50.441596" elapsed="1.375662"/>
</test>
<test id="s1-s3-s8-t2" name="Rule is required" line="10">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:51.818228" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/remove-trunk --data '{"destination": {"uri": "sip:127.0.0.1:5080", "description": "module1"}}''.</msg>
<msg time="2026-02-13T22:01:53.122330" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:53.122711" level="INFO">${stdout} = [{"parameter": "(root)", "error": "(root)_required", "value": {"destination": {"description": "module1", "uri": "sip:127.0.0.1:5080"}}, "field": "(root)"}]</msg>
<msg time="2026-02-13T22:01:53.122746" level="INFO">${stderr} = Validation errors: [(root): rule is required]</msg>
<msg time="2026-02-13T22:01:53.122772" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:51.818085" elapsed="1.304704"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:53.123320" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:53.123006" elapsed="0.000366"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:53.123744" elapsed="0.000016"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:53.123462" elapsed="0.000325"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:53.123977" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {"destination": {"description": "module1", "uri": "sip:127.0.0.1:5080"}}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:53.123871" elapsed="0.000120"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:53.123808" elapsed="0.000202"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:53.123437" elapsed="0.000585"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:53.124063" elapsed="0.000042"/>
</return>
<msg time="2026-02-13T22:01:53.124196" level="INFO">${response} = [{"parameter": "(root)", "error": "(root)_required", "value": {"destination": {"description": "module1", "uri": "sip:127.0.0.1:5080"}}, "field": "(root)"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/remove-trunk</arg>
<arg>{"destination": {"uri": "sip:127.0.0.1:5080", "description": "module1"}}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:51.817819" elapsed="1.306392"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:51.817493" elapsed="1.306796"/>
</test>
<test id="s1-s3-s8-t3" name="Rule can't be empty" line="14">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:53.125155" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/remove-trunk --data '{"rule":""}''.</msg>
<msg time="2026-02-13T22:01:54.416086" level="INFO">Command exited with return code 10.</msg>
<msg time="2026-02-13T22:01:54.416336" level="INFO">${stdout} = [{"parameter": "rule", "error": "rule_string_gte", "value": "", "field": "rule"}]</msg>
<msg time="2026-02-13T22:01:54.416370" level="INFO">${stderr} = Validation errors: [rule: String length must be greater than or equal to 1]</msg>
<msg time="2026-02-13T22:01:54.416398" level="INFO">${rc} = 10</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:53.124986" elapsed="1.291429"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:01:54.416882" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:01:54.416603" elapsed="0.000327"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="NOT RUN" start="2026-02-13T22:01:54.417297" elapsed="0.000014"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:01:54.417010" elapsed="0.000326"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:01:54.417507" level="INFO">${response} = [{"parameter": "rule", "error": "rule_string_gte", "value": "", "field": "rule"}]</msg>
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:01:54.417410" elapsed="0.000111"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:54.417354" elapsed="0.000187"/>
</branch>
<status status="PASS" start="2026-02-13T22:01:54.416987" elapsed="0.000567"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:01:54.417582" elapsed="0.000034"/>
</return>
<msg time="2026-02-13T22:01:54.417704" level="INFO">${response} = [{"parameter": "rule", "error": "rule_string_gte", "value": "", "field": "rule"}]</msg>
<var>${response}</var>
<arg>module/${module_id}/remove-trunk</arg>
<arg>{"rule":""}</arg>
<arg>rc_expected=10</arg>
<arg>decode_json=False</arg>
<status status="PASS" start="2026-02-13T22:01:53.124734" elapsed="1.292983"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:53.124400" elapsed="1.293393"/>
</test>
<status status="PASS" start="2026-02-13T22:01:50.440364" elapsed="3.977614"/>
</suite>
<suite id="s1-s3-s9" name="10 Configure Integrations" source="/home/pwuser/ns8-module/tests/10_actions/10_configure_integrations.robot">
<test id="s1-s3-s9-t1" name="Set a FQDN without let's encrypt and address an without NAT" line="8">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:01:54.438927" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/configure-module --data '{"fqdn": "example.com", "lets_encrypt": false, "addresses": {"address": "174.138.4.244"}}''.</msg>
<msg time="2026-02-13T22:02:09.833873" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:09.834129" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:02:09.834164" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:09.834193" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:01:54.438768" elapsed="15.395444"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:09.834688" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:09.834408" elapsed="0.000328"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:09.835271" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:09.835078" elapsed="0.000319"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:09.834817" elapsed="0.000610"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:09.835520" elapsed="0.000013"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:09.835451" elapsed="0.000104"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:09.834792" elapsed="0.000776"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:09.835643" elapsed="0.000061"/>
</return>
<arg>module/${module_id}/configure-module</arg>
<arg>{"fqdn": "example.com", "lets_encrypt": false, "addresses": {"address": "${local_ip}"}}</arg>
<status status="PASS" start="2026-02-13T22:01:54.438424" elapsed="15.397384"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:09.836553" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-configuration --data '{}''.</msg>
<msg time="2026-02-13T22:02:12.263267" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:12.263577" level="INFO">${stdout} = {"addresses": {"address": "174.138.4.244"}, "fqdn": "example.com", "lets_encrypt": false, "service_network": {"address": "10.5.4.1", "netmask": "10.5.4.0/24"}, "local_networks": []}</msg>
<msg time="2026-02-13T22:02:12.263641" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:12.263690" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:09.836387" elapsed="2.427333"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:12.264473" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:12.263980" elapsed="0.000575"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:12.265300" level="INFO">${response} = {'addresses': {'address': '174.138.4.244'}, 'fqdn': 'example.com', 'lets_encrypt': False, 'service_network': {'address': '10.5.4.1', 'netmask': '10.5.4.0/24'}, 'local_networks': []}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:12.265091" elapsed="0.000225"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:12.264683" elapsed="0.000654"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:12.265415" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:12.265358" elapsed="0.000086"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:12.264646" elapsed="0.000809"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:12.265485" elapsed="0.000037"/>
</return>
<msg time="2026-02-13T22:02:12.265614" level="INFO">${response} = {'addresses': {'address': '174.138.4.244'}, 'fqdn': 'example.com', 'lets_encrypt': False, 'service_network': {'address': '10.5.4.1', 'netmask': '10.5.4.0/24'}, 'local_networks': []}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-configuration</arg>
<arg>{}</arg>
<status status="PASS" start="2026-02-13T22:02:09.836012" elapsed="2.429616"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response["fqdn"]}</arg>
<arg>example.com</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:02:12.265692" elapsed="0.000510"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response["addresses"]}</arg>
<arg>${{ {"address": "${local_ip}"} }}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:02:12.266264" elapsed="0.000376"/>
</kw>
<kw name="Should Be Empty" owner="BuiltIn">
<msg time="2026-02-13T22:02:12.266895" level="INFO">Length is 0.</msg>
<arg>${response['local_networks']}</arg>
<doc>Verifies that the given item is empty.</doc>
<status status="PASS" start="2026-02-13T22:02:12.266697" elapsed="0.000222"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:12.267451" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/list-service-providers --data '{"service": "sip", "transport": "tcp", "filter": {"module_id": "nethvoice-proxy1"} }''.</msg>
<msg time="2026-02-13T22:02:14.009292" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:14.009607" level="INFO">${stdout} = [{"port": "5060", "host": "10.5.4.1", "address": "174.138.4.244", "public_address": "174.138.4.244", "fqdn": "example.com", "node": "1", "module_uuid": "6ea6264b-8f35-4164-a1ea-8de6f7234f2b", "transpo...</msg>
<msg time="2026-02-13T22:02:14.009669" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:14.009715" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:12.267328" elapsed="1.742416"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:14.010475" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:14.010016" elapsed="0.000541"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:14.011479" level="INFO">${response} = [{'port': '5060', 'host': '10.5.4.1', 'address': '174.138.4.244', 'public_address': '174.138.4.244', 'fqdn': 'example.com', 'node': '1', 'module_uuid': '6ea6264b-8f35-4164-a1ea-8de6f7234f2b', 'transpo...</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:14.011104" elapsed="0.000411"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:14.010683" elapsed="0.000878"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:14.011719" elapsed="0.000024"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:14.011598" elapsed="0.000183"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:14.010647" elapsed="0.001158"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:14.011859" elapsed="0.000057"/>
</return>
<msg time="2026-02-13T22:02:14.012016" level="INFO">${response} = [{'port': '5060', 'host': '10.5.4.1', 'address': '174.138.4.244', 'public_address': '174.138.4.244', 'fqdn': 'example.com', 'node': '1', 'module_uuid': '6ea6264b-8f35-4164-a1ea-8de6f7234f2b', 'transpo...</msg>
<var>${response}</var>
<arg>module/${module_id}/list-service-providers</arg>
<arg>{"service": "sip", "transport": "tcp", "filter": {"module_id": "${module_id}"} }</arg>
<status status="PASS" start="2026-02-13T22:02:12.267095" elapsed="1.745065"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response[0]['address']}</arg>
<arg>${local_ip}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:02:14.012241" elapsed="0.000349"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:14.013185" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/list-service-providers --data '{"service": "sip", "transport": "udp", "filter": {"module_id": "nethvoice-proxy1"} }''.</msg>
<msg time="2026-02-13T22:02:15.785234" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:15.785515" level="INFO">${stdout} = [{"port": "5060", "host": "10.5.4.1", "address": "174.138.4.244", "public_address": "174.138.4.244", "fqdn": "example.com", "node": "1", "module_uuid": "6ea6264b-8f35-4164-a1ea-8de6f7234f2b", "transpo...</msg>
<msg time="2026-02-13T22:02:15.785576" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:15.785625" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:14.013020" elapsed="1.772637"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:15.786656" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:15.786068" elapsed="0.000697"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:15.787808" level="INFO">${response} = [{'port': '5060', 'host': '10.5.4.1', 'address': '174.138.4.244', 'public_address': '174.138.4.244', 'fqdn': 'example.com', 'node': '1', 'module_uuid': '6ea6264b-8f35-4164-a1ea-8de6f7234f2b', 'transpo...</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:15.787455" elapsed="0.000379"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:15.786915" elapsed="0.000954"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:15.787970" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:15.787901" elapsed="0.000101"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:15.786878" elapsed="0.001137"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:15.788103" elapsed="0.000074"/>
</return>
<msg time="2026-02-13T22:02:15.788306" level="INFO">${response} = [{'port': '5060', 'host': '10.5.4.1', 'address': '174.138.4.244', 'public_address': '174.138.4.244', 'fqdn': 'example.com', 'node': '1', 'module_uuid': '6ea6264b-8f35-4164-a1ea-8de6f7234f2b', 'transpo...</msg>
<var>${response}</var>
<arg>module/${module_id}/list-service-providers</arg>
<arg>{"service": "sip", "transport": "udp", "filter": {"module_id": "${module_id}"} }</arg>
<status status="PASS" start="2026-02-13T22:02:14.012772" elapsed="1.775551"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response[0]['address']}</arg>
<arg>${local_ip}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:02:15.788426" elapsed="0.000617"/>
</kw>
<status status="PASS" start="2026-02-13T22:01:54.438022" elapsed="21.351167"/>
</test>
<test id="s1-s3-s9-t2" name="Set a FQDN without let's encrypt and an address with NAT" line="23">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:15.790600" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/configure-module --data '{"fqdn": "example.com", "lets_encrypt": false, "addresses": {"address": "174.138.4.244", "public_address": "1.2.3.4"}, "local_networks": ["10.20.30.0/24"]}''.</msg>
<msg time="2026-02-13T22:02:35.320022" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:35.320302" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:02:35.320337" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:35.320358" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:15.790348" elapsed="19.530023"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:35.320862" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:35.320523" elapsed="0.000405"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:35.321362" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:35.321205" elapsed="0.000173"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:35.320987" elapsed="0.000413"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:35.321472" elapsed="0.000010"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:35.321417" elapsed="0.000082"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:35.320970" elapsed="0.000540"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:35.321532" elapsed="0.000025"/>
</return>
<arg>module/${module_id}/configure-module</arg>
<arg>{"fqdn": "example.com", "lets_encrypt": false, "addresses": {"address": "${local_ip}", "public_address": "1.2.3.4"}, "local_networks": ["10.20.30.0/24"]}</arg>
<status status="PASS" start="2026-02-13T22:02:15.789910" elapsed="19.531711"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:35.322205" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-configuration --data '{}''.</msg>
<msg time="2026-02-13T22:02:37.526871" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:37.527160" level="INFO">${stdout} = {"addresses": {"address": "174.138.4.244", "public_address": "1.2.3.4"}, "fqdn": "example.com", "lets_encrypt": false, "service_network": {"address": "10.5.4.1", "netmask": "10.5.4.0/24"}, "local_netw...</msg>
<msg time="2026-02-13T22:02:37.527221" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:37.527268" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:35.322052" elapsed="2.205242"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:37.528006" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:37.527635" elapsed="0.000472"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:37.528793" level="INFO">${response} = {'addresses': {'address': '174.138.4.244', 'public_address': '1.2.3.4'}, 'fqdn': 'example.com', 'lets_encrypt': False, 'service_network': {'address': '10.5.4.1', 'netmask': '10.5.4.0/24'}, 'local_netw...</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:37.528460" elapsed="0.000356"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:37.528220" elapsed="0.000617"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:37.528907" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:37.528854" elapsed="0.000081"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:37.528190" elapsed="0.000755"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:37.528966" elapsed="0.000025"/>
</return>
<msg time="2026-02-13T22:02:37.529084" level="INFO">${response} = {'addresses': {'address': '174.138.4.244', 'public_address': '1.2.3.4'}, 'fqdn': 'example.com', 'lets_encrypt': False, 'service_network': {'address': '10.5.4.1', 'netmask': '10.5.4.0/24'}, 'local_netw...</msg>
<var>${response}</var>
<arg>module/${module_id}/get-configuration</arg>
<arg>{}</arg>
<status status="PASS" start="2026-02-13T22:02:35.321766" elapsed="2.207332"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response["addresses"]}</arg>
<arg>${{ {"address": "${local_ip}", "public_address": "1.2.3.4"} }}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:02:37.529153" elapsed="0.000416"/>
</kw>
<kw name="Should Contain Match" owner="Collections">
<arg>${response['local_networks']}</arg>
<arg>${local_network}</arg>
<doc>Fails if ``pattern`` is not found in ``list``.</doc>
<status status="PASS" start="2026-02-13T22:02:37.529630" elapsed="0.000336"/>
</kw>
<kw name="Should Contain Match" owner="Collections">
<arg>${response['local_networks']}</arg>
<arg>10.20.30.0/24</arg>
<doc>Fails if ``pattern`` is not found in ``list``.</doc>
<status status="PASS" start="2026-02-13T22:02:37.530023" elapsed="0.000278"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:37.530808" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/list-service-providers --data '{"service": "sip", "transport": "tcp", "filter": {"module_id": "nethvoice-proxy1"} }''.</msg>
<msg time="2026-02-13T22:02:39.068041" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:39.068250" level="INFO">${stdout} = [{"port": "5060", "host": "10.5.4.1", "address": "174.138.4.244", "public_address": "1.2.3.4", "fqdn": "example.com", "node": "1", "module_uuid": "6ea6264b-8f35-4164-a1ea-8de6f7234f2b", "transport": "...</msg>
<msg time="2026-02-13T22:02:39.068294" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:39.068330" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:37.530671" elapsed="1.537685"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:39.068795" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:39.068518" elapsed="0.000330"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:39.069309" level="INFO">${response} = [{'port': '5060', 'host': '10.5.4.1', 'address': '174.138.4.244', 'public_address': '1.2.3.4', 'fqdn': 'example.com', 'node': '1', 'module_uuid': '6ea6264b-8f35-4164-a1ea-8de6f7234f2b', 'transport': '...</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:39.069132" elapsed="0.000195"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:39.068915" elapsed="0.000437"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:39.069431" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:39.069371" elapsed="0.000093"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:39.068897" elapsed="0.000580"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:39.069504" elapsed="0.000027"/>
</return>
<msg time="2026-02-13T22:02:39.069621" level="INFO">${response} = [{'port': '5060', 'host': '10.5.4.1', 'address': '174.138.4.244', 'public_address': '1.2.3.4', 'fqdn': 'example.com', 'node': '1', 'module_uuid': '6ea6264b-8f35-4164-a1ea-8de6f7234f2b', 'transport': '...</msg>
<var>${response}</var>
<arg>module/${module_id}/list-service-providers</arg>
<arg>{"service": "sip", "transport": "tcp", "filter": {"module_id": "${module_id}"} }</arg>
<status status="PASS" start="2026-02-13T22:02:37.530438" elapsed="1.539200"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response[0]['address']}</arg>
<arg>${local_ip}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:02:39.069706" elapsed="0.000297"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response[0]['public_address']}</arg>
<arg>1.2.3.4</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:02:39.070072" elapsed="0.000238"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:39.070812" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/list-service-providers --data '{"service": "sip", "transport": "udp", "filter": {"module_id": "nethvoice-proxy1"} }''.</msg>
<msg time="2026-02-13T22:02:40.746973" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:40.747443" level="INFO">${stdout} = [{"port": "5060", "host": "10.5.4.1", "address": "174.138.4.244", "public_address": "1.2.3.4", "fqdn": "example.com", "node": "1", "module_uuid": "6ea6264b-8f35-4164-a1ea-8de6f7234f2b", "transport": "...</msg>
<msg time="2026-02-13T22:02:40.747518" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:40.747567" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:39.070693" elapsed="1.676901"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:40.748404" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:40.747942" elapsed="0.000507"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:40.749112" level="INFO">${response} = [{'port': '5060', 'host': '10.5.4.1', 'address': '174.138.4.244', 'public_address': '1.2.3.4', 'fqdn': 'example.com', 'node': '1', 'module_uuid': '6ea6264b-8f35-4164-a1ea-8de6f7234f2b', 'transport': '...</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:40.748859" elapsed="0.000288"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:40.748535" elapsed="0.000651"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:40.749292" elapsed="0.000015"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:40.749210" elapsed="0.000133"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:40.748516" elapsed="0.000846"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:40.749395" elapsed="0.000033"/>
</return>
<msg time="2026-02-13T22:02:40.749544" level="INFO">${response} = [{'port': '5060', 'host': '10.5.4.1', 'address': '174.138.4.244', 'public_address': '1.2.3.4', 'fqdn': 'example.com', 'node': '1', 'module_uuid': '6ea6264b-8f35-4164-a1ea-8de6f7234f2b', 'transport': '...</msg>
<var>${response}</var>
<arg>module/${module_id}/list-service-providers</arg>
<arg>{"service": "sip", "transport": "udp", "filter": {"module_id": "${module_id}"} }</arg>
<status status="PASS" start="2026-02-13T22:02:39.070456" elapsed="1.679106"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response[0]['address']}</arg>
<arg>${local_ip}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:02:40.749654" elapsed="0.000373"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response[0]['public_address']}</arg>
<arg>1.2.3.4</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:02:40.750134" elapsed="0.000354"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:15.789376" elapsed="24.961201"/>
</test>
<status status="PASS" start="2026-02-13T22:01:54.418171" elapsed="46.332625"/>
</suite>
<suite id="s1-s3-s10" name="10 Routes Integrations" source="/home/pwuser/ns8-module/tests/10_actions/10_routes_integrations.robot">
<test id="s1-s3-s10-t1" name="Add a new route" line="8">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:40.753234" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-route --data '{"domain":"ns8.test", "address":[{"uri":"sip:127.0.0.1:5080","description":"module1"}]}''.</msg>
<msg time="2026-02-13T22:02:42.812438" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:42.812677" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:02:42.812738" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:42.812787" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:40.753110" elapsed="2.059705"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:42.813455" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:42.813027" elapsed="0.000475"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:42.813945" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:42.813758" elapsed="0.000228"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:42.813568" elapsed="0.000455"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:42.814158" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:42.814056" elapsed="0.000133"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:42.813551" elapsed="0.000650"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:42.814227" elapsed="0.000029"/>
</return>
<arg>module/${module_id}/add-route</arg>
<arg>{"domain":"ns8.test", "address":[{"uri":"sip:127.0.0.1:5080","description":"module1"}]}</arg>
<status status="PASS" start="2026-02-13T22:02:40.752886" elapsed="2.061438"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:42.814880" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-route --data '{"domain":"ns8.test"}''.</msg>
<msg time="2026-02-13T22:02:44.611402" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:44.611642" level="INFO">${stdout} = {"address": [{"uri": "sip:127.0.0.1:5080", "description": "module1"}]}</msg>
<msg time="2026-02-13T22:02:44.611701" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:44.611746" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:42.814740" elapsed="1.797032"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:44.612535" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:44.611983" elapsed="0.000640"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:44.613540" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5080', 'description': 'module1'}]}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:44.613132" elapsed="0.000466"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:44.612740" elapsed="0.000906"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:44.613819" elapsed="0.000024"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:44.613680" elapsed="0.000369"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:44.612709" elapsed="0.001383"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:44.614186" elapsed="0.000056"/>
</return>
<msg time="2026-02-13T22:02:44.614460" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5080', 'description': 'module1'}]}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-route</arg>
<arg>{"domain":"ns8.test"}</arg>
<status status="PASS" start="2026-02-13T22:02:42.814481" elapsed="1.800010"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response["address"]}</arg>
<arg>${{ [{"uri":"sip:127.0.0.1:5080","description":"module1"}] }}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:02:44.614623" elapsed="0.000895"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:40.752523" elapsed="3.863064"/>
</test>
<test id="s1-s3-s10-t2" name="Add a new addres to an existing route" line="15">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:44.616394" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-route --data '{"domain":"ns8.test", "address":[{"uri":"sip:127.0.0.1:5080","description":"module1"},{"uri":"sip:127.0.0.1:5081","description":"module2"}]}''.</msg>
<msg time="2026-02-13T22:02:46.409452" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:46.409700" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:02:46.409759" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:46.409804" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:44.616245" elapsed="1.793585"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:46.410682" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:46.410125" elapsed="0.000641"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:46.411527" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:46.411271" elapsed="0.000275"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:46.410884" elapsed="0.000688"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:46.411659" elapsed="0.000013"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:46.411592" elapsed="0.000102"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:46.410854" elapsed="0.000853"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:46.411734" elapsed="0.000030"/>
</return>
<arg>module/${module_id}/add-route</arg>
<arg>{"domain":"ns8.test", "address":[{"uri":"sip:127.0.0.1:5080","description":"module1"},{"uri":"sip:127.0.0.1:5081","description":"module2"}]}</arg>
<status status="PASS" start="2026-02-13T22:02:44.615978" elapsed="1.795860"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:46.412357" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-route --data '{"domain":"ns8.test"}''.</msg>
<msg time="2026-02-13T22:02:48.171937" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:48.172136" level="INFO">${stdout} = {"address": [{"uri": "sip:127.0.0.1:5080", "description": "module1"}, {"uri": "sip:127.0.0.1:5081", "description": "module2"}]}</msg>
<msg time="2026-02-13T22:02:48.172188" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:48.172228" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:46.412236" elapsed="1.760015"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:48.172843" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:48.172468" elapsed="0.000452"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:48.173737" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5080', 'description': 'module1'}, {'uri': 'sip:127.0.0.1:5081', 'description': 'module2'}]}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:48.173401" elapsed="0.000370"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:48.173042" elapsed="0.000776"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:48.173969" elapsed="0.000024"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:48.173852" elapsed="0.000194"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:48.173002" elapsed="0.001069"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:48.174131" elapsed="0.000045"/>
</return>
<msg time="2026-02-13T22:02:48.174337" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5080', 'description': 'module1'}, {'uri': 'sip:127.0.0.1:5081', 'description': 'module2'}]}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-route</arg>
<arg>{"domain":"ns8.test"}</arg>
<status status="PASS" start="2026-02-13T22:02:46.412002" elapsed="1.762365"/>
</kw>
<kw name="Length Should Be" owner="BuiltIn">
<msg time="2026-02-13T22:02:48.174768" level="INFO">Length is 2.</msg>
<arg>${response["address"]}</arg>
<arg>2</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<status status="PASS" start="2026-02-13T22:02:48.174484" elapsed="0.000309"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${response["address"]}</arg>
<arg>${{ {"uri":"sip:127.0.0.1:5080","description":"module1"} }}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2026-02-13T22:02:48.174849" elapsed="0.000370"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${response["address"]}</arg>
<arg>${{ {"uri":"sip:127.0.0.1:5081","description":"module2"} }}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2026-02-13T22:02:48.175276" elapsed="0.000339"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:44.615685" elapsed="3.559996"/>
</test>
<test id="s1-s3-s10-t3" name="Remove an addres from an existing route" line="24">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:48.176604" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-route --data '{"domain":"ns8.test", "address":[{"uri":"sip:127.0.0.1:5080","description":"module1"}]}''.</msg>
<msg time="2026-02-13T22:02:50.130886" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:50.131210" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:02:50.131285" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:50.131346" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:48.176414" elapsed="1.954966"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:50.131933" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:50.131589" elapsed="0.000395"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:50.132524" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:50.132324" elapsed="0.000221"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:50.132084" elapsed="0.000491"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:50.132674" elapsed="0.000014"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:50.132602" elapsed="0.000110"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:50.132053" elapsed="0.000673"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:50.132759" elapsed="0.000039"/>
</return>
<arg>module/${module_id}/add-route</arg>
<arg>{"domain":"ns8.test", "address":[{"uri":"sip:127.0.0.1:5080","description":"module1"}]}</arg>
<status status="PASS" start="2026-02-13T22:02:48.176026" elapsed="1.956860"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:50.133631" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-route --data '{"domain":"ns8.test"}''.</msg>
<msg time="2026-02-13T22:02:51.766389" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:51.766601" level="INFO">${stdout} = {"address": [{"uri": "sip:127.0.0.1:5080", "description": "module1"}]}</msg>
<msg time="2026-02-13T22:02:51.766629" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:51.766652" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:50.133467" elapsed="1.633200"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:51.767103" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:51.766842" elapsed="0.000304"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:51.767608" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5080', 'description': 'module1'}]}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:51.767438" elapsed="0.000185"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:51.767218" elapsed="0.000427"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:51.767720" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:51.767664" elapsed="0.000085"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:51.767196" elapsed="0.000564"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:51.767787" elapsed="0.000033"/>
</return>
<msg time="2026-02-13T22:02:51.767911" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5080', 'description': 'module1'}]}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-route</arg>
<arg>{"domain":"ns8.test"}</arg>
<status status="PASS" start="2026-02-13T22:02:50.133155" elapsed="1.634770"/>
</kw>
<kw name="Length Should Be" owner="BuiltIn">
<msg time="2026-02-13T22:02:51.768369" level="INFO">Length is 1.</msg>
<arg>${response["address"]}</arg>
<arg>1</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<status status="PASS" start="2026-02-13T22:02:51.767986" elapsed="0.000421"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${response["address"]}</arg>
<arg>${{ {"uri":"sip:127.0.0.1:5080","description":"module1"} }}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2026-02-13T22:02:51.768489" elapsed="0.000469"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${response["address"]}</arg>
<arg>${{ {"uri":"sip:127.0.0.1:5081","description":"module2"} }}</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2026-02-13T22:02:51.769051" elapsed="0.000453"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:48.175770" elapsed="3.593825"/>
</test>
<test id="s1-s3-s10-t4" name="Ovveride an existing route" line="33">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:51.770461" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-route --data '{"domain":"ns8.test", "address":[{"uri":"sip:127.0.0.1:5082","description":"module3"}]}''.</msg>
<msg time="2026-02-13T22:02:53.456268" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:53.456586" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:02:53.456645" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:53.456693" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:51.770308" elapsed="1.686412"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:53.457782" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:53.456992" elapsed="0.000912"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:53.459238" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:53.458737" elapsed="0.000625"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:53.458086" elapsed="0.001316"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:53.459527" elapsed="0.000017"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:53.459430" elapsed="0.000143"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:53.458045" elapsed="0.001545"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:53.459627" elapsed="0.000043"/>
</return>
<arg>module/${module_id}/add-route</arg>
<arg>{"domain":"ns8.test", "address":[{"uri":"sip:127.0.0.1:5082","description":"module3"}]}</arg>
<status status="PASS" start="2026-02-13T22:02:51.770045" elapsed="1.689738"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:53.460522" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-route --data '{"domain":"ns8.test"}''.</msg>
<msg time="2026-02-13T22:02:55.164771" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:55.164954" level="INFO">${stdout} = {"address": [{"uri": "sip:127.0.0.1:5082", "description": "module3"}]}</msg>
<msg time="2026-02-13T22:02:55.164989" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:55.165015" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:53.460338" elapsed="1.704701"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:55.165420" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:55.165192" elapsed="0.000271"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:55.165937" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5082', 'description': 'module3'}]}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:55.165742" elapsed="0.000213"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:55.165531" elapsed="0.000451"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:55.166161" elapsed="0.000025"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:55.166006" elapsed="0.000219"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:55.165512" elapsed="0.000736"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:55.166292" elapsed="0.000045"/>
</return>
<msg time="2026-02-13T22:02:55.166498" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5082', 'description': 'module3'}]}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-route</arg>
<arg>{"domain":"ns8.test"}</arg>
<status status="PASS" start="2026-02-13T22:02:53.460012" elapsed="1.706515"/>
</kw>
<kw name="Length Should Be" owner="BuiltIn">
<msg time="2026-02-13T22:02:55.167183" level="INFO">Length is 1.</msg>
<arg>${response["address"]}</arg>
<arg>1</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<status status="PASS" start="2026-02-13T22:02:55.166643" elapsed="0.000596"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${response["address"]}</arg>
<arg>${{ {"uri":"sip:127.0.0.1:5082","description":"module3"} }}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2026-02-13T22:02:55.167321" elapsed="0.000374"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:51.769715" elapsed="3.398047"/>
</test>
<test id="s1-s3-s10-t5" name="Remove a route" line="41">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:55.169096" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/remove-route --data '{"domain":"ns8.test"}''.</msg>
<msg time="2026-02-13T22:02:57.014997" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:57.015184" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:02:57.015218" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:57.015243" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:55.168956" elapsed="1.846302"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:57.015623" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:57.015397" elapsed="0.000269"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:57.016465" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:57.016133" elapsed="0.000366"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:57.015735" elapsed="0.000813"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:57.016698" elapsed="0.000025"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:57.016579" elapsed="0.000182"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:57.015715" elapsed="0.001068"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:57.016827" elapsed="0.000045"/>
</return>
<arg>module/${module_id}/remove-route</arg>
<arg>{"domain":"ns8.test"}</arg>
<status status="PASS" start="2026-02-13T22:02:55.168117" elapsed="1.848880"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:57.017533" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-route --data '{"domain":"ns8.test"}''.</msg>
<msg time="2026-02-13T22:02:58.437059" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:02:58.437473" level="INFO">${stdout} = {}</msg>
<msg time="2026-02-13T22:02:58.437535" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:02:58.437586" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:57.017411" elapsed="1.420203"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:02:58.438343" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:02:58.437950" elapsed="0.000471"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:02:58.439139" level="INFO">${response} = {}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:02:58.438874" elapsed="0.000281"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:58.438529" elapsed="0.000648"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:02:58.439245" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:02:58.439193" elapsed="0.000080"/>
</branch>
<status status="PASS" start="2026-02-13T22:02:58.438500" elapsed="0.000784"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:02:58.439307" elapsed="0.000026"/>
</return>
<msg time="2026-02-13T22:02:58.439409" level="INFO">${response} = {}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-route</arg>
<arg>{"domain":"ns8.test"}</arg>
<status status="PASS" start="2026-02-13T22:02:57.017200" elapsed="1.422222"/>
</kw>
<kw name="Should Be Empty" owner="BuiltIn">
<msg time="2026-02-13T22:02:58.439541" level="INFO">Length is 0.</msg>
<arg>${response}</arg>
<doc>Verifies that the given item is empty.</doc>
<status status="PASS" start="2026-02-13T22:02:58.439477" elapsed="0.000086"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:55.167852" elapsed="3.271771"/>
</test>
<test id="s1-s3-s10-t6" name="Get list of routes" line="48">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:02:58.440295" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-route --data '{"domain":"ns8.test", "address":[{"uri":"sip:127.0.0.1:5080","description":"module1"}]}''.</msg>
<msg time="2026-02-13T22:03:00.591554" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:00.591824" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:03:00.591885" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:00.591960" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:02:58.440174" elapsed="2.151823"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:00.592509" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:00.592226" elapsed="0.000337"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:00.593211" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:00.592943" elapsed="0.000287"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:00.592653" elapsed="0.000604"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:00.593346" elapsed="0.000014"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:00.593278" elapsed="0.000103"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:00.592631" elapsed="0.000763"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:00.593423" elapsed="0.000032"/>
</return>
<arg>module/${module_id}/add-route</arg>
<arg>{"domain":"ns8.test", "address":[{"uri":"sip:127.0.0.1:5080","description":"module1"}]}</arg>
<status status="PASS" start="2026-02-13T22:02:58.439958" elapsed="2.153584"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:00.594089" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-route --data '{"domain":"ns8.test1", "address":[{"uri":"sip:127.0.0.1:5081","description":"module2"}]}''.</msg>
<msg time="2026-02-13T22:03:02.768665" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:02.768919" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:03:02.768979" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:02.769025" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:00.593947" elapsed="2.175128"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:02.769680" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:02.769311" elapsed="0.000445"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:02.770562" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:02.770252" elapsed="0.000325"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:02.769866" elapsed="0.000732"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:02.770667" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:02.770615" elapsed="0.000081"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:02.769836" elapsed="0.000871"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:02.770728" elapsed="0.000026"/>
</return>
<arg>module/${module_id}/add-route</arg>
<arg>{"domain":"ns8.test1", "address":[{"uri":"sip:127.0.0.1:5081","description":"module2"}]}</arg>
<status status="PASS" start="2026-02-13T22:03:00.593720" elapsed="2.177097"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:02.771320" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/list-routes --data '{}''.</msg>
<msg time="2026-02-13T22:03:04.766764" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:04.766940" level="INFO">${stdout} = [{"domain": "ns8.test", "address": [{"uri": "sip:127.0.0.1:5080", "description": "module1"}]}, {"domain": "ns8.test1", "address": [{"uri": "sip:127.0.0.1:5081", "description": "module2"}]}]</msg>
<msg time="2026-02-13T22:03:04.767141" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:04.767184" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:02.771198" elapsed="1.996006"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:04.767581" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:04.767346" elapsed="0.000280"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:04.768122" level="INFO">${response} = [{'domain': 'ns8.test', 'address': [{'uri': 'sip:127.0.0.1:5080', 'description': 'module1'}]}, {'domain': 'ns8.test1', 'address': [{'uri': 'sip:127.0.0.1:5081', 'description': 'module2'}]}]</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:04.767910" elapsed="0.000232"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:04.767695" elapsed="0.000474"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:04.768255" elapsed="0.000199"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:04.768190" elapsed="0.000289"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:04.767676" elapsed="0.000819"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:04.768521" elapsed="0.000028"/>
</return>
<msg time="2026-02-13T22:03:04.768643" level="INFO">${response} = [{'domain': 'ns8.test', 'address': [{'uri': 'sip:127.0.0.1:5080', 'description': 'module1'}]}, {'domain': 'ns8.test1', 'address': [{'uri': 'sip:127.0.0.1:5081', 'description': 'module2'}]}]</msg>
<var>${response}</var>
<arg>module/${module_id}/list-routes</arg>
<arg>{}</arg>
<status status="PASS" start="2026-02-13T22:03:02.770957" elapsed="1.997704"/>
</kw>
<kw name="Length Should Be" owner="BuiltIn">
<msg time="2026-02-13T22:03:04.768815" level="INFO">Length is 2.</msg>
<arg>${response}</arg>
<arg>2</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<status status="PASS" start="2026-02-13T22:03:04.768727" elapsed="0.000116"/>
</kw>
<status status="PASS" start="2026-02-13T22:02:58.439711" elapsed="6.329206"/>
</test>
<test id="s1-s3-s10-t7" name="Get info about a route" line="56">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:04.769615" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-route --data '{"domain":"ns8.test"}''.</msg>
<msg time="2026-02-13T22:03:06.594751" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:06.594929" level="INFO">${stdout} = {"address": [{"uri": "sip:127.0.0.1:5080", "description": "module1"}]}</msg>
<msg time="2026-02-13T22:03:06.594967" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:06.594997" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:04.769493" elapsed="1.825523"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:06.595434" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:06.595186" elapsed="0.000295"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:06.596236" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5080', 'description': 'module1'}]}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:06.595869" elapsed="0.000402"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:06.595553" elapsed="0.000768"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:06.596476" elapsed="0.000025"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:06.596356" elapsed="0.000183"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:06.595533" elapsed="0.001030"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:06.596608" elapsed="0.000045"/>
</return>
<msg time="2026-02-13T22:03:06.596815" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5080', 'description': 'module1'}]}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-route</arg>
<arg>{"domain":"ns8.test"}</arg>
<status status="PASS" start="2026-02-13T22:03:04.769297" elapsed="1.827547"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response}</arg>
<arg>${{ {"address":[{"uri":"sip:127.0.0.1:5080","description":"module1"}]} }}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:03:06.596968" elapsed="0.000294"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:06.597734" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-route --data '{"domain":"ns8.test1"}''.</msg>
<msg time="2026-02-13T22:03:08.237581" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:08.237832" level="INFO">${stdout} = {"address": [{"uri": "sip:127.0.0.1:5081", "description": "module2"}]}</msg>
<msg time="2026-02-13T22:03:08.237892" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:08.237938" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:06.597611" elapsed="1.640354"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:08.238501" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:08.238224" elapsed="0.000352"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:08.239211" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5081', 'description': 'module2'}]}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:08.238945" elapsed="0.000298"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:08.238669" elapsed="0.000779"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:08.239563" elapsed="0.000015"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:08.239477" elapsed="0.000134"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:08.238646" elapsed="0.000990"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:08.239669" elapsed="0.000048"/>
</return>
<msg time="2026-02-13T22:03:08.239824" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5081', 'description': 'module2'}]}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-route</arg>
<arg>{"domain":"ns8.test1"}</arg>
<status status="PASS" start="2026-02-13T22:03:06.597406" elapsed="1.642435"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response}</arg>
<arg>${{ {"address":[{"uri":"sip:127.0.0.1:5081","description":"module2"}]} }}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:03:08.239926" elapsed="0.000407"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:04.769019" elapsed="3.471394"/>
</test>
<test id="s1-s3-s10-t8" name="List of routes should be empty" line="64">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:08.241179" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/remove-route --data '{"domain":"ns8.test"}''.</msg>
<msg time="2026-02-13T22:03:10.133378" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:10.133693" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:03:10.133803" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:10.133888" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:08.241026" elapsed="1.892906"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:10.134746" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:10.134344" elapsed="0.000481"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:10.135480" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:10.135293" elapsed="0.000206"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:10.134942" elapsed="0.000584"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:10.135611" elapsed="0.000013"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:10.135546" elapsed="0.000100"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:10.134910" elapsed="0.000749"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:10.135686" elapsed="0.000028"/>
</return>
<arg>module/${module_id}/remove-route</arg>
<arg>{"domain":"ns8.test"}</arg>
<status status="PASS" start="2026-02-13T22:03:08.240817" elapsed="1.894973"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:10.136382" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/remove-route --data '{"domain":"ns8.test1"}''.</msg>
<msg time="2026-02-13T22:03:12.175726" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:12.176071" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:03:12.176236" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:12.176364" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:10.136230" elapsed="2.040183"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:12.177160" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:12.176700" elapsed="0.000545"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:12.178125" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:12.177759" elapsed="0.000410"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:12.177368" elapsed="0.000848"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:12.178375" elapsed="0.000024"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:12.178254" elapsed="0.000182"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:12.177332" elapsed="0.001128"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:12.178488" elapsed="0.000034"/>
</return>
<arg>module/${module_id}/remove-route</arg>
<arg>{"domain":"ns8.test1"}</arg>
<status status="PASS" start="2026-02-13T22:03:10.135952" elapsed="2.042643"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:12.179364" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/list-routes --data '{}''.</msg>
<msg time="2026-02-13T22:03:13.795071" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:13.795418" level="INFO">${stdout} = []</msg>
<msg time="2026-02-13T22:03:13.795484" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:13.795538" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:12.179236" elapsed="1.616336"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:13.796078" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:13.795786" elapsed="0.000341"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:13.796617" level="INFO">${response} = []</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:13.796446" elapsed="0.000277"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:13.796204" elapsed="0.000542"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:13.796826" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:13.796768" elapsed="0.000086"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:13.796181" elapsed="0.000685"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:13.796894" elapsed="0.000037"/>
</return>
<msg time="2026-02-13T22:03:13.797020" level="INFO">${response} = []</msg>
<var>${response}</var>
<arg>module/${module_id}/list-routes</arg>
<arg>{}</arg>
<status status="PASS" start="2026-02-13T22:03:12.179003" elapsed="1.618037"/>
</kw>
<kw name="Should Be Empty" owner="BuiltIn">
<msg time="2026-02-13T22:03:13.797175" level="INFO">Length is 0.</msg>
<arg>${response}</arg>
<doc>Verifies that the given item is empty.</doc>
<status status="PASS" start="2026-02-13T22:03:13.797108" elapsed="0.000091"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:08.240521" elapsed="5.556751"/>
</test>
<status status="PASS" start="2026-02-13T22:02:40.751034" elapsed="33.046423"/>
</suite>
<suite id="s1-s3-s11" name="10 Trunks Integrations" source="/home/pwuser/ns8-module/tests/10_actions/10_trunks_integrations.robot">
<test id="s1-s3-s11-t1" name="Add a new trunk" line="8">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:13.799899" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-trunk --data '{"rule":"05551594XX", "destination":{"uri":"sip:127.0.0.1:5080","description":"module1"}}''.</msg>
<msg time="2026-02-13T22:03:16.013137" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:16.013506" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:03:16.013569" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:16.013618" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:13.799769" elapsed="2.213883"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:16.014322" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:16.013956" elapsed="0.000407"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:16.014807" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:16.014648" elapsed="0.000175"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:16.014434" elapsed="0.000409"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:16.014917" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:16.014862" elapsed="0.000083"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:16.014410" elapsed="0.000546"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:16.014984" elapsed="0.000036"/>
</return>
<arg>module/${module_id}/add-trunk</arg>
<arg>{"rule":"05551594XX", "destination":{"uri":"sip:127.0.0.1:5080","description":"module1"}}</arg>
<status status="PASS" start="2026-02-13T22:03:13.799551" elapsed="2.215557"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:16.015646" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-trunk --data '{"rule":"05551595XX", "destination":{"uri":"sip:127.0.0.1:5081","description":"module2"}}''.</msg>
<msg time="2026-02-13T22:03:18.269197" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:18.269419" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:03:18.269447" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:18.269470" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:16.015516" elapsed="2.253972"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:18.269913" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:18.269665" elapsed="0.000291"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:18.270436" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:18.270273" elapsed="0.000178"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:18.270038" elapsed="0.000434"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:18.270548" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:18.270491" elapsed="0.000086"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:18.270007" elapsed="0.000581"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:18.270615" elapsed="0.000034"/>
</return>
<arg>module/${module_id}/add-trunk</arg>
<arg>{"rule":"05551595XX", "destination":{"uri":"sip:127.0.0.1:5081","description":"module2"}}</arg>
<status status="PASS" start="2026-02-13T22:03:16.015279" elapsed="2.255445"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:13.799289" elapsed="4.471510"/>
</test>
<test id="s1-s3-s11-t2" name="Get info about a non-existing trunk" line="14">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:18.271851" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-trunk --data '{"rule":"05551596XX"}''.</msg>
<msg time="2026-02-13T22:03:19.860536" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:19.860775" level="INFO">${stdout} = {}</msg>
<msg time="2026-02-13T22:03:19.860808" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:19.860835" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:18.271724" elapsed="1.589129"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:19.861469" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:19.861200" elapsed="0.000318"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:19.862042" level="INFO">${response} = {}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:19.861837" elapsed="0.000225"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:19.861594" elapsed="0.000498"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:19.862182" elapsed="0.000013"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:19.862114" elapsed="0.000103"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:19.861571" elapsed="0.000659"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:19.862260" elapsed="0.000035"/>
</return>
<msg time="2026-02-13T22:03:19.862381" level="INFO">${response} = {}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-trunk</arg>
<arg>{"rule":"05551596XX"}</arg>
<status status="PASS" start="2026-02-13T22:03:18.271477" elapsed="1.590919"/>
</kw>
<kw name="Should Be Empty" owner="BuiltIn">
<msg time="2026-02-13T22:03:19.862520" level="INFO">Length is 0.</msg>
<arg>${response}</arg>
<doc>Verifies that the given item is empty.</doc>
<status status="PASS" start="2026-02-13T22:03:19.862454" elapsed="0.000089"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:18.270908" elapsed="1.591700"/>
</test>
<test id="s1-s3-s11-t3" name="Get info about a trunk" line="19">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:19.863361" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-trunk --data '{"rule":"05551594XX"}''.</msg>
<msg time="2026-02-13T22:03:21.620763" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:21.621157" level="INFO">${stdout} = {"destination": {"uri": "sip:127.0.0.1:5080", "description": "module1"}}</msg>
<msg time="2026-02-13T22:03:21.621203" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:21.621238" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:19.863235" elapsed="1.758028"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:21.621818" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:21.621481" elapsed="0.000397"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:21.622533" level="INFO">${response} = {'destination': {'uri': 'sip:127.0.0.1:5080', 'description': 'module1'}}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:21.622301" elapsed="0.000251"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:21.621975" elapsed="0.000603"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:21.622675" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:21.622604" elapsed="0.000100"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:21.621946" elapsed="0.000769"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:21.622744" elapsed="0.000038"/>
</return>
<msg time="2026-02-13T22:03:21.622877" level="INFO">${response} = {'destination': {'uri': 'sip:127.0.0.1:5080', 'description': 'module1'}}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-trunk</arg>
<arg>{"rule":"05551594XX"}</arg>
<status status="PASS" start="2026-02-13T22:03:19.863009" elapsed="1.759882"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response["destination"]}</arg>
<arg>${{ {"uri":"sip:127.0.0.1:5080","description":"module1"} }}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:03:21.622959" elapsed="0.000479"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:21.623991" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-trunk --data '{"rule":"05551595XX"}''.</msg>
<msg time="2026-02-13T22:03:23.330333" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:23.330654" level="INFO">${stdout} = {"destination": {"uri": "sip:127.0.0.1:5081", "description": "module2"}}</msg>
<msg time="2026-02-13T22:03:23.330716" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:23.330765" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:21.623863" elapsed="1.706933"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:23.331569" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:23.331099" elapsed="0.000554"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:23.332540" level="INFO">${response} = {'destination': {'uri': 'sip:127.0.0.1:5081', 'description': 'module2'}}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:23.332206" elapsed="0.000349"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:23.331780" elapsed="0.000798"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:23.332657" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:23.332599" elapsed="0.000085"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:23.331742" elapsed="0.000954"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:23.332726" elapsed="0.000036"/>
</return>
<msg time="2026-02-13T22:03:23.332855" level="INFO">${response} = {'destination': {'uri': 'sip:127.0.0.1:5081', 'description': 'module2'}}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-trunk</arg>
<arg>{"rule":"05551595XX"}</arg>
<status status="PASS" start="2026-02-13T22:03:21.623627" elapsed="1.709351"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response["destination"]}</arg>
<arg>${{ {"uri":"sip:127.0.0.1:5081","description":"module2"} }}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:03:23.333053" elapsed="0.000465"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:19.862715" elapsed="3.470882"/>
</test>
<test id="s1-s3-s11-t4" name="Rewrite a trunk" line="27">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:23.334367" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-trunk --data '{"rule":"05551594XX", "destination":{"uri":"sip:127.0.0.1:5060","description":"module3"}}''.</msg>
<msg time="2026-02-13T22:03:25.380148" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:25.380376" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:03:25.380403" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:25.380426" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:23.334237" elapsed="2.046205"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:25.380890" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:25.380631" elapsed="0.000302"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:25.381423" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:25.381253" elapsed="0.000185"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:25.381008" elapsed="0.000451"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:25.381541" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:25.381481" elapsed="0.000089"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:25.380984" elapsed="0.000597"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:25.381609" elapsed="0.000036"/>
</return>
<arg>module/${module_id}/add-trunk</arg>
<arg>{"rule":"05551594XX", "destination":{"uri":"sip:127.0.0.1:5060","description":"module3"}}</arg>
<status status="PASS" start="2026-02-13T22:03:23.333995" elapsed="2.047724"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:25.382551" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-trunk --data '{"rule":"05551594XX"}''.</msg>
<msg time="2026-02-13T22:03:27.075444" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:27.075762" level="INFO">${stdout} = {"destination": {"uri": "sip:127.0.0.1:5060", "description": "module3"}}</msg>
<msg time="2026-02-13T22:03:27.075823" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:27.075872" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:25.382151" elapsed="1.693751"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:27.076474" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:27.076211" elapsed="0.000307"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:27.076991" level="INFO">${response} = {'destination': {'uri': 'sip:127.0.0.1:5060', 'description': 'module3'}}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:27.076817" elapsed="0.000190"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:27.076592" elapsed="0.000446"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:27.077123" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:27.077061" elapsed="0.000092"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:27.076569" elapsed="0.000596"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:27.077197" elapsed="0.000037"/>
</return>
<msg time="2026-02-13T22:03:27.077328" level="INFO">${response} = {'destination': {'uri': 'sip:127.0.0.1:5060', 'description': 'module3'}}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-trunk</arg>
<arg>{"rule":"05551594XX"}</arg>
<status status="PASS" start="2026-02-13T22:03:25.381904" elapsed="1.695438"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response["destination"]}</arg>
<arg>${{ {"uri":"sip:127.0.0.1:5060","description":"module3"} }}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:03:27.077410" elapsed="0.000463"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:27.078429" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-trunk --data '{"rule":"05551595XX", "destination":{"uri":"sip:127.0.0.1:5084","description":"module4"}}''.</msg>
<msg time="2026-02-13T22:03:28.983468" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:28.983782" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:03:28.983841" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:28.983886" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:27.078305" elapsed="1.905609"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:28.984513" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:28.984223" elapsed="0.000339"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:28.985108" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:28.984908" elapsed="0.000216"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:28.984659" elapsed="0.000590"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:28.985331" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:28.985269" elapsed="0.000091"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:28.984626" elapsed="0.000746"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:28.985399" elapsed="0.000033"/>
</return>
<arg>module/${module_id}/add-trunk</arg>
<arg>{"rule":"05551595XX", "destination":{"uri":"sip:127.0.0.1:5084","description":"module4"}}</arg>
<status status="PASS" start="2026-02-13T22:03:27.078064" elapsed="1.907444"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:28.986042" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-trunk --data '{"rule":"05551595XX"}''.</msg>
<msg time="2026-02-13T22:03:30.757888" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:30.758237" level="INFO">${stdout} = {"destination": {"uri": "sip:127.0.0.1:5084", "description": "module4"}}</msg>
<msg time="2026-02-13T22:03:30.758298" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:30.758345" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:28.985903" elapsed="1.772469"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:30.758981" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:30.758587" elapsed="0.000490"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:30.759690" level="INFO">${response} = {'destination': {'uri': 'sip:127.0.0.1:5084', 'description': 'module4'}}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:30.759534" elapsed="0.000172"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:30.759195" elapsed="0.000532"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:30.759799" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:30.759744" elapsed="0.000085"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:30.759164" elapsed="0.000676"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:30.759863" elapsed="0.000027"/>
</return>
<msg time="2026-02-13T22:03:30.759972" level="INFO">${response} = {'destination': {'uri': 'sip:127.0.0.1:5084', 'description': 'module4'}}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-trunk</arg>
<arg>{"rule":"05551595XX"}</arg>
<status status="PASS" start="2026-02-13T22:03:28.985675" elapsed="1.774312"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${response["destination"]}</arg>
<arg>${{ {"uri":"sip:127.0.0.1:5084","description":"module4"} }}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2026-02-13T22:03:30.760057" elapsed="0.000434"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:23.333708" elapsed="7.426850"/>
</test>
<test id="s1-s3-s11-t5" name="Get list of trunks" line="39">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:30.761413" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/list-trunks --data '{}''.</msg>
<msg time="2026-02-13T22:03:32.667920" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:32.668239" level="INFO">${stdout} = [{"rule": "05551594XX", "destination": {"uri": "sip:127.0.0.1:5060", "description": "module3"}}, {"rule": "05551595XX", "destination": {"uri": "sip:127.0.0.1:5084", "description": "module4"}}]</msg>
<msg time="2026-02-13T22:03:32.668324" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:32.668384" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:30.761251" elapsed="1.907159"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:32.669019" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:32.668646" elapsed="0.000495"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:32.669696" level="INFO">${response} = [{'rule': '05551594XX', 'destination': {'uri': 'sip:127.0.0.1:5060', 'description': 'module3'}}, {'rule': '05551595XX', 'destination': {'uri': 'sip:127.0.0.1:5084', 'description': 'module4'}}]</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:32.669504" elapsed="0.000211"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:32.669252" elapsed="0.000489"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:32.669828" elapsed="0.000013"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:32.669762" elapsed="0.000102"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:32.669221" elapsed="0.000656"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:32.669903" elapsed="0.000030"/>
</return>
<msg time="2026-02-13T22:03:32.670039" level="INFO">${response} = [{'rule': '05551594XX', 'destination': {'uri': 'sip:127.0.0.1:5060', 'description': 'module3'}}, {'rule': '05551595XX', 'destination': {'uri': 'sip:127.0.0.1:5084', 'description': 'module4'}}]</msg>
<var>${response}</var>
<arg>module/${module_id}/list-trunks</arg>
<arg>{}</arg>
<status status="PASS" start="2026-02-13T22:03:30.760897" elapsed="1.909160"/>
</kw>
<kw name="Get Length" owner="BuiltIn">
<msg time="2026-02-13T22:03:32.670210" level="INFO">Length is 2.</msg>
<msg time="2026-02-13T22:03:32.670249" level="INFO">${list_len} = 2</msg>
<var>${list_len}</var>
<arg>${response}</arg>
<doc>Returns and logs the length of the given item as an integer.</doc>
<status status="PASS" start="2026-02-13T22:03:32.670138" elapsed="0.000122"/>
</kw>
<kw name="Should Be Equal As Numbers" owner="BuiltIn">
<msg time="2026-02-13T22:03:32.670377" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>2</arg>
<arg>${list_len}</arg>
<doc>Fails if objects are unequal after converting them to real numbers.</doc>
<status status="PASS" start="2026-02-13T22:03:32.670312" elapsed="0.000165"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:30.760659" elapsed="1.909886"/>
</test>
<test id="s1-s3-s11-t6" name="Remove a not existing trunk" line="44">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:32.671231" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/remove-trunk --data '{"rule":"05551596XX"}''.</msg>
<msg time="2026-02-13T22:03:34.425197" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:34.425513" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:03:34.425574" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:34.425658" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:32.671111" elapsed="1.754593"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:34.426339" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:34.425961" elapsed="0.000419"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:34.426829" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:34.426666" elapsed="0.000179"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:34.426452" elapsed="0.000413"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:34.426940" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:34.426884" elapsed="0.000085"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:34.426429" elapsed="0.000552"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:34.427009" elapsed="0.000040"/>
</return>
<msg time="2026-02-13T22:03:34.427143" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>module/${module_id}/remove-trunk</arg>
<arg>{"rule":"05551596XX"}</arg>
<status status="PASS" start="2026-02-13T22:03:32.670892" elapsed="1.756266"/>
</kw>
<kw name="Should Be Empty" owner="BuiltIn">
<msg time="2026-02-13T22:03:34.427284" level="INFO">Length is 0.</msg>
<arg>${response}</arg>
<doc>Verifies that the given item is empty.</doc>
<status status="PASS" start="2026-02-13T22:03:34.427217" elapsed="0.000090"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:32.670633" elapsed="1.756741"/>
</test>
<test id="s1-s3-s11-t7" name="Remove a trunk" line="49">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:34.428132" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/remove-trunk --data '{"rule":"05551594XX"}''.</msg>
<msg time="2026-02-13T22:03:36.265134" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:36.265412" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:03:36.265449" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:36.265477" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:34.427990" elapsed="1.837506"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:36.266089" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:36.265725" elapsed="0.000451"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:36.266796" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:36.266611" elapsed="0.000202"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:36.266297" elapsed="0.000549"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:36.266930" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:36.266873" elapsed="0.000087"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:36.266249" elapsed="0.000721"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:36.266998" elapsed="0.000040"/>
</return>
<arg>module/${module_id}/remove-trunk</arg>
<arg>{"rule":"05551594XX"}</arg>
<status status="PASS" start="2026-02-13T22:03:34.427777" elapsed="1.839347"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:36.267675" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-trunk --data '{"rule":"05551594XX"}''.</msg>
<msg time="2026-02-13T22:03:37.705743" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:37.706038" level="INFO">${stdout} = {}</msg>
<msg time="2026-02-13T22:03:37.706081" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:37.706115" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:36.267541" elapsed="1.438594"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:37.706700" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:37.706359" elapsed="0.000399"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:37.707318" level="INFO">${response} = {}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:37.707143" elapsed="0.000191"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:37.706852" elapsed="0.000503"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:37.707436" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:37.707376" elapsed="0.000208"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:37.706822" elapsed="0.000778"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:37.707634" elapsed="0.000038"/>
</return>
<msg time="2026-02-13T22:03:37.707766" level="INFO">${response} = {}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-trunk</arg>
<arg>{"rule":"05551594XX"}</arg>
<status status="PASS" start="2026-02-13T22:03:36.267302" elapsed="1.440478"/>
</kw>
<kw name="Should Be Empty" owner="BuiltIn">
<msg time="2026-02-13T22:03:37.707908" level="INFO">Length is 0.</msg>
<arg>${response}</arg>
<doc>Verifies that the given item is empty.</doc>
<status status="PASS" start="2026-02-13T22:03:37.707841" elapsed="0.000090"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:37.708481" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/remove-trunk --data '{"rule":"05551595XX"}''.</msg>
<msg time="2026-02-13T22:03:39.542594" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:39.542843" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:03:39.542876" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:39.542904" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:37.708352" elapsed="1.834569"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:39.543397" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:39.543125" elapsed="0.000319"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:39.543923" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:39.543750" elapsed="0.000188"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:39.543526" elapsed="0.000434"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:39.544044" elapsed="0.000013"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:39.543980" elapsed="0.000094"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:39.543502" elapsed="0.000587"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:39.544116" elapsed="0.000035"/>
</return>
<arg>module/${module_id}/remove-trunk</arg>
<arg>{"rule":"05551595XX"}</arg>
<status status="PASS" start="2026-02-13T22:03:37.708112" elapsed="1.836111"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:39.544738" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-trunk --data '{"rule":"05551595XX"}''.</msg>
<msg time="2026-02-13T22:03:40.965380" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:40.965623" level="INFO">${stdout} = {}</msg>
<msg time="2026-02-13T22:03:40.965657" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:40.965683" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:39.544614" elapsed="1.421086"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:40.966344" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:40.965902" elapsed="0.000526"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:40.967287" level="INFO">${response} = {}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:40.966951" elapsed="0.000352"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:40.966558" elapsed="0.000765"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:40.967402" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:40.967344" elapsed="0.000087"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:40.966522" elapsed="0.000919"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:40.967470" elapsed="0.000036"/>
</return>
<msg time="2026-02-13T22:03:40.967598" level="INFO">${response} = {}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-trunk</arg>
<arg>{"rule":"05551595XX"}</arg>
<status status="PASS" start="2026-02-13T22:03:39.544388" elapsed="1.423223"/>
</kw>
<kw name="Should Be Empty" owner="BuiltIn">
<msg time="2026-02-13T22:03:40.968006" level="INFO">Length is 0.</msg>
<arg>${response}</arg>
<doc>Verifies that the given item is empty.</doc>
<status status="PASS" start="2026-02-13T22:03:40.967673" elapsed="0.000368"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:34.427483" elapsed="6.540634"/>
</test>
<test id="s1-s3-s11-t8" name="List of trunks should be empty" line="62">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:40.968878" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/list-trunks --data '{}''.</msg>
<msg time="2026-02-13T22:03:42.386525" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:42.386778" level="INFO">${stdout} = []</msg>
<msg time="2026-02-13T22:03:42.386819" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:03:42.386850" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:40.968752" elapsed="1.418120"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:42.387353" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:42.387077" elapsed="0.000317"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:03:42.387842" level="INFO">${response} = []</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:03:42.387679" elapsed="0.000178"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:42.387466" elapsed="0.000509"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:42.388061" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:42.387996" elapsed="0.000101"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:42.387444" elapsed="0.000663"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:03:42.388134" elapsed="0.000035"/>
</return>
<msg time="2026-02-13T22:03:42.388256" level="INFO">${response} = []</msg>
<var>${response}</var>
<arg>module/${module_id}/list-trunks</arg>
<arg>{}</arg>
<status status="PASS" start="2026-02-13T22:03:40.968542" elapsed="1.419728"/>
</kw>
<kw name="Should Be Empty" owner="BuiltIn">
<msg time="2026-02-13T22:03:42.388396" level="INFO">Length is 0.</msg>
<arg>${response}</arg>
<doc>Verifies that the given item is empty.</doc>
<status status="PASS" start="2026-02-13T22:03:42.388330" elapsed="0.000089"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:40.968234" elapsed="1.420254"/>
</test>
<status status="PASS" start="2026-02-13T22:03:13.797646" elapsed="28.591023"/>
</suite>
<status status="PASS" start="2026-02-13T22:00:49.011533" elapsed="173.377431"/>
</suite>
<suite id="s1-s4" name="20 E2E Sipp" source="/home/pwuser/ns8-module/tests/20_e2e_sipp">
<kw name="Connect and prepare SIPp" type="SETUP">
<kw name="Open Connection" owner="SSHLibrary">
<arg>${NODE_ADDR}</arg>
<doc>Opens a new SSH connection to the given ``host`` and ``port``.</doc>
<status status="PASS" start="2026-02-13T22:03:42.401779" elapsed="0.000195"/>
</kw>
<kw name="Login With Public Key" owner="SSHLibrary">
<msg time="2026-02-13T22:03:42.402226" level="INFO">Logging into 'rl1.e2e-tests.mv.nethserver.net:22' as 'root'.</msg>
<msg time="2026-02-13T22:03:44.140267" level="INFO">Read output: 
NethServer cluster-admin UI:
  - https://rl1.e2e-tests.mv.nethserver.net/cluster-admin/
  - https://174.138.4.244/cluster-admin/

Activate the web console with: systemctl enable --now cockpit.socket

Last login: Fri Feb 13 21:59:29 2026 from 2.119.67.169
[?2004h[root@rl1 ~]#</msg>
<arg>root</arg>
<arg>${SSH_KEYFILE}</arg>
<doc>Logs into the SSH server using key-based authentication.</doc>
<status status="PASS" start="2026-02-13T22:03:42.402080" elapsed="1.738337"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:44.140754" level="INFO">Executing command 'systemctl is-system-running --wait'.</msg>
<msg time="2026-02-13T22:03:44.305561" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:44.305794" level="INFO">${output} = running</msg>
<var>${output}</var>
<arg>systemctl is-system-running --wait</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:44.140618" elapsed="0.165211"/>
</kw>
<kw name="Should Be True" owner="BuiltIn">
<arg>'${output}' == 'running' or '${output}' == 'degraded'</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" start="2026-02-13T22:03:44.306054" elapsed="0.000361"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:42.401576" elapsed="1.904900"/>
</kw>
<suite id="s1-s4-s1" name="00 Sipp Setup" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/00_sipp_setup.robot">
<test id="s1-s4-s1-t1" name="Install SIPp on the node" line="9">
<kw name="Install SIPp On Node" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:44.310019" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'command -v sipp || echo not_found''.</msg>
<msg time="2026-02-13T22:03:45.234890" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:45.235120" level="INFO">${stdout} = not_found</msg>
<msg time="2026-02-13T22:03:45.235152" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} sh -c 'command -v sipp || echo not_found'</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:44.309908" elapsed="0.925265"/>
</kw>
<kw name="Strip String" owner="String">
<msg time="2026-02-13T22:03:45.235568" level="INFO">${sipp_path} = not_found</msg>
<var>${sipp_path}</var>
<arg>${stdout}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="PASS" start="2026-02-13T22:03:45.235371" elapsed="0.000219"/>
</kw>
<if>
<branch type="IF" condition="'${sipp_path}' == 'not_found'">
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:03:45.235933" level="INFO">SIPp not found, installing from GitHub releases</msg>
<arg>SIPp not found, installing from GitHub releases</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:03:45.235857" elapsed="0.000110"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:45.236139" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'mkdir -p $HOME/bin''.</msg>
<msg time="2026-02-13T22:03:46.341793" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'mkdir -p $HOME/bin'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:45.236052" elapsed="1.105887"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:46.342496" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'curl -L -o $HOME/bin/sipp https://github.com/SIPp/sipp/releases/latest/download/sipp &amp;&amp; chmod +x $HOME/bin/sipp''.</msg>
<msg time="2026-02-13T22:03:48.002572" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:48.002802" level="INFO">${stdout} = </msg>
<msg time="2026-02-13T22:03:48.002849" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} sh -c 'curl -L -o $HOME/bin/sipp https://github.com/SIPp/sipp/releases/latest/download/sipp &amp;&amp; chmod +x $HOME/bin/sipp'</arg>
<arg>return_rc=True</arg>
<arg>timeout=60s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:46.342214" elapsed="1.660654"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:03:48.003302" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>0</arg>
<arg>Failed to download SIPp: ${stdout}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:03:48.003071" elapsed="0.000279"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:48.003567" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -v 2&gt;&amp;1''.</msg>
<msg time="2026-02-13T22:03:48.941582" level="INFO">Command exited with return code 99.</msg>
<msg time="2026-02-13T22:03:48.941799" level="INFO">${stdout} = 
 SIPp v3.7.7-PCAP.

 This program is free software; you can redistribute it and/or
 modify it under the terms of the GNU General Public License as
 published by the Free Software Foundation; either v...</msg>
<msg time="2026-02-13T22:03:48.941831" level="INFO">${rc} = 99</msg>
<var>${stdout}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -v 2&gt;&amp;1'</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:48.003438" elapsed="0.938409"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${stdout}</arg>
<arg>SIPp</arg>
<arg>SIPp binary is not working: ${stdout}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2026-02-13T22:03:48.942042" elapsed="0.000214"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:03:48.942477" level="INFO">SIPp installed successfully: 
 SIPp v3.7.7-PCAP.

 This program is free software; you can redistribute it and/or
 modify it under the terms of the GNU General Public License as
 published by the Free Software Foundation; either version 2 of
 the License, or (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public
 License along with this program; if not, write to the
 Free Software Foundation, Inc.,
 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA

 Author: see source files.</msg>
<arg>SIPp installed successfully: ${stdout}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:03:48.942402" elapsed="0.000100"/>
</kw>
<status status="PASS" start="2026-02-13T22:03:45.235678" elapsed="3.706843"/>
</branch>
<branch type="ELSE">
<kw name="Log" owner="BuiltIn">
<arg>SIPp already available at: ${sipp_path}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:03:48.942618" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:03:48.942551" elapsed="0.000094"/>
</branch>
<status status="PASS" start="2026-02-13T22:03:45.235649" elapsed="3.707008"/>
</if>
<doc>Install SIPp binary from GitHub releases in module user's home directory</doc>
<status status="PASS" start="2026-02-13T22:03:44.309767" elapsed="4.632939"/>
</kw>
<doc>Ensure SIPp is installed and available</doc>
<status status="PASS" start="2026-02-13T22:03:44.309520" elapsed="4.633263"/>
</test>
<test id="s1-s4-s1-t2" name="Upload SIPp scenario files" line="13">
<kw name="Upload SIPp Scenarios" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:48.943371" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'echo $HOME''.</msg>
<msg time="2026-02-13T22:03:49.921893" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:03:49.922301" level="INFO">${module_home} = /home/nethvoice-proxy1</msg>
<var>${module_home}</var>
<arg>runagent -m ${module_id} sh -c 'echo $HOME'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:48.943299" elapsed="0.979055"/>
</kw>
<kw name="Strip String" owner="String">
<msg time="2026-02-13T22:03:49.922918" level="INFO">${module_home} = /home/nethvoice-proxy1</msg>
<var>${module_home}</var>
<arg>${module_home}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="PASS" start="2026-02-13T22:03:49.922616" elapsed="0.000336"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:03:49.923292" level="INFO">Module home directory: /home/nethvoice-proxy1</msg>
<arg>Module home directory: ${module_home}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:03:49.923123" elapsed="0.000222"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:49.923656" level="INFO">Executing command 'runagent -m nethvoice-proxy1 mkdir -p /home/nethvoice-proxy1/sipp_scenarios'.</msg>
<msg time="2026-02-13T22:03:51.016540" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} mkdir -p ${module_home}/sipp_scenarios</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:49.923471" elapsed="1.093209"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:51.017040" level="INFO">Executing command 'mkdir -p /tmp/sipp_upload_tmp'.</msg>
<msg time="2026-02-13T22:03:51.252253" level="INFO">Command exited with return code 0.</msg>
<arg>mkdir -p /tmp/sipp_upload_tmp</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:51.016883" elapsed="0.235577"/>
</kw>
<kw name="Put Directory" owner="SSHLibrary">
<msg time="2026-02-13T22:03:51.499374" level="INFO">[chan 9] Opened sftp connection (server version 3)</msg>
<msg time="2026-02-13T22:03:58.071875" level="INFO">'/home/pwuser/ns8-module/tests/sipp_scenarios/uas_answer.xml' -&gt; '/tmp/sipp_upload_tmp/sipp_scenarios/uas_answer.xml'</msg>
<msg time="2026-02-13T22:03:58.071971" level="INFO">'/home/pwuser/ns8-module/tests/sipp_scenarios/uas_busy.xml' -&gt; '/tmp/sipp_upload_tmp/sipp_scenarios/uas_busy.xml'</msg>
<msg time="2026-02-13T22:03:58.071994" level="INFO">'/home/pwuser/ns8-module/tests/sipp_scenarios/uas_register.xml' -&gt; '/tmp/sipp_upload_tmp/sipp_scenarios/uas_register.xml'</msg>
<msg time="2026-02-13T22:03:58.072009" level="INFO">'/home/pwuser/ns8-module/tests/sipp_scenarios/uas_no_answer.xml' -&gt; '/tmp/sipp_upload_tmp/sipp_scenarios/uas_no_answer.xml'</msg>
<msg time="2026-02-13T22:03:58.072061" level="INFO">'/home/pwuser/ns8-module/tests/sipp_scenarios/uac_cancel_call.xml' -&gt; '/tmp/sipp_upload_tmp/sipp_scenarios/uac_cancel_call.xml'</msg>
<msg time="2026-02-13T22:03:58.072082" level="INFO">'/home/pwuser/ns8-module/tests/sipp_scenarios/uac_basic_call.xml' -&gt; '/tmp/sipp_upload_tmp/sipp_scenarios/uac_basic_call.xml'</msg>
<msg time="2026-02-13T22:03:58.072096" level="INFO">'/home/pwuser/ns8-module/tests/sipp_scenarios/uac_call_with_media.xml' -&gt; '/tmp/sipp_upload_tmp/sipp_scenarios/uac_call_with_media.xml'</msg>
<msg time="2026-02-13T22:03:58.072110" level="INFO">'/home/pwuser/ns8-module/tests/sipp_scenarios/uac_options.xml' -&gt; '/tmp/sipp_upload_tmp/sipp_scenarios/uac_options.xml'</msg>
<msg time="2026-02-13T22:03:58.072122" level="INFO">'/home/pwuser/ns8-module/tests/sipp_scenarios/uac_multi_codec.xml' -&gt; '/tmp/sipp_upload_tmp/sipp_scenarios/uac_multi_codec.xml'</msg>
<msg time="2026-02-13T22:03:58.072134" level="INFO">'/home/pwuser/ns8-module/tests/sipp_scenarios/uac_register.xml' -&gt; '/tmp/sipp_upload_tmp/sipp_scenarios/uac_register.xml'</msg>
<msg time="2026-02-13T22:03:58.072146" level="INFO">'/home/pwuser/ns8-module/tests/sipp_scenarios/uac_srtp_call.xml' -&gt; '/tmp/sipp_upload_tmp/sipp_scenarios/uac_srtp_call.xml'</msg>
<msg time="2026-02-13T22:03:58.072159" level="INFO">'/home/pwuser/ns8-module/tests/sipp_scenarios/uac_tls_call.xml' -&gt; '/tmp/sipp_upload_tmp/sipp_scenarios/uac_tls_call.xml'</msg>
<msg time="2026-02-13T22:03:58.072171" level="INFO">'/home/pwuser/ns8-module/tests/sipp_scenarios/uac_reinvite.xml' -&gt; '/tmp/sipp_upload_tmp/sipp_scenarios/uac_reinvite.xml'</msg>
<arg>/home/pwuser/ns8-module/tests/sipp_scenarios</arg>
<arg>/tmp/sipp_upload_tmp</arg>
<arg>mode=0644</arg>
<doc>Uploads a directory, including its content, from the local machine to the remote machine.</doc>
<status status="PASS" start="2026-02-13T22:03:51.252762" elapsed="6.819470"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:58.072677" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'cp -r /tmp/sipp_upload_tmp/sipp_scenarios/* /home/nethvoice-proxy1/sipp_scenarios/''.</msg>
<msg time="2026-02-13T22:03:59.051070" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'cp -r /tmp/sipp_upload_tmp/sipp_scenarios/* ${module_home}/sipp_scenarios/'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:58.072438" elapsed="0.978919"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:59.051851" level="INFO">Executing command 'rm -rf /tmp/sipp_upload_tmp'.</msg>
<msg time="2026-02-13T22:03:59.292767" level="INFO">Command exited with return code 0.</msg>
<arg>rm -rf /tmp/sipp_upload_tmp</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:59.051641" elapsed="0.241308"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:03:59.293602" level="INFO">SIPp scenarios uploaded to /home/nethvoice-proxy1/sipp_scenarios</msg>
<arg>SIPp scenarios uploaded to ${module_home}/sipp_scenarios</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:03:59.293392" elapsed="0.000245"/>
</kw>
<doc>Upload all SIPp XML scenario files to the module home directory</doc>
<status status="PASS" start="2026-02-13T22:03:48.943159" elapsed="10.350532"/>
</kw>
<doc>Copy all SIPp XML scenarios to the NS8 node</doc>
<status status="PASS" start="2026-02-13T22:03:48.942891" elapsed="10.350889"/>
</test>
<test id="s1-s4-s1-t3" name="Verify uploaded scenarios are readable" line="17">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:03:59.294276" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'ls -la $HOME/sipp_scenarios/ &amp;&amp; echo "---" &amp;&amp; file $HOME/sipp_scenarios/uas_answer.xml &amp;&amp; echo "---" &amp;&amp; head -3 $HOME/sipp_scenarios/uas_answer.xml &amp;&amp; echo "---" &amp;&amp; xxd $HOME/sipp_scenarios/uas_answer.xml | head -3''.</msg>
<msg time="2026-02-13T22:04:00.474809" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:04:00.475049" level="INFO">${output} = total 0
drwxr-xr-x. 2 nethvoice-proxy1 nethvoice-proxy1  6 Feb 13 22:03 .
drwx------. 7 nethvoice-proxy1 nethvoice-proxy1 80 Feb 13 22:03 ..
---
/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml: c...</msg>
<msg time="2026-02-13T22:04:00.475114" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} sh -c 'ls -la $HOME/sipp_scenarios/ &amp;&amp; echo "---" &amp;&amp; file $HOME/sipp_scenarios/uas_answer.xml &amp;&amp; echo "---" &amp;&amp; head -3 $HOME/sipp_scenarios/uas_answer.xml &amp;&amp; echo "---" &amp;&amp; xxd $HOME/sipp_scenarios/uas_answer.xml | head -3'</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:03:59.294153" elapsed="1.180982"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:04:00.475527" level="INFO">Scenario file diagnostics: total 0
drwxr-xr-x. 2 nethvoice-proxy1 nethvoice-proxy1  6 Feb 13 22:03 .
drwx------. 7 nethvoice-proxy1 nethvoice-proxy1 80 Feb 13 22:03 ..
---
/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml: cannot open `/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' (No such file or directory)
---</msg>
<arg>Scenario file diagnostics: ${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:04:00.475359" elapsed="0.000211"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:04:00.475738" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<msg time="2026-02-13T22:04:00.475857" level="FAIL">1 != 0</msg>
<arg>${rc}</arg>
<arg>0</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="FAIL" start="2026-02-13T22:04:00.475645" elapsed="0.000711">1 != 0</status>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>uas_answer.xml</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:00.476450" elapsed="0.000015"/>
</kw>
<doc>Check that uploaded scenario files are intact on the node</doc>
<status status="FAIL" start="2026-02-13T22:03:59.293937" elapsed="1.182657">1 != 0</status>
</test>
<test id="s1-s4-s1-t4" name="Verify SIPp can parse a minimal scenario" line="26">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:00.477086" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'echo '"'"'&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;scenario name="test"&gt;&lt;recv request="INVITE" crlf="true"/&gt;&lt;/scenario&gt;'"'"' &gt; /tmp/sipp_test_parse.xml &amp;&amp; $HOME/bin/sipp -sf /tmp/sipp_test_parse.xml -p 19999 -bg 2&gt;&amp;1; echo "EXIT:$?"; rm -f /tmp/sipp_test_parse.xml''.</msg>
<msg time="2026-02-13T22:04:01.503330" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:01.503589" level="INFO">${output} = Background mode - PID=[46557]
EXIT:99</msg>
<msg time="2026-02-13T22:04:01.503626" level="INFO">${rc} = 0</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} sh -c 'echo '"'"'&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;scenario name="test"&gt;&lt;recv request="INVITE" crlf="true"/&gt;&lt;/scenario&gt;'"'"' &gt; /tmp/sipp_test_parse.xml &amp;&amp; $HOME/bin/sipp -sf /tmp/sipp_test_parse.xml -p 19999 -bg 2&gt;&amp;1; echo "EXIT:$?"; rm -f /tmp/sipp_test_parse.xml'</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:00.476923" elapsed="1.026723"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:04:01.504039" level="INFO">SIPp minimal parse test: Background mode - PID=[46557]
EXIT:99</msg>
<arg>SIPp minimal parse test: ${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:04:01.503854" elapsed="0.000291"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Unable to load or parse</arg>
<arg>SIPp cannot parse even a minimal scenario  binary may be broken</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2026-02-13T22:04:01.504233" elapsed="0.000172"/>
</kw>
<doc>Create and parse a minimal inline scenario to confirm SIPp works</doc>
<status status="PASS" start="2026-02-13T22:04:00.476737" elapsed="1.027762"/>
</test>
<test id="s1-s4-s1-t5" name="Verify SIPp can parse uploaded scenario" line="35">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:01.505026" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 19998 -bg 2&gt;&amp;1; RET=$?; kill $(cat /tmp/sipp_19998_*.pid 2&gt;/dev/null) 2&gt;/dev/null; echo "EXIT:$RET"''.</msg>
<msg time="2026-02-13T22:04:02.546317" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:02.546564" level="INFO">${output} = 2026-02-13	22:04:02.512940	1771020242.512940: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file
2026-02-13	22:04:02.512940	1771020242.512940: Unable to l...</msg>
<msg time="2026-02-13T22:04:02.546600" level="INFO">${rc} = 0</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 19998 -bg 2&gt;&amp;1; RET=$?; kill $(cat /tmp/sipp_19998_*.pid 2&gt;/dev/null) 2&gt;/dev/null; echo "EXIT:$RET"'</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:01.504856" elapsed="1.041765"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:04:02.547025" level="INFO">SIPp parse uas_answer test: 2026-02-13	22:04:02.512940	1771020242.512940: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file
2026-02-13	22:04:02.512940	1771020242.512940: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file
EXIT:1</msg>
<arg>SIPp parse uas_answer test: ${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:04:02.546841" elapsed="0.000239"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<msg time="2026-02-13T22:04:02.547360" level="FAIL">SIPp cannot parse uas_answer.xml: 2026-02-13	22:04:02.512940	1771020242.512940: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file
2026-02-13	22:04:02.512940	1771020242.512940: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file
EXIT:1: '2026-02-13	22:04:02.512940	1771020242.512940: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file
2026-02-13	22:04:02.512940	1771020242.512940: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file
EXIT:1' contains 'Unable to load or parse'</msg>
<arg>${output}</arg>
<arg>Unable to load or parse</arg>
<arg>SIPp cannot parse uas_answer.xml: ${output}</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="FAIL" start="2026-02-13T22:04:02.547157" elapsed="0.000383">SIPp cannot parse uas_answer.xml: 2026-02-13	22:04:02.512940	1771020242.512940: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file
2026-02-13	22:04:02.512940	1771020242.512940: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file
EXIT:1: '2026-02-13	22:04:02.512940	1771020242.512940: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file
2026-02-13	22:04:02.512940	1771020242.512940: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file
EXIT:1' contains 'Unable to load or parse'</status>
</kw>
<doc>Confirm SIPp can parse the actual uas_answer.xml scenario</doc>
<status status="FAIL" start="2026-02-13T22:04:01.504634" elapsed="1.043049">SIPp cannot parse uas_answer.xml: 2026-02-13	22:04:02.512940	1771020242.512940: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file
2026-02-13	22:04:02.512940	1771020242.512940: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file
EXIT:1: '2026-02-13	22:04:02.512940	1771020242.512940: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file
2026-02-13	22:04:02.512940	1771020242.512940: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file
EXIT:1' contains 'Unable to load or parse'</status>
</test>
<test id="s1-s4-s1-t6" name="Verify SIPp is working" line="43">
<kw name="Verify SIPp Available" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:02.548440" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -v 2&gt;&amp;1''.</msg>
<msg time="2026-02-13T22:04:03.673451" level="INFO">Command exited with return code 99.</msg>
<msg time="2026-02-13T22:04:03.673680" level="INFO">${output} = 
 SIPp v3.7.7-PCAP.

 This program is free software; you can redistribute it and/or
 modify it under the terms of the GNU General Public License as
 published by the Free Software Foundation; either v...</msg>
<msg time="2026-02-13T22:04:03.673716" level="INFO">${rc} = 99</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} sh -c '\$HOME/bin/sipp -v 2&gt;&amp;1'</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:02.548302" elapsed="1.125433"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>SIPp</arg>
<arg>SIPp not available on node</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2026-02-13T22:04:03.673937" elapsed="0.000279"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:04:03.674404" level="INFO">SIPp version: 
 SIPp v3.7.7-PCAP.

 This program is free software; you can redistribute it and/or
 modify it under the terms of the GNU General Public License as
 published by the Free Software Foundation; either version 2 of
 the License, or (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public
 License along with this program; if not, write to the
 Free Software Foundation, Inc.,
 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA

 Author: see source files.</msg>
<arg>SIPp version: ${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:04:03.674303" elapsed="0.000132"/>
</kw>
<doc>Confirm SIPp is installed and working</doc>
<status status="PASS" start="2026-02-13T22:04:02.548139" elapsed="1.126358"/>
</kw>
<doc>Confirm SIPp binary is functional</doc>
<status status="PASS" start="2026-02-13T22:04:02.547830" elapsed="1.126764"/>
</test>
<test id="s1-s4-s1-t7" name="Verify Kamailio is responding" line="47">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:03.675138" level="INFO">Executing command 'runagent -m nethvoice-proxy1 podman exec kamailio kamcmd core.uptime'.</msg>
<msg time="2026-02-13T22:04:04.925892" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:04.926263" level="INFO">${output} = {
	now: Fri Feb 13 23:04:04 2026
	up_since: Fri Feb 13 23:02:34 2026
	uptime: 90
}</msg>
<msg time="2026-02-13T22:04:04.926341" level="INFO">${rc} = 0</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} podman exec kamailio kamcmd core.uptime</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:03.674989" elapsed="1.251382"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:04:04.926904" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>0</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:04:04.926639" elapsed="0.000345"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>uptime</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2026-02-13T22:04:04.927148" elapsed="0.000183"/>
</kw>
<doc>Confirm Kamailio is up before running call tests</doc>
<status status="PASS" start="2026-02-13T22:04:03.674744" elapsed="1.252730"/>
</test>
<test id="s1-s4-s1-t8" name="Verify rtpengine is responding" line="55">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:04.928181" level="INFO">Executing command 'runagent -m nethvoice-proxy1 podman exec rtpengine rtpengine-ctl list totals'.</msg>
<msg time="2026-02-13T22:04:06.150780" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:06.151217" level="INFO">${output} = 
Statistics over currently running sessions:

 Owned sessions                                  :0
 Foreign sessions                                :0
 Total sessions                                  :...</msg>
<msg time="2026-02-13T22:04:06.151264" level="INFO">${rc} = 0</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} podman exec rtpengine rtpengine-ctl list totals</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:04.928048" elapsed="1.223245"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:04:06.151851" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>0</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:04:06.151591" elapsed="0.000328"/>
</kw>
<doc>Confirm rtpengine is up before running media tests</doc>
<status status="PASS" start="2026-02-13T22:04:04.927687" elapsed="1.224328"/>
</test>
<test id="s1-s4-s1-t9" name="Configure PBX-1 route for e2e tests" line="62">
<kw name="Setup PBX Route" owner="sipp">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:06.153605" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-route --data '{"domain":"pbx1.e2etest.local", "address":[{"uri":"sip:127.0.0.1:5080","description":"e2e-pbx1"}]}''.</msg>
<msg time="2026-02-13T22:04:08.178012" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:08.178479" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:04:08.178546" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:04:08.178596" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:06.153459" elapsed="2.025165"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:04:08.179359" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:04:08.178900" elapsed="0.000542"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:04:08.180291" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:04:08.179996" elapsed="0.000310"/>
</kw>
<status status="PASS" start="2026-02-13T22:04:08.179570" elapsed="0.000758"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:08.180415" elapsed="0.000010"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:08.180352" elapsed="0.000091"/>
</branch>
<status status="PASS" start="2026-02-13T22:04:08.179533" elapsed="0.000921"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:04:08.180485" elapsed="0.000041"/>
</return>
<arg>module/${module_id}/add-route</arg>
<arg>{"domain":"${domain}", "address":[{"uri":"sip:127.0.0.1:${port}","description":"${description}"}]}</arg>
<status status="PASS" start="2026-02-13T22:04:06.153188" elapsed="2.027413"/>
</kw>
<arg>${PBX1_DOMAIN}</arg>
<arg>${PBX1_SIP_PORT}</arg>
<arg>e2e-pbx1</arg>
<doc>Create a domain route pointing to a SIPp UAS</doc>
<status status="PASS" start="2026-02-13T22:04:06.152770" elapsed="2.027867"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:08.181471" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-route --data '{"domain":"pbx1.e2etest.local"}''.</msg>
<msg time="2026-02-13T22:04:09.813530" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:09.813787" level="INFO">${stdout} = {"address": [{"uri": "sip:127.0.0.1:5080", "description": "e2e-pbx1"}]}</msg>
<msg time="2026-02-13T22:04:09.813822" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:04:09.813849" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:08.181345" elapsed="1.632523"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:04:09.814399" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:04:09.814112" elapsed="0.000358"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:04:09.815119" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5080', 'description': 'e2e-pbx1'}]}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:04:09.814871" elapsed="0.000288"/>
</kw>
<status status="PASS" start="2026-02-13T22:04:09.814551" elapsed="0.000633"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:09.815275" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:09.815204" elapsed="0.000099"/>
</branch>
<status status="PASS" start="2026-02-13T22:04:09.814527" elapsed="0.000787"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:04:09.815343" elapsed="0.000035"/>
</return>
<msg time="2026-02-13T22:04:09.815469" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5080', 'description': 'e2e-pbx1'}]}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-route</arg>
<arg>{"domain":"${PBX1_DOMAIN}"}</arg>
<status status="PASS" start="2026-02-13T22:04:08.181090" elapsed="1.634393"/>
</kw>
<kw name="Should Not Be Empty" owner="BuiltIn">
<msg time="2026-02-13T22:04:09.815631" level="INFO">Length is 1.</msg>
<arg>${response}</arg>
<doc>Verifies that the given item is not empty.</doc>
<status status="PASS" start="2026-02-13T22:04:09.815548" elapsed="0.000106"/>
</kw>
<doc>Create domain route for PBX-1 pointing to SIPp UAS port</doc>
<status status="PASS" start="2026-02-13T22:04:06.152198" elapsed="3.663525"/>
</test>
<status status="FAIL" start="2026-02-13T22:03:44.306536" elapsed="25.509371"/>
</suite>
<suite id="s1-s4-s2" name="10 Basic Call" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/10_basic_call.robot">
<kw name="Start PBX1 UAS For Basic Calls" type="SETUP">
<kw name="Start UAS Server" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:09.818900" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null; sleep 1''.</msg>
<msg time="2026-02-13T22:04:11.928234" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null; sleep 1'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:09.818776" elapsed="2.109651"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:11.929079" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:11.928709" elapsed="0.000414"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:11.929640" level="INFO">${cmd} = runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file...</msg>
<var>${cmd}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf ${SIPP_SCENARIOS_DIR}/${scenario} -p ${port} -mi 127.0.0.1 -mp ${media_port} -rtp_echo -trace_stat -stf /tmp/sipp_uas_${port}_stat.csv -trace_err -error_file /tmp/sipp_uas_${port}_err.log -bg ${extra_args} 2&gt;/tmp/sipp_uas_${port}.log'</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:11.929253" elapsed="0.000418"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:11.930036" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file /tmp/sipp_uas_5080_err.log -bg  2&gt;/tmp/sipp_uas_5080.log''.</msg>
<msg time="2026-02-13T22:04:13.015156" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:04:13.015482" level="INFO">${output} = </msg>
<msg time="2026-02-13T22:04:13.015543" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>${cmd}</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:11.929900" elapsed="1.085673"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:04:13.016151" level="INFO">SIPp -bg output: , rc: 1</msg>
<arg>SIPp -bg output: ${output}, rc: ${rc}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:04:13.015845" elapsed="0.000369"/>
</kw>
<if>
<branch type="IF" condition="${rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:13.016638" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.log 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:04:14.120536" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:14.120826" level="INFO">${log_content} = 2026-02-13	22:04:12.944293	1771020252.944293: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:13.016534" elapsed="1.104332"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<msg time="2026-02-13T22:04:14.121720" level="FAIL">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:12.944293	1771020252.944293: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<arg>Failed to start UAS on port ${port} (rc=${rc}): ${output} ${log_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="FAIL" start="2026-02-13T22:04:14.121174" elapsed="0.000655">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:12.944293	1771020252.944293: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<status status="FAIL" start="2026-02-13T22:04:13.016337" elapsed="1.105580">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:12.944293	1771020252.944293: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</branch>
<status status="FAIL" start="2026-02-13T22:04:13.016299" elapsed="1.107129">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:12.944293	1771020252.944293: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</if>
<kw name="Strip String" owner="String">
<var>${pid}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:14.123508" elapsed="0.000013"/>
</kw>
<kw name="Should Match Regexp" owner="BuiltIn">
<arg>${pid}</arg>
<arg>^[0-9]+$</arg>
<arg>SIPp -bg did not return a valid PID: '${pid}'</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:14.123580" elapsed="0.000010"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'echo ${pid} &gt; ${pid_file}'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:14.123648" elapsed="0.000010"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:14.123702" elapsed="0.000008"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${check_rc}</var>
<arg>runagent -m ${module_id} kill -0 ${pid} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:14.123753" elapsed="0.000010"/>
</kw>
<if>
<branch type="IF" condition="${check_rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:14.123875" elapsed="0.000009"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${err_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}_err.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:14.123930" elapsed="0.000009"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<arg>UAS process ${pid} on port ${port} died immediately. Log: ${log_content} Errors: ${err_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:14.123981" elapsed="0.000009"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:14.123817" elapsed="0.000187"/>
</branch>
<status status="NOT RUN" start="2026-02-13T22:04:14.123800" elapsed="0.000215"/>
</if>
<kw name="Log" owner="BuiltIn">
<arg>Started UAS ${scenario} on port ${port} with PID ${pid}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:14.124113" elapsed="0.000030"/>
</kw>
<return>
<value>${pid}</value>
<status status="NOT RUN" start="2026-02-13T22:04:14.124186" elapsed="0.000018"/>
</return>
<var>${pid}</var>
<arg>uas_answer.xml</arg>
<arg>${PBX1_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS1}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="FAIL" start="2026-02-13T22:04:09.818339" elapsed="4.305959">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:12.944293	1771020252.944293: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS1_PID}</arg>
<arg>${pid}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:14.124400" elapsed="0.000015"/>
</kw>
<status status="FAIL" start="2026-02-13T22:04:09.818110" elapsed="4.306365">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:12.944293	1771020252.944293: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<test id="s1-s4-s2-t1" name="Basic call through proxy completes successfully" line="16">
<doc>Single INVITE-&gt;200-&gt;ACK-&gt;BYE call through Kamailio to PBX-1 UAS.
Verifies SIP signaling path: UAC -&gt; Kamailio -&gt; dispatcher -&gt; UAS.</doc>
<status status="FAIL" start="2026-02-13T22:04:14.124534" elapsed="0.000207">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:12.944293	1771020252.944293: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s2-t2" name="Multiple sequential calls complete successfully" line="23">
<doc>Run 3 sequential calls to verify stateful proxy handles call teardown correctly.</doc>
<status status="FAIL" start="2026-02-13T22:04:14.124964" elapsed="0.000190">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:12.944293	1771020252.944293: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s2-t3" name="OPTIONS keepalive receives 200 OK" line="29">
<doc>Verify Kamailio's KEEPALIVE route responds to OPTIONS requests.</doc>
<status status="FAIL" start="2026-02-13T22:04:14.125254" elapsed="0.000139">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:12.944293	1771020252.944293: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<kw name="Stop UAS Server" owner="sipp" type="TEARDOWN">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:14.125963" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:14.125878" elapsed="0.000100"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:14.126163" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:04:15.228164" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:04:15.228460" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:04:15.228524" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:14.126039" elapsed="1.102515"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:15.229090" elapsed="0.000030"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:15.229195" elapsed="0.000013"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:15.228738" elapsed="0.000492"/>
</branch>
<status status="PASS" start="2026-02-13T22:04:15.228695" elapsed="0.000557"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:15.229528" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:04:16.337008" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:15.229314" elapsed="1.107953"/>
</kw>
<arg>${PBX1_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:04:14.125734" elapsed="2.211676"/>
</kw>
<status status="FAIL" start="2026-02-13T22:04:09.816100" elapsed="6.521366">Suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:12.944293	1771020252.944293: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</suite>
<suite id="s1-s4-s3" name="11 Call With Media" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/11_call_with_media.robot">
<kw name="Start PBX1 UAS With RTP Echo" type="SETUP">
<kw name="Start UAS Server" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:16.341807" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null; sleep 1''.</msg>
<msg time="2026-02-13T22:04:18.424689" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null; sleep 1'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:16.341662" elapsed="2.083181"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:18.425312" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:18.425065" elapsed="0.000267"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:18.425629" level="INFO">${cmd} = runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file...</msg>
<var>${cmd}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf ${SIPP_SCENARIOS_DIR}/${scenario} -p ${port} -mi 127.0.0.1 -mp ${media_port} -rtp_echo -trace_stat -stf /tmp/sipp_uas_${port}_stat.csv -trace_err -error_file /tmp/sipp_uas_${port}_err.log -bg ${extra_args} 2&gt;/tmp/sipp_uas_${port}.log'</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:18.425407" elapsed="0.000240"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:18.425936" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file /tmp/sipp_uas_5080_err.log -bg  2&gt;/tmp/sipp_uas_5080.log''.</msg>
<msg time="2026-02-13T22:04:19.479922" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:04:19.480326" level="INFO">${output} = </msg>
<msg time="2026-02-13T22:04:19.480388" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>${cmd}</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:18.425726" elapsed="1.054694"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:04:19.481058" level="INFO">SIPp -bg output: , rc: 1</msg>
<arg>SIPp -bg output: ${output}, rc: ${rc}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:04:19.480740" elapsed="0.000414"/>
</kw>
<if>
<branch type="IF" condition="${rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:19.481749" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.log 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:04:20.452729" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:20.453023" level="INFO">${log_content} = 2026-02-13	22:04:19.350019	1771020259.350019: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:19.481550" elapsed="0.971530"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<msg time="2026-02-13T22:04:20.453986" level="FAIL">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:19.350019	1771020259.350019: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<arg>Failed to start UAS on port ${port} (rc=${rc}): ${output} ${log_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="FAIL" start="2026-02-13T22:04:20.453455" elapsed="0.000601">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:19.350019	1771020259.350019: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<status status="FAIL" start="2026-02-13T22:04:19.481274" elapsed="0.972840">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:19.350019	1771020259.350019: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</branch>
<status status="FAIL" start="2026-02-13T22:04:19.481237" elapsed="0.972914">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:19.350019	1771020259.350019: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</if>
<kw name="Strip String" owner="String">
<var>${pid}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:20.454233" elapsed="0.000012"/>
</kw>
<kw name="Should Match Regexp" owner="BuiltIn">
<arg>${pid}</arg>
<arg>^[0-9]+$</arg>
<arg>SIPp -bg did not return a valid PID: '${pid}'</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:20.454316" elapsed="0.000013"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'echo ${pid} &gt; ${pid_file}'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:20.454404" elapsed="0.000012"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:20.454471" elapsed="0.000010"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${check_rc}</var>
<arg>runagent -m ${module_id} kill -0 ${pid} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:20.454539" elapsed="0.000010"/>
</kw>
<if>
<branch type="IF" condition="${check_rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:20.454676" elapsed="0.000011"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${err_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}_err.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:20.454745" elapsed="0.000010"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<arg>UAS process ${pid} on port ${port} died immediately. Log: ${log_content} Errors: ${err_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:20.454806" elapsed="0.000010"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:20.454609" elapsed="0.000226"/>
</branch>
<status status="NOT RUN" start="2026-02-13T22:04:20.454592" elapsed="0.000258"/>
</if>
<kw name="Log" owner="BuiltIn">
<arg>Started UAS ${scenario} on port ${port} with PID ${pid}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:20.454897" elapsed="0.000009"/>
</kw>
<return>
<value>${pid}</value>
<status status="NOT RUN" start="2026-02-13T22:04:20.454933" elapsed="0.000013"/>
</return>
<var>${pid}</var>
<arg>uas_answer.xml</arg>
<arg>${PBX1_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS1}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="FAIL" start="2026-02-13T22:04:16.341185" elapsed="4.113827">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:19.350019	1771020259.350019: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS1_PID}</arg>
<arg>${pid}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:20.455099" elapsed="0.000010"/>
</kw>
<status status="FAIL" start="2026-02-13T22:04:16.340875" elapsed="4.114292">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:19.350019	1771020259.350019: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<test id="s1-s4-s3-t1" name="Call with RTP media flow completes successfully" line="17">
<doc>INVITE with SDP and RTP media stream through rtpengine.
Verifies rtpengine forwards media packets between UAC and UAS.</doc>
<status status="FAIL" start="2026-02-13T22:04:20.455222" elapsed="0.000182">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:19.350019	1771020259.350019: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s3-t2" name="No rtpengine session leak after media call" line="24">
<doc>After the media call ends, verify rtpengine cleaned up sessions.</doc>
<status status="FAIL" start="2026-02-13T22:04:20.455513" elapsed="0.000101">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:19.350019	1771020259.350019: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s3-t3" name="RTPEngine stats show processed packets" line="28">
<doc>Verify rtpengine has processed media (non-zero packet counters).</doc>
<status status="FAIL" start="2026-02-13T22:04:20.455678" elapsed="0.000098">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:19.350019	1771020259.350019: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<kw name="Stop UAS Server" owner="sipp" type="TEARDOWN">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:20.456303" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:20.456214" elapsed="0.000103"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:20.456487" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:04:21.427448" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:04:21.427724" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:04:21.427760" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:20.456374" elapsed="0.971405"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:21.428288" elapsed="0.000025"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:21.428513" elapsed="0.000014"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:21.427951" elapsed="0.000598"/>
</branch>
<status status="PASS" start="2026-02-13T22:04:21.427909" elapsed="0.000665"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:21.428886" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:04:22.425507" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:21.428642" elapsed="0.997080"/>
</kw>
<arg>${PBX1_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:04:20.456052" elapsed="1.969825"/>
</kw>
<status status="FAIL" start="2026-02-13T22:04:16.338005" elapsed="6.087930">Suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:19.350019	1771020259.350019: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</suite>
<suite id="s1-s4-s4" name="12 Call Cancel" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/12_call_cancel.robot">
<kw name="Start PBX1 UAS For Cancel Test" type="SETUP">
<kw name="Start UAS Server" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:22.429981" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null; sleep 1''.</msg>
<msg time="2026-02-13T22:04:24.451996" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null; sleep 1'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:22.429840" elapsed="2.022382"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:24.452844" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:24.452509" elapsed="0.000370"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:24.453440" level="INFO">${cmd} = runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_no_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_f...</msg>
<var>${cmd}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf ${SIPP_SCENARIOS_DIR}/${scenario} -p ${port} -mi 127.0.0.1 -mp ${media_port} -rtp_echo -trace_stat -stf /tmp/sipp_uas_${port}_stat.csv -trace_err -error_file /tmp/sipp_uas_${port}_err.log -bg ${extra_args} 2&gt;/tmp/sipp_uas_${port}.log'</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:24.453009" elapsed="0.000461"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:24.453705" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_no_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file /tmp/sipp_uas_5080_err.log -bg  2&gt;/tmp/sipp_uas_5080.log''.</msg>
<msg time="2026-02-13T22:04:25.545894" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:04:25.546213" level="INFO">${output} = </msg>
<msg time="2026-02-13T22:04:25.546267" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>${cmd}</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:24.453552" elapsed="1.092761"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:04:25.546988" level="INFO">SIPp -bg output: , rc: 1</msg>
<arg>SIPp -bg output: ${output}, rc: ${rc}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:04:25.546703" elapsed="0.000346"/>
</kw>
<if>
<branch type="IF" condition="${rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:25.547485" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.log 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:04:26.531525" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:26.531740" level="INFO">${log_content} = 2026-02-13	22:04:25.433928	1771020265.433928: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</msg>
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:25.547371" elapsed="0.984392"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<msg time="2026-02-13T22:04:26.532313" level="FAIL">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:25.433928	1771020265.433928: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</msg>
<arg>Failed to start UAS on port ${port} (rc=${rc}): ${output} ${log_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="FAIL" start="2026-02-13T22:04:26.531945" elapsed="0.000437">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:25.433928	1771020265.433928: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</status>
</kw>
<status status="FAIL" start="2026-02-13T22:04:25.547166" elapsed="0.985268">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:25.433928	1771020265.433928: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</status>
</branch>
<status status="FAIL" start="2026-02-13T22:04:25.547138" elapsed="0.985336">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:25.433928	1771020265.433928: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</status>
</if>
<kw name="Strip String" owner="String">
<var>${pid}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:26.532578" elapsed="0.000015"/>
</kw>
<kw name="Should Match Regexp" owner="BuiltIn">
<arg>${pid}</arg>
<arg>^[0-9]+$</arg>
<arg>SIPp -bg did not return a valid PID: '${pid}'</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:26.532668" elapsed="0.000013"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'echo ${pid} &gt; ${pid_file}'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:26.532751" elapsed="0.000013"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:26.532820" elapsed="0.000012"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${check_rc}</var>
<arg>runagent -m ${module_id} kill -0 ${pid} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:26.532890" elapsed="0.000011"/>
</kw>
<if>
<branch type="IF" condition="${check_rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:26.533144" elapsed="0.000011"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${err_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}_err.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:26.533205" elapsed="0.000009"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<arg>UAS process ${pid} on port ${port} died immediately. Log: ${log_content} Errors: ${err_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:26.533257" elapsed="0.000010"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:26.533069" elapsed="0.000212"/>
</branch>
<status status="NOT RUN" start="2026-02-13T22:04:26.533049" elapsed="0.000245"/>
</if>
<kw name="Log" owner="BuiltIn">
<arg>Started UAS ${scenario} on port ${port} with PID ${pid}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:26.533339" elapsed="0.000009"/>
</kw>
<return>
<value>${pid}</value>
<status status="NOT RUN" start="2026-02-13T22:04:26.533375" elapsed="0.000013"/>
</return>
<var>${pid}</var>
<arg>uas_no_answer.xml</arg>
<arg>${PBX1_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS1}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="FAIL" start="2026-02-13T22:04:22.429397" elapsed="4.104058">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:25.433928	1771020265.433928: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</status>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS1_PID}</arg>
<arg>${pid}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:26.533533" elapsed="0.000010"/>
</kw>
<status status="FAIL" start="2026-02-13T22:04:22.428890" elapsed="4.104697">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:25.433928	1771020265.433928: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</status>
</kw>
<test id="s1-s4-s4-t1" name="CANCEL in-progress call propagates correctly" line="17">
<doc>INVITE -&gt; 180 Ringing -&gt; CANCEL -&gt; 487 Request Terminated.
Verifies proxy correctly forwards CANCEL and propagates 487.</doc>
<status status="FAIL" start="2026-02-13T22:04:26.533639" elapsed="0.000185">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:25.433928	1771020265.433928: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s4-t2" name="No rtpengine session leak after cancelled call" line="23">
<doc>Cancelled calls should not leave orphaned rtpengine sessions.</doc>
<status status="FAIL" start="2026-02-13T22:04:26.533926" elapsed="0.000135">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:25.433928	1771020265.433928: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</status>
</test>
<kw name="Stop UAS Server" owner="sipp" type="TEARDOWN">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:26.534624" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:26.534535" elapsed="0.000103"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:26.534804" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:04:27.539970" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:04:27.540313" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:04:27.540374" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:26.534693" elapsed="1.005712"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:27.540960" elapsed="0.000046"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:27.541162" elapsed="0.000024"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:27.540583" elapsed="0.000638"/>
</branch>
<status status="PASS" start="2026-02-13T22:04:27.540541" elapsed="0.000715"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:27.541697" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:04:28.624573" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:27.541366" elapsed="1.083359"/>
</kw>
<arg>${PBX1_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:04:26.534389" elapsed="2.090437"/>
</kw>
<status status="FAIL" start="2026-02-13T22:04:22.426514" elapsed="6.198352">Suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:25.433928	1771020265.433928: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</status>
</suite>
<suite id="s1-s4-s5" name="13 Call Busy" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/13_call_busy.robot">
<kw name="Start PBX1 Busy UAS" type="SETUP">
<kw name="Start UAS Server" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:28.628998" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null; sleep 1''.</msg>
<msg time="2026-02-13T22:04:30.611056" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null; sleep 1'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:28.628836" elapsed="1.982436"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:30.611924" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:30.611571" elapsed="0.000387"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:30.612531" level="INFO">${cmd} = runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_busy.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file /...</msg>
<var>${cmd}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf ${SIPP_SCENARIOS_DIR}/${scenario} -p ${port} -mi 127.0.0.1 -mp ${media_port} -rtp_echo -trace_stat -stf /tmp/sipp_uas_${port}_stat.csv -trace_err -error_file /tmp/sipp_uas_${port}_err.log -bg ${extra_args} 2&gt;/tmp/sipp_uas_${port}.log'</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:30.612106" elapsed="0.000597"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:30.613121" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_busy.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file /tmp/sipp_uas_5080_err.log -bg  2&gt;/tmp/sipp_uas_5080.log''.</msg>
<msg time="2026-02-13T22:04:31.593370" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:04:31.593685" level="INFO">${output} = </msg>
<msg time="2026-02-13T22:04:31.593750" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>${cmd}</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:30.612853" elapsed="0.980928"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:04:31.594400" level="INFO">SIPp -bg output: , rc: 1</msg>
<arg>SIPp -bg output: ${output}, rc: ${rc}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:04:31.594095" elapsed="0.000366"/>
</kw>
<if>
<branch type="IF" condition="${rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:31.595113" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.log 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:04:32.575209" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:32.575542" level="INFO">${log_content} = 2026-02-13	22:04:31.552789	1771020271.552789: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_busy.xml' xml scenario file</msg>
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:31.594884" elapsed="0.980698"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<msg time="2026-02-13T22:04:32.576515" level="FAIL">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:31.552789	1771020271.552789: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_busy.xml' xml scenario file</msg>
<arg>Failed to start UAS on port ${port} (rc=${rc}): ${output} ${log_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="FAIL" start="2026-02-13T22:04:32.575916" elapsed="0.000676">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:31.552789	1771020271.552789: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_busy.xml' xml scenario file</status>
</kw>
<status status="FAIL" start="2026-02-13T22:04:31.594585" elapsed="0.982070">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:31.552789	1771020271.552789: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_busy.xml' xml scenario file</status>
</branch>
<status status="FAIL" start="2026-02-13T22:04:31.594547" elapsed="0.982152">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:31.552789	1771020271.552789: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_busy.xml' xml scenario file</status>
</if>
<kw name="Strip String" owner="String">
<var>${pid}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:32.576810" elapsed="0.000018"/>
</kw>
<kw name="Should Match Regexp" owner="BuiltIn">
<arg>${pid}</arg>
<arg>^[0-9]+$</arg>
<arg>SIPp -bg did not return a valid PID: '${pid}'</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:32.576918" elapsed="0.000016"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'echo ${pid} &gt; ${pid_file}'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:32.577050" elapsed="0.000016"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:32.577137" elapsed="0.000012"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${check_rc}</var>
<arg>runagent -m ${module_id} kill -0 ${pid} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:32.577205" elapsed="0.000011"/>
</kw>
<if>
<branch type="IF" condition="${check_rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:32.577344" elapsed="0.000011"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${err_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}_err.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:32.577411" elapsed="0.000010"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<arg>UAS process ${pid} on port ${port} died immediately. Log: ${log_content} Errors: ${err_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:32.577472" elapsed="0.000010"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:32.577276" elapsed="0.000223"/>
</branch>
<status status="NOT RUN" start="2026-02-13T22:04:32.577259" elapsed="0.000255"/>
</if>
<kw name="Log" owner="BuiltIn">
<arg>Started UAS ${scenario} on port ${port} with PID ${pid}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:32.577566" elapsed="0.000010"/>
</kw>
<return>
<value>${pid}</value>
<status status="NOT RUN" start="2026-02-13T22:04:32.577605" elapsed="0.000014"/>
</return>
<var>${pid}</var>
<arg>uas_busy.xml</arg>
<arg>${PBX1_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS1}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="FAIL" start="2026-02-13T22:04:28.628356" elapsed="3.949334">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:31.552789	1771020271.552789: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_busy.xml' xml scenario file</status>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS1_PID}</arg>
<arg>${pid}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:32.577779" elapsed="0.000013"/>
</kw>
<status status="FAIL" start="2026-02-13T22:04:28.628106" elapsed="3.949736">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:31.552789	1771020271.552789: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_busy.xml' xml scenario file</status>
</kw>
<test id="s1-s4-s5-t1" name="Call to busy PBX propagates 486 Busy Here" line="17">
<doc>INVITE to a busy PBX endpoint.
Verifies 486 Busy Here is propagated back through the proxy to the UAC.
SIPp UAC receives a non-2xx response so it returns non-zero exit code.</doc>
<status status="FAIL" start="2026-02-13T22:04:32.577892" elapsed="0.000200">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:31.552789	1771020271.552789: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_busy.xml' xml scenario file</status>
</test>
<kw name="Stop UAS Server" owner="sipp" type="TEARDOWN">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:32.578798" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:32.578681" elapsed="0.000144"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:32.578995" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:04:33.617745" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:04:33.618064" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:04:33.618243" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:32.578883" elapsed="1.039402"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:33.618826" elapsed="0.000034"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:33.618981" elapsed="0.000022"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:33.618476" elapsed="0.000578"/>
</branch>
<status status="PASS" start="2026-02-13T22:04:33.618431" elapsed="0.000663"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:33.619542" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:04:34.666588" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:33.619210" elapsed="1.047573"/>
</kw>
<arg>${PBX1_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:04:32.578516" elapsed="2.088414"/>
</kw>
<status status="FAIL" start="2026-02-13T22:04:28.625242" elapsed="6.041745">Suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:31.552789	1771020271.552789: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_busy.xml' xml scenario file</status>
</suite>
<suite id="s1-s4-s6" name="14 Call Timeout" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/14_call_timeout.robot">
<kw name="Start PBX1 No Answer UAS" type="SETUP">
<kw name="Start UAS Server" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:34.671372" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null; sleep 1''.</msg>
<msg time="2026-02-13T22:04:36.679551" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null; sleep 1'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:34.671232" elapsed="2.008512"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:36.680282" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:36.680005" elapsed="0.000298"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:36.680637" level="INFO">${cmd} = runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_no_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_f...</msg>
<var>${cmd}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf ${SIPP_SCENARIOS_DIR}/${scenario} -p ${port} -mi 127.0.0.1 -mp ${media_port} -rtp_echo -trace_stat -stf /tmp/sipp_uas_${port}_stat.csv -trace_err -error_file /tmp/sipp_uas_${port}_err.log -bg ${extra_args} 2&gt;/tmp/sipp_uas_${port}.log'</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:36.680378" elapsed="0.000291"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:36.681059" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_no_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file /tmp/sipp_uas_5080_err.log -bg  2&gt;/tmp/sipp_uas_5080.log''.</msg>
<msg time="2026-02-13T22:04:37.711020" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:04:37.711350" level="INFO">${output} = </msg>
<msg time="2026-02-13T22:04:37.711410" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>${cmd}</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:36.680807" elapsed="1.030633"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:04:37.711996" level="INFO">SIPp -bg output: , rc: 1</msg>
<arg>SIPp -bg output: ${output}, rc: ${rc}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:04:37.711701" elapsed="0.000421"/>
</kw>
<if>
<branch type="IF" condition="${rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:37.712730" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.log 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:04:38.705440" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:38.705715" level="INFO">${log_content} = 2026-02-13	22:04:37.646847	1771020277.646847: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</msg>
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:37.712537" elapsed="0.993216"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<msg time="2026-02-13T22:04:38.706541" level="FAIL">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:37.646847	1771020277.646847: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</msg>
<arg>Failed to start UAS on port ${port} (rc=${rc}): ${output} ${log_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="FAIL" start="2026-02-13T22:04:38.706000" elapsed="0.000643">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:37.646847	1771020277.646847: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</status>
</kw>
<status status="FAIL" start="2026-02-13T22:04:37.712248" elapsed="0.994608">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:37.646847	1771020277.646847: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</status>
</branch>
<status status="FAIL" start="2026-02-13T22:04:37.712207" elapsed="0.994714">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:37.646847	1771020277.646847: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</status>
</if>
<kw name="Strip String" owner="String">
<var>${pid}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:38.707098" elapsed="0.000029"/>
</kw>
<kw name="Should Match Regexp" owner="BuiltIn">
<arg>${pid}</arg>
<arg>^[0-9]+$</arg>
<arg>SIPp -bg did not return a valid PID: '${pid}'</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:38.707258" elapsed="0.000023"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'echo ${pid} &gt; ${pid_file}'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:38.707398" elapsed="0.000021"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:38.707503" elapsed="0.000009"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${check_rc}</var>
<arg>runagent -m ${module_id} kill -0 ${pid} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:38.707559" elapsed="0.000009"/>
</kw>
<if>
<branch type="IF" condition="${check_rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:38.707679" elapsed="0.000009"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${err_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}_err.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:38.707735" elapsed="0.000009"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<arg>UAS process ${pid} on port ${port} died immediately. Log: ${log_content} Errors: ${err_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:38.707786" elapsed="0.000009"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:38.707623" elapsed="0.000187"/>
</branch>
<status status="NOT RUN" start="2026-02-13T22:04:38.707606" elapsed="0.000216"/>
</if>
<kw name="Log" owner="BuiltIn">
<arg>Started UAS ${scenario} on port ${port} with PID ${pid}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:38.707865" elapsed="0.000009"/>
</kw>
<return>
<value>${pid}</value>
<status status="NOT RUN" start="2026-02-13T22:04:38.707900" elapsed="0.000012"/>
</return>
<var>${pid}</var>
<arg>uas_no_answer.xml</arg>
<arg>${PBX1_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS1}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="FAIL" start="2026-02-13T22:04:34.670787" elapsed="4.037190">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:37.646847	1771020277.646847: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</status>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS1_PID}</arg>
<arg>${pid}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:38.708061" elapsed="0.000011"/>
</kw>
<status status="FAIL" start="2026-02-13T22:04:34.670522" elapsed="4.037596">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:37.646847	1771020277.646847: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</status>
</kw>
<test id="s1-s4-s6-t1" name="Call with no answer times out properly" line="17">
<doc>INVITE -&gt; 180 Ringing -&gt; timeout (SIPp -timeout triggers CANCEL).
Verifies the proxy handles timeout gracefully without hanging.</doc>
<tag>slow</tag>
<status status="FAIL" start="2026-02-13T22:04:38.708169" elapsed="0.000238">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:37.646847	1771020277.646847: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s6-t2" name="No rtpengine session leak after timeout" line="25">
<doc>Timed-out calls should not leave orphaned rtpengine sessions.</doc>
<status status="FAIL" start="2026-02-13T22:04:38.708508" elapsed="0.000107">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:37.646847	1771020277.646847: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</status>
</test>
<kw name="Stop UAS Server" owner="sipp" type="TEARDOWN">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:38.709192" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:38.709095" elapsed="0.000111"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:38.709372" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:04:39.793413" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:04:39.793669" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:04:39.793704" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:38.709261" elapsed="1.084460"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:39.794117" elapsed="0.000022"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:39.794209" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:39.793853" elapsed="0.000388"/>
</branch>
<status status="PASS" start="2026-02-13T22:04:39.793820" elapsed="0.000441"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:39.794529" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:04:40.824310" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:39.794321" elapsed="1.030194"/>
</kw>
<arg>${PBX1_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:04:38.708895" elapsed="2.115930"/>
</kw>
<status status="FAIL" start="2026-02-13T22:04:34.667582" elapsed="6.157302">Suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:37.646847	1771020277.646847: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_no_answer.xml' xml scenario file</status>
</suite>
<suite id="s1-s4-s7" name="15 Concurrent Calls" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/15_concurrent_calls.robot">
<kw name="Start PBX1 UAS For Concurrent Calls" type="SETUP">
<kw name="Start UAS Server" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:40.829121" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null; sleep 1''.</msg>
<msg time="2026-02-13T22:04:42.900019" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null; sleep 1'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:40.828960" elapsed="2.071284"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:42.900880" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:42.900527" elapsed="0.000387"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:42.901379" level="INFO">${cmd} = runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file...</msg>
<var>${cmd}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf ${SIPP_SCENARIOS_DIR}/${scenario} -p ${port} -mi 127.0.0.1 -mp ${media_port} -rtp_echo -trace_stat -stf /tmp/sipp_uas_${port}_stat.csv -trace_err -error_file /tmp/sipp_uas_${port}_err.log -bg ${extra_args} 2&gt;/tmp/sipp_uas_${port}.log'</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:42.901069" elapsed="0.000325"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:42.901584" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file /tmp/sipp_uas_5080_err.log -bg  2&gt;/tmp/sipp_uas_5080.log''.</msg>
<msg time="2026-02-13T22:04:43.976268" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:04:43.976568" level="INFO">${output} = </msg>
<msg time="2026-02-13T22:04:43.976607" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>${cmd}</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:42.901460" elapsed="1.075165"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:04:43.977016" level="INFO">SIPp -bg output: , rc: 1</msg>
<arg>SIPp -bg output: ${output}, rc: ${rc}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:04:43.976822" elapsed="0.000239"/>
</kw>
<if>
<branch type="IF" condition="${rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:43.977454" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.log 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:04:45.077665" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:45.077955" level="INFO">${log_content} = 2026-02-13	22:04:43.884836	1771020283.884836: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:43.977343" elapsed="1.100651"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<msg time="2026-02-13T22:04:45.078829" level="FAIL">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:43.884836	1771020283.884836: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<arg>Failed to start UAS on port ${port} (rc=${rc}): ${output} ${log_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="FAIL" start="2026-02-13T22:04:45.078293" elapsed="0.000644">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:43.884836	1771020283.884836: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<status status="FAIL" start="2026-02-13T22:04:43.977170" elapsed="1.101854">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:43.884836	1771020283.884836: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</branch>
<status status="FAIL" start="2026-02-13T22:04:43.977126" elapsed="1.101998">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:43.884836	1771020283.884836: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</if>
<kw name="Strip String" owner="String">
<var>${pid}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:45.079286" elapsed="0.000029"/>
</kw>
<kw name="Should Match Regexp" owner="BuiltIn">
<arg>${pid}</arg>
<arg>^[0-9]+$</arg>
<arg>SIPp -bg did not return a valid PID: '${pid}'</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:45.079434" elapsed="0.000023"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'echo ${pid} &gt; ${pid_file}'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:45.079559" elapsed="0.000010"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:45.079616" elapsed="0.000009"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${check_rc}</var>
<arg>runagent -m ${module_id} kill -0 ${pid} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:45.079673" elapsed="0.000010"/>
</kw>
<if>
<branch type="IF" condition="${check_rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:45.079803" elapsed="0.000010"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${err_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}_err.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:45.079861" elapsed="0.000010"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<arg>UAS process ${pid} on port ${port} died immediately. Log: ${log_content} Errors: ${err_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:45.079915" elapsed="0.000010"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:45.079740" elapsed="0.000288"/>
</branch>
<status status="NOT RUN" start="2026-02-13T22:04:45.079723" elapsed="0.000327"/>
</if>
<kw name="Log" owner="BuiltIn">
<arg>Started UAS ${scenario} on port ${port} with PID ${pid}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:45.080121" elapsed="0.000011"/>
</kw>
<return>
<value>${pid}</value>
<status status="NOT RUN" start="2026-02-13T22:04:45.080160" elapsed="0.000016"/>
</return>
<var>${pid}</var>
<arg>uas_answer.xml</arg>
<arg>${PBX1_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS1}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="FAIL" start="2026-02-13T22:04:40.828510" elapsed="4.251739">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:43.884836	1771020283.884836: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS1_PID}</arg>
<arg>${pid}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:45.080333" elapsed="0.000011"/>
</kw>
<status status="FAIL" start="2026-02-13T22:04:40.828249" elapsed="4.252143">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:43.884836	1771020283.884836: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<test id="s1-s4-s7-t1" name="5 concurrent calls to single PBX complete successfully" line="16">
<doc>Launch 5 simultaneous calls through the proxy to PBX-1.
Verifies Kamailio handles concurrent call setup/teardown without drops.</doc>
<status status="FAIL" start="2026-02-13T22:04:45.080447" elapsed="0.000197">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:43.884836	1771020283.884836: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s7-t2" name="10 concurrent calls with media complete successfully" line="24">
<doc>Launch 10 simultaneous calls with RTP media through rtpengine.
Verifies proxy and rtpengine handle moderate concurrent media load.</doc>
<status status="FAIL" start="2026-02-13T22:04:45.080751" elapsed="0.000122">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:43.884836	1771020283.884836: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s7-t3" name="No rtpengine session leak after concurrent calls" line="32">
<doc>After all concurrent calls end, verify no orphaned sessions.</doc>
<status status="FAIL" start="2026-02-13T22:04:45.080952" elapsed="0.000142">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:43.884836	1771020283.884836: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<kw name="Stop UAS Server" owner="sipp" type="TEARDOWN">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:04:45.081681" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:04:45.081593" elapsed="0.000102"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:45.081869" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:04:46.182441" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:04:46.182756" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:04:46.182816" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:45.081752" elapsed="1.101095"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:46.183296" elapsed="0.000022"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:46.183387" elapsed="0.000013"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:46.183008" elapsed="0.000411"/>
</branch>
<status status="PASS" start="2026-02-13T22:04:46.182975" elapsed="0.000467"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:46.183712" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:04:47.245250" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:46.183504" elapsed="1.061937"/>
</kw>
<arg>${PBX1_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:04:45.081435" elapsed="2.164147"/>
</kw>
<status status="FAIL" start="2026-02-13T22:04:40.825444" elapsed="6.420197">Suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:04:43.884836	1771020283.884836: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</suite>
<suite id="s1-s4-s8" name="20 Multi Pbx Setup" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/20_multi_pbx_setup.robot">
<test id="s1-s4-s8-t1" name="Configure PBX-2 route for e2e tests" line="9">
<kw name="Setup PBX Route" owner="sipp">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:47.249597" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-route --data '{"domain":"pbx2.e2etest.local", "address":[{"uri":"sip:127.0.0.1:5082","description":"e2e-pbx2"}]}''.</msg>
<msg time="2026-02-13T22:04:49.303755" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:49.304097" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:04:49.304128" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:04:49.304151" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:47.249446" elapsed="2.054722"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:04:49.304723" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:04:49.304406" elapsed="0.000371"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:04:49.305314" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:04:49.305129" elapsed="0.000200"/>
</kw>
<status status="PASS" start="2026-02-13T22:04:49.304854" elapsed="0.000593"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:49.305530" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:49.305468" elapsed="0.000092"/>
</branch>
<status status="PASS" start="2026-02-13T22:04:49.304832" elapsed="0.000740"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:04:49.305602" elapsed="0.000035"/>
</return>
<arg>module/${module_id}/add-route</arg>
<arg>{"domain":"${domain}", "address":[{"uri":"sip:127.0.0.1:${port}","description":"${description}"}]}</arg>
<status status="PASS" start="2026-02-13T22:04:47.249197" elapsed="2.056515"/>
</kw>
<arg>${PBX2_DOMAIN}</arg>
<arg>${PBX2_SIP_PORT}</arg>
<arg>e2e-pbx2</arg>
<doc>Create a domain route pointing to a SIPp UAS</doc>
<status status="PASS" start="2026-02-13T22:04:47.248860" elapsed="2.056890"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:49.306356" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-route --data '{"domain":"pbx2.e2etest.local"}''.</msg>
<msg time="2026-02-13T22:04:51.021921" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:51.022193" level="INFO">${stdout} = {"address": [{"uri": "sip:127.0.0.1:5082", "description": "e2e-pbx2"}]}</msg>
<msg time="2026-02-13T22:04:51.022233" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:04:51.022263" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:49.306201" elapsed="1.716082"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:04:51.022819" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:04:51.022497" elapsed="0.000376"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:04:51.023493" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5082', 'description': 'e2e-pbx2'}]}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:04:51.023268" elapsed="0.000246"/>
</kw>
<status status="PASS" start="2026-02-13T22:04:51.022968" elapsed="0.000576"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:51.023647" elapsed="0.000015"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:51.023569" elapsed="0.000123"/>
</branch>
<status status="PASS" start="2026-02-13T22:04:51.022940" elapsed="0.000768"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:04:51.023744" elapsed="0.000047"/>
</return>
<msg time="2026-02-13T22:04:51.023922" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5082', 'description': 'e2e-pbx2'}]}</msg>
<var>${response}</var>
<arg>module/${module_id}/get-route</arg>
<arg>{"domain":"${PBX2_DOMAIN}"}</arg>
<status status="PASS" start="2026-02-13T22:04:49.305921" elapsed="1.718021"/>
</kw>
<kw name="Should Not Be Empty" owner="BuiltIn">
<msg time="2026-02-13T22:04:51.024127" level="INFO">Length is 1.</msg>
<arg>${response}</arg>
<doc>Verifies that the given item is not empty.</doc>
<status status="PASS" start="2026-02-13T22:04:51.024027" elapsed="0.000134"/>
</kw>
<doc>Add a second domain route for multi-PBX testing.</doc>
<status status="PASS" start="2026-02-13T22:04:47.248623" elapsed="3.775631"/>
</test>
<test id="s1-s4-s8-t2" name="Configure trunk patterns for multi-PBX routing" line="15">
<kw name="Setup PBX Trunk" owner="sipp">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:51.025887" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-trunk --data '{"rule":"1XXX", "destination":{"uri":"sip:127.0.0.1:5080","description":"e2e-trunk-pbx1"}}''.</msg>
<msg time="2026-02-13T22:04:53.134697" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:53.135057" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:04:53.135139" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:04:53.135197" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:51.025714" elapsed="2.109520"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:04:53.136009" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:04:53.135537" elapsed="0.000562"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:04:53.136570" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:04:53.136403" elapsed="0.000182"/>
</kw>
<status status="PASS" start="2026-02-13T22:04:53.136178" elapsed="0.000429"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:53.136686" elapsed="0.000010"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:53.136628" elapsed="0.000085"/>
</branch>
<status status="PASS" start="2026-02-13T22:04:53.136155" elapsed="0.000569"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:04:53.136752" elapsed="0.000036"/>
</return>
<arg>module/${module_id}/add-trunk</arg>
<arg>{"rule":"${rule}", "destination":{"uri":"sip:127.0.0.1:${port}","description":"${description}"}}</arg>
<status status="PASS" start="2026-02-13T22:04:51.025400" elapsed="2.111465"/>
</kw>
<arg>${PBX1_TRUNK_PATTERN}</arg>
<arg>${PBX1_SIP_PORT}</arg>
<arg>e2e-trunk-pbx1</arg>
<doc>Create a trunk rule pointing to a SIPp UAS</doc>
<status status="PASS" start="2026-02-13T22:04:51.024726" elapsed="2.112177"/>
</kw>
<kw name="Setup PBX Trunk" owner="sipp">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:53.137708" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/add-trunk --data '{"rule":"2XXX", "destination":{"uri":"sip:127.0.0.1:5082","description":"e2e-trunk-pbx2"}}''.</msg>
<msg time="2026-02-13T22:04:55.123242" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:55.123585" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:04:55.123782" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:04:55.123839" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:53.137574" elapsed="1.986296"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:04:55.124616" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:04:55.124179" elapsed="0.000519"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:04:55.125393" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:04:55.125229" elapsed="0.000179"/>
</kw>
<status status="PASS" start="2026-02-13T22:04:55.124824" elapsed="0.000606"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:55.125511" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:55.125451" elapsed="0.000088"/>
</branch>
<status status="PASS" start="2026-02-13T22:04:55.124789" elapsed="0.000762"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:04:55.125581" elapsed="0.000037"/>
</return>
<arg>module/${module_id}/add-trunk</arg>
<arg>{"rule":"${rule}", "destination":{"uri":"sip:127.0.0.1:${port}","description":"${description}"}}</arg>
<status status="PASS" start="2026-02-13T22:04:53.137344" elapsed="1.988348"/>
</kw>
<arg>${PBX2_TRUNK_PATTERN}</arg>
<arg>${PBX2_SIP_PORT}</arg>
<arg>e2e-trunk-pbx2</arg>
<doc>Create a trunk rule pointing to a SIPp UAS</doc>
<status status="PASS" start="2026-02-13T22:04:53.137022" elapsed="1.988708"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:55.126278" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/list-trunks --data '{}''.</msg>
<msg time="2026-02-13T22:04:56.990203" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:56.990506" level="INFO">${stdout} = [{"rule": "1XXX", "destination": {"uri": "sip:127.0.0.1:5080", "description": "e2e-trunk-pbx1"}}, {"rule": "2XXX", "destination": {"uri": "sip:127.0.0.1:5082", "description": "e2e-trunk-pbx2"}}]</msg>
<msg time="2026-02-13T22:04:56.990568" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:04:56.990618" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:55.126152" elapsed="1.864497"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:04:56.991365" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:04:56.990917" elapsed="0.000627"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:04:56.992391" level="INFO">${response} = [{'rule': '1XXX', 'destination': {'uri': 'sip:127.0.0.1:5080', 'description': 'e2e-trunk-pbx1'}}, {'rule': '2XXX', 'destination': {'uri': 'sip:127.0.0.1:5082', 'description': 'e2e-trunk-pbx2'}}]</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:04:56.992174" elapsed="0.000238"/>
</kw>
<status status="PASS" start="2026-02-13T22:04:56.991737" elapsed="0.000702"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:56.992533" elapsed="0.000014"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:56.992461" elapsed="0.000108"/>
</branch>
<status status="PASS" start="2026-02-13T22:04:56.991678" elapsed="0.000904"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:04:56.992612" elapsed="0.000038"/>
</return>
<msg time="2026-02-13T22:04:56.992790" level="INFO">${response} = [{'rule': '1XXX', 'destination': {'uri': 'sip:127.0.0.1:5080', 'description': 'e2e-trunk-pbx1'}}, {'rule': '2XXX', 'destination': {'uri': 'sip:127.0.0.1:5082', 'description': 'e2e-trunk-pbx2'}}]</msg>
<var>${response}</var>
<arg>module/${module_id}/list-trunks</arg>
<arg>{}</arg>
<status status="PASS" start="2026-02-13T22:04:55.125906" elapsed="1.866917"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:04:56.993167" level="INFO">Trunk list: [{'rule': '1XXX', 'destination': {'uri': 'sip:127.0.0.1:5080', 'description': 'e2e-trunk-pbx1'}}, {'rule': '2XXX', 'destination': {'uri': 'sip:127.0.0.1:5082', 'description': 'e2e-trunk-pbx2'}}]</msg>
<arg>Trunk list: ${response}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:04:56.992967" elapsed="0.000254"/>
</kw>
<doc>Add trunk rules that route different number patterns to different PBXs.</doc>
<status status="PASS" start="2026-02-13T22:04:51.024424" elapsed="5.968929"/>
</test>
<test id="s1-s4-s8-t3" name="Verify both PBX routes are configured" line="22">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:56.994357" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-route --data '{"domain":"pbx1.e2etest.local"}''.</msg>
<msg time="2026-02-13T22:04:58.692051" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:04:58.692495" level="INFO">${stdout} = {"address": [{"uri": "sip:127.0.0.1:5080", "description": "e2e-pbx1"}]}</msg>
<msg time="2026-02-13T22:04:58.692552" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:04:58.692580" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:56.994224" elapsed="1.698373"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:04:58.693079" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:04:58.692790" elapsed="0.000348"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:04:58.693700" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5080', 'description': 'e2e-pbx1'}]}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:04:58.693495" elapsed="0.000225"/>
</kw>
<status status="PASS" start="2026-02-13T22:04:58.693217" elapsed="0.000665"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:04:58.693999" elapsed="0.000017"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:04:58.693908" elapsed="0.000152"/>
</branch>
<status status="PASS" start="2026-02-13T22:04:58.693194" elapsed="0.000881"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:04:58.694115" elapsed="0.000055"/>
</return>
<msg time="2026-02-13T22:04:58.694283" level="INFO">${r1} = {'address': [{'uri': 'sip:127.0.0.1:5080', 'description': 'e2e-pbx1'}]}</msg>
<var>${r1}</var>
<arg>module/${module_id}/get-route</arg>
<arg>{"domain":"${PBX1_DOMAIN}"}</arg>
<status status="PASS" start="2026-02-13T22:04:56.993984" elapsed="1.700316"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:04:58.695257" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/get-route --data '{"domain":"pbx2.e2etest.local"}''.</msg>
<msg time="2026-02-13T22:05:00.443077" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:05:00.443400" level="INFO">${stdout} = {"address": [{"uri": "sip:127.0.0.1:5082", "description": "e2e-pbx2"}]}</msg>
<msg time="2026-02-13T22:05:00.443463" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:05:00.443511" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:04:58.695037" elapsed="1.748504"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:05:00.444268" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:05:00.443810" elapsed="0.000539"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:05:00.445160" level="INFO">${response} = {'address': [{'uri': 'sip:127.0.0.1:5082', 'description': 'e2e-pbx2'}]}</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:05:00.444866" elapsed="0.000309"/>
</kw>
<status status="PASS" start="2026-02-13T22:05:00.444474" elapsed="0.000722"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:00.445273" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:00.445215" elapsed="0.000086"/>
</branch>
<status status="PASS" start="2026-02-13T22:05:00.444439" elapsed="0.000874"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:05:00.445340" elapsed="0.000036"/>
</return>
<msg time="2026-02-13T22:05:00.445467" level="INFO">${r2} = {'address': [{'uri': 'sip:127.0.0.1:5082', 'description': 'e2e-pbx2'}]}</msg>
<var>${r2}</var>
<arg>module/${module_id}/get-route</arg>
<arg>{"domain":"${PBX2_DOMAIN}"}</arg>
<status status="PASS" start="2026-02-13T22:04:58.694465" elapsed="1.751016"/>
</kw>
<kw name="Should Not Be Empty" owner="BuiltIn">
<msg time="2026-02-13T22:05:00.445612" level="INFO">Length is 1.</msg>
<arg>${r1}</arg>
<doc>Verifies that the given item is not empty.</doc>
<status status="PASS" start="2026-02-13T22:05:00.445544" elapsed="0.000092"/>
</kw>
<kw name="Should Not Be Empty" owner="BuiltIn">
<msg time="2026-02-13T22:05:00.445740" level="INFO">Length is 1.</msg>
<arg>${r2}</arg>
<doc>Verifies that the given item is not empty.</doc>
<status status="PASS" start="2026-02-13T22:05:00.445683" elapsed="0.000078"/>
</kw>
<doc>Confirm both domain routes exist in the routing table.</doc>
<status status="PASS" start="2026-02-13T22:04:56.993548" elapsed="3.452278"/>
</test>
<status status="PASS" start="2026-02-13T22:04:47.246230" elapsed="13.199774"/>
</suite>
<suite id="s1-s4-s9" name="21 Domain Routing" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/21_domain_routing.robot">
<kw name="Start Both UAS For Domain Routing" type="SETUP">
<kw name="Start UAS Server" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:00.449171" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null; sleep 1''.</msg>
<msg time="2026-02-13T22:05:02.494308" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null; sleep 1'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:00.449013" elapsed="2.045484"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:02.495189" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:02.494784" elapsed="0.000448"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:02.495766" level="INFO">${cmd} = runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file...</msg>
<var>${cmd}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf ${SIPP_SCENARIOS_DIR}/${scenario} -p ${port} -mi 127.0.0.1 -mp ${media_port} -rtp_echo -trace_stat -stf /tmp/sipp_uas_${port}_stat.csv -trace_err -error_file /tmp/sipp_uas_${port}_err.log -bg ${extra_args} 2&gt;/tmp/sipp_uas_${port}.log'</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:02.495366" elapsed="0.000430"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:02.496251" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file /tmp/sipp_uas_5080_err.log -bg  2&gt;/tmp/sipp_uas_5080.log''.</msg>
<msg time="2026-02-13T22:05:03.608333" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:03.608643" level="INFO">${output} = </msg>
<msg time="2026-02-13T22:05:03.608705" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>${cmd}</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:02.495960" elapsed="1.112777"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:05:03.609347" level="INFO">SIPp -bg output: , rc: 1</msg>
<arg>SIPp -bg output: ${output}, rc: ${rc}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:05:03.609007" elapsed="0.000400"/>
</kw>
<if>
<branch type="IF" condition="${rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:03.610046" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.log 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:04.867243" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:05:04.867535" level="INFO">${log_content} = 2026-02-13	22:05:03.562426	1771020303.562426: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:03.609809" elapsed="1.257781"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<msg time="2026-02-13T22:05:04.868424" level="FAIL">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:03.562426	1771020303.562426: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<arg>Failed to start UAS on port ${port} (rc=${rc}): ${output} ${log_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="FAIL" start="2026-02-13T22:05:04.867858" elapsed="0.000669">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:03.562426	1771020303.562426: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<status status="FAIL" start="2026-02-13T22:05:03.609528" elapsed="1.259085">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:03.562426	1771020303.562426: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</branch>
<status status="FAIL" start="2026-02-13T22:05:03.609491" elapsed="1.259177">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:03.562426	1771020303.562426: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</if>
<kw name="Strip String" owner="String">
<var>${pid}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:04.868822" elapsed="0.000040"/>
</kw>
<kw name="Should Match Regexp" owner="BuiltIn">
<arg>${pid}</arg>
<arg>^[0-9]+$</arg>
<arg>SIPp -bg did not return a valid PID: '${pid}'</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:04.868986" elapsed="0.000029"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'echo ${pid} &gt; ${pid_file}'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:04.869235" elapsed="0.000037"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:04.869410" elapsed="0.000010"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${check_rc}</var>
<arg>runagent -m ${module_id} kill -0 ${pid} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:04.869491" elapsed="0.000017"/>
</kw>
<if>
<branch type="IF" condition="${check_rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:04.869629" elapsed="0.000010"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${err_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}_err.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:04.869688" elapsed="0.000009"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<arg>UAS process ${pid} on port ${port} died immediately. Log: ${log_content} Errors: ${err_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:04.869740" elapsed="0.000010"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:04.869568" elapsed="0.000198"/>
</branch>
<status status="NOT RUN" start="2026-02-13T22:05:04.869551" elapsed="0.000227"/>
</if>
<kw name="Log" owner="BuiltIn">
<arg>Started UAS ${scenario} on port ${port} with PID ${pid}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:04.869822" elapsed="0.000009"/>
</kw>
<return>
<value>${pid}</value>
<status status="NOT RUN" start="2026-02-13T22:05:04.869857" elapsed="0.000012"/>
</return>
<var>${pid1}</var>
<arg>uas_answer.xml</arg>
<arg>${PBX1_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS1}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="FAIL" start="2026-02-13T22:05:00.448534" elapsed="4.421402">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:03.562426	1771020303.562426: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<kw name="Start UAS Server" owner="sipp">
<var>${pid2}</var>
<arg>uas_answer.xml</arg>
<arg>${PBX2_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS2}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:04.870189" elapsed="0.000017"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS1_PID}</arg>
<arg>${pid1}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:04.870289" elapsed="0.000011"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS2_PID}</arg>
<arg>${pid2}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:04.870347" elapsed="0.000009"/>
</kw>
<status status="FAIL" start="2026-02-13T22:05:00.448271" elapsed="4.422131">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:03.562426	1771020303.562426: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<test id="s1-s4-s9-t1" name="Call to domain PBX-1 routes to PBX-1 UAS" line="18">
<doc>INVITE to pbx1.e2etest.local should be dispatched to UAS on port 5080.
Verifies dialplan dpid=1 matches the domain and dispatcher selects correct set.</doc>
<status status="FAIL" start="2026-02-13T22:05:04.870490" elapsed="0.000176">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:03.562426	1771020303.562426: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s9-t2" name="Call to domain PBX-2 routes to PBX-2 UAS" line="25">
<doc>INVITE to pbx2.e2etest.local should be dispatched to UAS on port 5082.
Verifies domain-based routing isolates PBX instances correctly.</doc>
<status status="FAIL" start="2026-02-13T22:05:04.870796" elapsed="0.000136">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:03.562426	1771020303.562426: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s9-t3" name="Sequential calls to alternating domains complete correctly" line="32">
<doc>Alternate calls between PBX-1 and PBX-2 domains.
Verifies dispatcher correctly switches between sets per call.</doc>
<status status="FAIL" start="2026-02-13T22:05:04.871007" elapsed="0.000144">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:03.562426	1771020303.562426: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<kw name="Stop All UAS Servers" owner="sipp" type="TEARDOWN">
<kw name="Stop UAS Server" owner="sipp">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:04.871829" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:04.871745" elapsed="0.000098"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:04.872006" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:05.977139" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:05.977422" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:05:05.977484" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:04.871899" elapsed="1.105618"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:05.978114" elapsed="0.000061"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:05.978298" elapsed="0.000010"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:05.977706" elapsed="0.000619"/>
</branch>
<status status="PASS" start="2026-02-13T22:05:05.977663" elapsed="0.000681"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:05.978581" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:05:07.080312" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:05.978394" elapsed="1.102113"/>
</kw>
<arg>${PBX1_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:05:04.871627" elapsed="2.209029"/>
</kw>
<kw name="Stop UAS Server" owner="sipp">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:07.081794" level="INFO">${pid_file} = /tmp/sipp_uas_5082.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:07.081573" elapsed="0.000255"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:07.082238" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5082.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:08.185880" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:08.186225" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:05:08.186292" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:07.081964" elapsed="1.104369"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:08.186870" elapsed="0.000034"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:08.187041" elapsed="0.000025"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:08.186517" elapsed="0.000605"/>
</branch>
<status status="PASS" start="2026-02-13T22:05:08.186473" elapsed="0.000692"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:08.187601" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5082/udp 2&gt;/dev/null; fuser -k 5082/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:05:09.298411" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:08.187273" elapsed="1.111326"/>
</kw>
<arg>${PBX2_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:05:07.081091" elapsed="2.217651"/>
</kw>
<doc>Stop all known UAS servers</doc>
<status status="PASS" start="2026-02-13T22:05:04.871475" elapsed="4.427347"/>
</kw>
<status status="FAIL" start="2026-02-13T22:05:00.446197" elapsed="8.852692">Suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:03.562426	1771020303.562426: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</suite>
<suite id="s1-s4-s10" name="22 Trunk Routing" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/22_trunk_routing.robot">
<kw name="Start Both UAS For Trunk Routing" type="SETUP">
<kw name="Start UAS Server" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:09.302871" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null; sleep 1''.</msg>
<msg time="2026-02-13T22:05:11.360227" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null; sleep 1'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:09.302724" elapsed="2.057698"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:11.361126" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:11.360717" elapsed="0.000447"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:11.361647" level="INFO">${cmd} = runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file...</msg>
<var>${cmd}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf ${SIPP_SCENARIOS_DIR}/${scenario} -p ${port} -mi 127.0.0.1 -mp ${media_port} -rtp_echo -trace_stat -stf /tmp/sipp_uas_${port}_stat.csv -trace_err -error_file /tmp/sipp_uas_${port}_err.log -bg ${extra_args} 2&gt;/tmp/sipp_uas_${port}.log'</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:11.361295" elapsed="0.000366"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:11.362000" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file /tmp/sipp_uas_5080_err.log -bg  2&gt;/tmp/sipp_uas_5080.log''.</msg>
<msg time="2026-02-13T22:05:12.401369" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:12.401596" level="INFO">${output} = </msg>
<msg time="2026-02-13T22:05:12.401630" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>${cmd}</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:11.361866" elapsed="1.039783"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:05:12.402022" level="INFO">SIPp -bg output: , rc: 1</msg>
<arg>SIPp -bg output: ${output}, rc: ${rc}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:05:12.401838" elapsed="0.000244"/>
</kw>
<if>
<branch type="IF" condition="${rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:12.402530" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.log 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:13.465919" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:05:13.466135" level="INFO">${log_content} = 2026-02-13	22:05:12.369504	1771020312.369504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:12.402408" elapsed="1.063749"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<msg time="2026-02-13T22:05:13.466915" level="FAIL">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:12.369504	1771020312.369504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<arg>Failed to start UAS on port ${port} (rc=${rc}): ${output} ${log_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="FAIL" start="2026-02-13T22:05:13.466406" elapsed="0.000613">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:12.369504	1771020312.369504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<status status="FAIL" start="2026-02-13T22:05:12.402224" elapsed="1.064908">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:12.369504	1771020312.369504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</branch>
<status status="FAIL" start="2026-02-13T22:05:12.402195" elapsed="1.064993">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:12.369504	1771020312.369504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</if>
<kw name="Strip String" owner="String">
<var>${pid}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:13.467341" elapsed="0.000036"/>
</kw>
<kw name="Should Match Regexp" owner="BuiltIn">
<arg>${pid}</arg>
<arg>^[0-9]+$</arg>
<arg>SIPp -bg did not return a valid PID: '${pid}'</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:13.467488" elapsed="0.000012"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'echo ${pid} &gt; ${pid_file}'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:13.467565" elapsed="0.000012"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:13.467627" elapsed="0.000010"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${check_rc}</var>
<arg>runagent -m ${module_id} kill -0 ${pid} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:13.467690" elapsed="0.000016"/>
</kw>
<if>
<branch type="IF" condition="${check_rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:13.467821" elapsed="0.000009"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${err_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}_err.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:13.467877" elapsed="0.000008"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<arg>UAS process ${pid} on port ${port} died immediately. Log: ${log_content} Errors: ${err_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:13.467926" elapsed="0.000009"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:13.467763" elapsed="0.000186"/>
</branch>
<status status="NOT RUN" start="2026-02-13T22:05:13.467747" elapsed="0.000214"/>
</if>
<kw name="Log" owner="BuiltIn">
<arg>Started UAS ${scenario} on port ${port} with PID ${pid}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:13.468004" elapsed="0.000009"/>
</kw>
<return>
<value>${pid}</value>
<status status="NOT RUN" start="2026-02-13T22:05:13.468046" elapsed="0.000013"/>
</return>
<var>${pid1}</var>
<arg>uas_answer.xml</arg>
<arg>${PBX1_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS1}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="FAIL" start="2026-02-13T22:05:09.302275" elapsed="4.165857">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:12.369504	1771020312.369504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<kw name="Start UAS Server" owner="sipp">
<var>${pid2}</var>
<arg>uas_answer.xml</arg>
<arg>${PBX2_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS2}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:13.468352" elapsed="0.000019"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS1_PID}</arg>
<arg>${pid1}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:13.468442" elapsed="0.000010"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS2_PID}</arg>
<arg>${pid2}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:13.468500" elapsed="0.000009"/>
</kw>
<status status="FAIL" start="2026-02-13T22:05:09.301977" elapsed="4.166576">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:12.369504	1771020312.369504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<test id="s1-s4-s10-t1" name="Trunk call matching PBX-1 pattern routes to PBX-1" line="18">
<doc>Inbound call with number matching 1XXX should route to PBX-1.
Verifies dialplan dpid=2 pattern matching for trunk routing.</doc>
<status status="FAIL" start="2026-02-13T22:05:13.468627" elapsed="0.000174">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:12.369504	1771020312.369504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s10-t2" name="Trunk call matching PBX-2 pattern routes to PBX-2" line="25">
<doc>Inbound call with number matching 2XXX should route to PBX-2.</doc>
<status status="FAIL" start="2026-02-13T22:05:13.469002" elapsed="0.000125">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:12.369504	1771020312.369504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s10-t3" name="Multiple trunk calls with different patterns" line="31">
<doc>Mix of calls with PBX-1 and PBX-2 trunk patterns.</doc>
<status status="FAIL" start="2026-02-13T22:05:13.469197" elapsed="0.000095">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:12.369504	1771020312.369504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<kw name="Stop All UAS Servers" owner="sipp" type="TEARDOWN">
<kw name="Stop UAS Server" owner="sipp">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:13.469878" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:13.469793" elapsed="0.000098"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:13.470067" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:14.467208" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:14.467436" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:05:14.467471" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:13.469947" elapsed="0.997543"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:14.467877" elapsed="0.000020"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:14.467965" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:14.467626" elapsed="0.000366"/>
</branch>
<status status="PASS" start="2026-02-13T22:05:14.467595" elapsed="0.000416"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:14.468276" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:05:15.595729" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:14.468068" elapsed="1.127840"/>
</kw>
<arg>${PBX1_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:05:13.469676" elapsed="2.126410"/>
</kw>
<kw name="Stop UAS Server" owner="sipp">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:15.597278" level="INFO">${pid_file} = /tmp/sipp_uas_5082.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:15.596982" elapsed="0.000340"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:15.597650" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5082.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:16.623177" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:16.623492" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:05:16.623553" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:15.597493" elapsed="1.026090"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:16.624193" elapsed="0.000037"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:16.624325" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:16.623777" elapsed="0.000575"/>
</branch>
<status status="PASS" start="2026-02-13T22:05:16.623732" elapsed="0.000641"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:16.624621" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5082/udp 2&gt;/dev/null; fuser -k 5082/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:05:17.797951" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:16.624422" elapsed="1.173773"/>
</kw>
<arg>${PBX2_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:05:15.596528" elapsed="2.201814"/>
</kw>
<doc>Stop all known UAS servers</doc>
<status status="PASS" start="2026-02-13T22:05:13.469524" elapsed="4.328896"/>
</kw>
<status status="FAIL" start="2026-02-13T22:05:09.299431" elapsed="8.499031">Suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:12.369504	1771020312.369504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</suite>
<suite id="s1-s4-s11" name="23 Load Balancing" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/23_load_balancing.robot">
<kw name="Setup Load Balancing Environment" type="SETUP">
<kw name="Start UAS Server" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:17.802506" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5084/udp 2&gt;/dev/null; fuser -k 5084/tcp 2&gt;/dev/null; sleep 1''.</msg>
<msg time="2026-02-13T22:05:20.004300" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null; sleep 1'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:17.802353" elapsed="2.202132"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:20.005160" level="INFO">${pid_file} = /tmp/sipp_uas_5084.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:20.004764" elapsed="0.000430"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:20.005882" level="INFO">${cmd} = runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5084 -mi 127.0.0.1 -mp 30040 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5084_stat.csv -trace_err -error_file...</msg>
<var>${cmd}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf ${SIPP_SCENARIOS_DIR}/${scenario} -p ${port} -mi 127.0.0.1 -mp ${media_port} -rtp_echo -trace_stat -stf /tmp/sipp_uas_${port}_stat.csv -trace_err -error_file /tmp/sipp_uas_${port}_err.log -bg ${extra_args} 2&gt;/tmp/sipp_uas_${port}.log'</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:20.005481" elapsed="0.000432"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:20.006316" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5084 -mi 127.0.0.1 -mp 30040 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5084_stat.csv -trace_err -error_file /tmp/sipp_uas_5084_err.log -bg  2&gt;/tmp/sipp_uas_5084.log''.</msg>
<msg time="2026-02-13T22:05:21.056382" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:21.056695" level="INFO">${output} = </msg>
<msg time="2026-02-13T22:05:21.056758" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>${cmd}</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:20.006068" elapsed="1.050721"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:05:21.057382" level="INFO">SIPp -bg output: , rc: 1</msg>
<arg>SIPp -bg output: ${output}, rc: ${rc}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:05:21.057086" elapsed="0.000370"/>
</kw>
<if>
<branch type="IF" condition="${rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:21.058078" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5084.log 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:22.095885" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:05:22.096171" level="INFO">${log_content} = 2026-02-13	22:05:21.014105	1771020321.014105: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:21.057865" elapsed="1.038332"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<msg time="2026-02-13T22:05:22.096743" level="FAIL">Failed to start UAS on port 5084 (rc=1):  2026-02-13	22:05:21.014105	1771020321.014105: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<arg>Failed to start UAS on port ${port} (rc=${rc}): ${output} ${log_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="FAIL" start="2026-02-13T22:05:22.096366" elapsed="0.000502">Failed to start UAS on port 5084 (rc=1):  2026-02-13	22:05:21.014105	1771020321.014105: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<status status="FAIL" start="2026-02-13T22:05:21.057588" elapsed="1.039365">Failed to start UAS on port 5084 (rc=1):  2026-02-13	22:05:21.014105	1771020321.014105: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</branch>
<status status="FAIL" start="2026-02-13T22:05:21.057551" elapsed="1.039458">Failed to start UAS on port 5084 (rc=1):  2026-02-13	22:05:21.014105	1771020321.014105: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</if>
<kw name="Strip String" owner="String">
<var>${pid}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:22.097220" elapsed="0.000028"/>
</kw>
<kw name="Should Match Regexp" owner="BuiltIn">
<arg>${pid}</arg>
<arg>^[0-9]+$</arg>
<arg>SIPp -bg did not return a valid PID: '${pid}'</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:22.097364" elapsed="0.000024"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'echo ${pid} &gt; ${pid_file}'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:22.097500" elapsed="0.000021"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:22.097615" elapsed="0.000022"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${check_rc}</var>
<arg>runagent -m ${module_id} kill -0 ${pid} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:22.097734" elapsed="0.000022"/>
</kw>
<if>
<branch type="IF" condition="${check_rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:22.097891" elapsed="0.000010"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${err_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}_err.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:22.097948" elapsed="0.000009"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<arg>UAS process ${pid} on port ${port} died immediately. Log: ${log_content} Errors: ${err_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:22.097999" elapsed="0.000009"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:22.097834" elapsed="0.000189"/>
</branch>
<status status="NOT RUN" start="2026-02-13T22:05:22.097819" elapsed="0.000223"/>
</if>
<kw name="Log" owner="BuiltIn">
<arg>Started UAS ${scenario} on port ${port} with PID ${pid}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:22.098099" elapsed="0.000009"/>
</kw>
<return>
<value>${pid}</value>
<status status="NOT RUN" start="2026-02-13T22:05:22.098135" elapsed="0.000012"/>
</return>
<var>${pidA}</var>
<arg>uas_answer.xml</arg>
<arg>${LB_PORT_A}</arg>
<arg>30040</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="FAIL" start="2026-02-13T22:05:17.801877" elapsed="4.296334">Failed to start UAS on port 5084 (rc=1):  2026-02-13	22:05:21.014105	1771020321.014105: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<kw name="Start UAS Server" owner="sipp">
<var>${pidB}</var>
<arg>uas_answer.xml</arg>
<arg>${LB_PORT_B}</arg>
<arg>30050</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:22.098426" elapsed="0.000016"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS_A_PID}</arg>
<arg>${pidA}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:22.098506" elapsed="0.000010"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS_B_PID}</arg>
<arg>${pidB}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:22.098656" elapsed="0.000012"/>
</kw>
<kw name="Run task" owner="api">
<arg>module/${module_id}/add-route</arg>
<arg>{"domain":"${LB_DOMAIN}", "address":[{"uri":"sip:127.0.0.1:${LB_PORT_A}","description":"node-a"},{"uri":"sip:127.0.0.1:${LB_PORT_B}","description":"node-b"}]}</arg>
<status status="NOT RUN" start="2026-02-13T22:05:22.098774" elapsed="0.000013"/>
</kw>
<doc>Create a single domain route with 2 addresses (load balancing)</doc>
<status status="FAIL" start="2026-02-13T22:05:17.801598" elapsed="4.297237">Failed to start UAS on port 5084 (rc=1):  2026-02-13	22:05:21.014105	1771020321.014105: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<test id="s1-s4-s11-t1" name="Multiple calls are distributed across both PBX nodes" line="34">
<doc>Send multiple calls to a domain with 2 dispatcher destinations.
Verifies Kamailio's dispatcher module distributes calls across both nodes.</doc>
<status status="FAIL" start="2026-02-13T22:05:22.098884" elapsed="0.000187">Parent suite setup failed:
Failed to start UAS on port 5084 (rc=1):  2026-02-13	22:05:21.014105	1771020321.014105: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s11-t2" name="Verify both UAS instances received calls" line="42">
<doc>Check that both SIPp UAS instances processed calls (not all on one).</doc>
<status status="FAIL" start="2026-02-13T22:05:22.099181" elapsed="0.000116">Parent suite setup failed:
Failed to start UAS on port 5084 (rc=1):  2026-02-13	22:05:21.014105	1771020321.014105: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<kw name="Teardown Load Balancing Environment" type="TEARDOWN">
<kw name="Stop UAS Server" owner="sipp">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:22.099890" level="INFO">${pid_file} = /tmp/sipp_uas_5084.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:22.099798" elapsed="0.000107"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:22.100108" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5084.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:23.175007" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:23.175359" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:05:23.175421" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:22.099962" elapsed="1.075490"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:23.175906" elapsed="0.000018"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:23.175981" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:23.175629" elapsed="0.000378"/>
</branch>
<status status="PASS" start="2026-02-13T22:05:23.175588" elapsed="0.000437"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:23.176291" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5084/udp 2&gt;/dev/null; fuser -k 5084/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:05:24.295022" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:23.176107" elapsed="1.119130"/>
</kw>
<arg>${LB_PORT_A}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:05:22.099679" elapsed="2.195701"/>
</kw>
<kw name="Stop UAS Server" owner="sipp">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:24.296523" level="INFO">${pid_file} = /tmp/sipp_uas_5086.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:24.296301" elapsed="0.000254"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:24.296942" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5086.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:25.316997" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:25.317316" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:05:25.317376" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:24.296690" elapsed="1.020716"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:25.317948" elapsed="0.000035"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:25.318147" elapsed="0.000025"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:25.317588" elapsed="0.000620"/>
</branch>
<status status="PASS" start="2026-02-13T22:05:25.317544" elapsed="0.000700"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:25.318675" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5086/udp 2&gt;/dev/null; fuser -k 5086/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:05:26.392475" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:25.318346" elapsed="1.074281"/>
</kw>
<arg>${LB_PORT_B}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:05:24.295835" elapsed="2.096904"/>
</kw>
<kw name="Cleanup PBX Route" owner="sipp">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:26.393962" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/remove-route --data '{"domain":"lb.e2etest.local"}''.</msg>
<msg time="2026-02-13T22:05:28.136866" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:05:28.137104" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:05:28.137133" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:05:28.137157" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:26.393750" elapsed="1.743421"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:05:28.137711" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:05:28.137455" elapsed="0.000300"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:05:28.138489" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:05:28.138063" elapsed="0.000442"/>
</kw>
<status status="PASS" start="2026-02-13T22:05:28.137829" elapsed="0.000698"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:28.138610" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:28.138549" elapsed="0.000089"/>
</branch>
<status status="PASS" start="2026-02-13T22:05:28.137806" elapsed="0.000843"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:05:28.138677" elapsed="0.000036"/>
</return>
<arg>module/${module_id}/remove-route</arg>
<arg>{"domain":"${domain}"}</arg>
<status status="PASS" start="2026-02-13T22:05:26.393465" elapsed="1.745322"/>
</kw>
<arg>${LB_DOMAIN}</arg>
<doc>Remove a domain route</doc>
<status status="PASS" start="2026-02-13T22:05:26.393012" elapsed="1.745817"/>
</kw>
<status status="PASS" start="2026-02-13T22:05:22.099523" elapsed="6.039338"/>
</kw>
<status status="FAIL" start="2026-02-13T22:05:17.799000" elapsed="10.339877">Suite setup failed:
Failed to start UAS on port 5084 (rc=1):  2026-02-13	22:05:21.014105	1771020321.014105: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</suite>
<suite id="s1-s4-s12" name="24 Failover" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/24_failover.robot">
<kw name="Setup Failover Environment" type="SETUP">
<kw name="Start UAS Server" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:28.142378" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5090/udp 2&gt;/dev/null; fuser -k 5090/tcp 2&gt;/dev/null; sleep 1''.</msg>
<msg time="2026-02-13T22:05:30.231020" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null; sleep 1'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:28.142259" elapsed="2.088989"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:30.231884" level="INFO">${pid_file} = /tmp/sipp_uas_5090.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:30.231531" elapsed="0.000389"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:30.232464" level="INFO">${cmd} = runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5090 -mi 127.0.0.1 -mp 30060 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5090_stat.csv -trace_err -error_file...</msg>
<var>${cmd}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf ${SIPP_SCENARIOS_DIR}/${scenario} -p ${port} -mi 127.0.0.1 -mp ${media_port} -rtp_echo -trace_stat -stf /tmp/sipp_uas_${port}_stat.csv -trace_err -error_file /tmp/sipp_uas_${port}_err.log -bg ${extra_args} 2&gt;/tmp/sipp_uas_${port}.log'</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:30.232065" elapsed="0.000413"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:30.232670" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5090 -mi 127.0.0.1 -mp 30060 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5090_stat.csv -trace_err -error_file /tmp/sipp_uas_5090_err.log -bg  2&gt;/tmp/sipp_uas_5090.log''.</msg>
<msg time="2026-02-13T22:05:31.283710" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:31.284006" level="INFO">${output} = </msg>
<msg time="2026-02-13T22:05:31.284102" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>${cmd}</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:30.232546" elapsed="1.051593"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:05:31.284682" level="INFO">SIPp -bg output: , rc: 1</msg>
<arg>SIPp -bg output: ${output}, rc: ${rc}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:05:31.284406" elapsed="0.000336"/>
</kw>
<if>
<branch type="IF" condition="${rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:31.285373" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5090.log 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:32.299868" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:05:32.300183" level="INFO">${log_content} = 2026-02-13	22:05:31.215047	1771020331.215047: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:31.285175" elapsed="1.015048"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<msg time="2026-02-13T22:05:32.300981" level="FAIL">Failed to start UAS on port 5090 (rc=1):  2026-02-13	22:05:31.215047	1771020331.215047: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<arg>Failed to start UAS on port ${port} (rc=${rc}): ${output} ${log_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="FAIL" start="2026-02-13T22:05:32.300493" elapsed="0.000561">Failed to start UAS on port 5090 (rc=1):  2026-02-13	22:05:31.215047	1771020331.215047: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<status status="FAIL" start="2026-02-13T22:05:31.284861" elapsed="1.016247">Failed to start UAS on port 5090 (rc=1):  2026-02-13	22:05:31.215047	1771020331.215047: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</branch>
<status status="FAIL" start="2026-02-13T22:05:31.284824" elapsed="1.016318">Failed to start UAS on port 5090 (rc=1):  2026-02-13	22:05:31.215047	1771020331.215047: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</if>
<kw name="Strip String" owner="String">
<var>${pid}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:32.301222" elapsed="0.000012"/>
</kw>
<kw name="Should Match Regexp" owner="BuiltIn">
<arg>${pid}</arg>
<arg>^[0-9]+$</arg>
<arg>SIPp -bg did not return a valid PID: '${pid}'</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:32.301292" elapsed="0.000010"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'echo ${pid} &gt; ${pid_file}'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:32.301466" elapsed="0.000012"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:32.301528" elapsed="0.000009"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${check_rc}</var>
<arg>runagent -m ${module_id} kill -0 ${pid} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:32.301584" elapsed="0.000010"/>
</kw>
<if>
<branch type="IF" condition="${check_rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:32.301714" elapsed="0.000010"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${err_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}_err.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:32.301772" elapsed="0.000009"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<arg>UAS process ${pid} on port ${port} died immediately. Log: ${log_content} Errors: ${err_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:32.301823" elapsed="0.000009"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:32.301652" elapsed="0.000195"/>
</branch>
<status status="NOT RUN" start="2026-02-13T22:05:32.301634" elapsed="0.000226"/>
</if>
<kw name="Log" owner="BuiltIn">
<arg>Started UAS ${scenario} on port ${port} with PID ${pid}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:32.301906" elapsed="0.000009"/>
</kw>
<return>
<value>${pid}</value>
<status status="NOT RUN" start="2026-02-13T22:05:32.301942" elapsed="0.000013"/>
</return>
<var>${pidSec}</var>
<arg>uas_answer.xml</arg>
<arg>${FO_PORT_SEC}</arg>
<arg>30060</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="FAIL" start="2026-02-13T22:05:28.141826" elapsed="4.160198">Failed to start UAS on port 5090 (rc=1):  2026-02-13	22:05:31.215047	1771020331.215047: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS_SEC_PID}</arg>
<arg>${pidSec}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:32.302117" elapsed="0.000010"/>
</kw>
<kw name="Run task" owner="api">
<arg>module/${module_id}/add-route</arg>
<arg>{"domain":"${FO_DOMAIN}", "address":[{"uri":"sip:127.0.0.1:${FO_PORT_PRI}","description":"primary"},{"uri":"sip:127.0.0.1:${FO_PORT_SEC}","description":"secondary"}]}</arg>
<status status="NOT RUN" start="2026-02-13T22:05:32.302301" elapsed="0.000016"/>
</kw>
<doc>Create a domain with 2 addresses; start only the secondary UAS</doc>
<status status="FAIL" start="2026-02-13T22:05:28.141595" elapsed="4.160770">Failed to start UAS on port 5090 (rc=1):  2026-02-13	22:05:31.215047	1771020331.215047: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<test id="s1-s4-s12-t1" name="Call fails over to secondary when primary is down" line="31">
<doc>Primary PBX (port 5088) is not running.
Kamailio's dispatcher should detect the failure and route to secondary (port 5090).
Verifies the dispatcher failover/probing mechanism.</doc>
<tag>failover</tag>
<status status="FAIL" start="2026-02-13T22:05:32.302460" elapsed="0.000434">Parent suite setup failed:
Failed to start UAS on port 5090 (rc=1):  2026-02-13	22:05:31.215047	1771020331.215047: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s12-t2" name="Multiple calls succeed with primary down" line="43">
<doc>Send multiple calls  all should route to secondary via failover.</doc>
<status status="FAIL" start="2026-02-13T22:05:32.303005" elapsed="0.000119">Parent suite setup failed:
Failed to start UAS on port 5090 (rc=1):  2026-02-13	22:05:31.215047	1771020331.215047: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<kw name="Teardown Failover Environment" type="TEARDOWN">
<kw name="Stop UAS Server" owner="sipp">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:32.303724" level="INFO">${pid_file} = /tmp/sipp_uas_5088.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:32.303642" elapsed="0.000096"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:32.303909" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5088.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:33.308375" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:33.308683" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:05:33.308742" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:32.303795" elapsed="1.004977"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:33.309528" elapsed="0.000039"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:33.309705" elapsed="0.000025"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:33.308983" elapsed="0.000784"/>
</branch>
<status status="PASS" start="2026-02-13T22:05:33.308937" elapsed="0.000864"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:33.310104" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5088/udp 2&gt;/dev/null; fuser -k 5088/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:05:34.504513" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:33.309865" elapsed="1.194899"/>
</kw>
<arg>${FO_PORT_PRI}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:05:32.303516" elapsed="2.201378"/>
</kw>
<kw name="Stop UAS Server" owner="sipp">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:34.505744" level="INFO">${pid_file} = /tmp/sipp_uas_5090.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:34.505586" elapsed="0.000183"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:34.506169" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5090.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:35.589879" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:35.590253" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:05:35.590326" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:34.505964" elapsed="1.084392"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:35.590930" elapsed="0.000035"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:35.591124" elapsed="0.000025"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:35.590549" elapsed="0.000637"/>
</branch>
<status status="PASS" start="2026-02-13T22:05:35.590504" elapsed="0.000720"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:35.591692" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5090/udp 2&gt;/dev/null; fuser -k 5090/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:05:36.711400" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:35.591333" elapsed="1.120253"/>
</kw>
<arg>${FO_PORT_SEC}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:05:34.505245" elapsed="2.206488"/>
</kw>
<kw name="Cleanup PBX Route" owner="sipp">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:36.713116" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/remove-route --data '{"domain":"fo.e2etest.local"}''.</msg>
<msg time="2026-02-13T22:05:38.413363" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:05:38.413617" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:05:38.413643" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:05:38.413667" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:36.712939" elapsed="1.700751"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:05:38.414192" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:05:38.413885" elapsed="0.000351"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:05:38.414824" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:05:38.414595" elapsed="0.000248"/>
</kw>
<status status="PASS" start="2026-02-13T22:05:38.414314" elapsed="0.000558"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:38.414980" elapsed="0.000014"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:38.414906" elapsed="0.000112"/>
</branch>
<status status="PASS" start="2026-02-13T22:05:38.414290" elapsed="0.000753"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:05:38.415085" elapsed="0.000048"/>
</return>
<arg>module/${module_id}/remove-route</arg>
<arg>{"domain":"${domain}"}</arg>
<status status="PASS" start="2026-02-13T22:05:36.712681" elapsed="1.702546"/>
</kw>
<arg>${FO_DOMAIN}</arg>
<doc>Remove a domain route</doc>
<status status="PASS" start="2026-02-13T22:05:36.712080" elapsed="1.703193"/>
</kw>
<status status="PASS" start="2026-02-13T22:05:32.303332" elapsed="6.111982"/>
</kw>
<status status="FAIL" start="2026-02-13T22:05:28.139158" elapsed="10.276187">Suite setup failed:
Failed to start UAS on port 5090 (rc=1):  2026-02-13	22:05:31.215047	1771020331.215047: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</suite>
<suite id="s1-s4-s13" name="25 Cross Pbx Concurrent" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/25_cross_pbx_concurrent.robot">
<kw name="Start Both UAS For Cross PBX" type="SETUP">
<kw name="Start UAS Server" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:38.419389" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null; sleep 1''.</msg>
<msg time="2026-02-13T22:05:40.530707" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null; sleep 1'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:38.419248" elapsed="2.111647"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:40.531613" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:40.531254" elapsed="0.000393"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:40.532190" level="INFO">${cmd} = runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file...</msg>
<var>${cmd}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf ${SIPP_SCENARIOS_DIR}/${scenario} -p ${port} -mi 127.0.0.1 -mp ${media_port} -rtp_echo -trace_stat -stf /tmp/sipp_uas_${port}_stat.csv -trace_err -error_file /tmp/sipp_uas_${port}_err.log -bg ${extra_args} 2&gt;/tmp/sipp_uas_${port}.log'</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:40.531777" elapsed="0.000445"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:40.532587" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file /tmp/sipp_uas_5080_err.log -bg  2&gt;/tmp/sipp_uas_5080.log''.</msg>
<msg time="2026-02-13T22:05:41.462358" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:41.462668" level="INFO">${output} = </msg>
<msg time="2026-02-13T22:05:41.462729" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>${cmd}</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:40.532361" elapsed="0.930552"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:05:41.463529" level="INFO">SIPp -bg output: , rc: 1</msg>
<arg>SIPp -bg output: ${output}, rc: ${rc}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:05:41.463239" elapsed="0.000348"/>
</kw>
<if>
<branch type="IF" condition="${rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:41.464203" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.log 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:42.589672" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:05:42.589959" level="INFO">${log_content} = 2026-02-13	22:05:41.424357	1771020341.424357: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:41.463984" elapsed="1.126014"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<msg time="2026-02-13T22:05:42.590815" level="FAIL">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:41.424357	1771020341.424357: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<arg>Failed to start UAS on port ${port} (rc=${rc}): ${output} ${log_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="FAIL" start="2026-02-13T22:05:42.590304" elapsed="0.000611">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:41.424357	1771020341.424357: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<status status="FAIL" start="2026-02-13T22:05:41.463705" elapsed="1.127272">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:41.424357	1771020341.424357: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</branch>
<status status="FAIL" start="2026-02-13T22:05:41.463669" elapsed="1.127348">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:41.424357	1771020341.424357: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</if>
<kw name="Strip String" owner="String">
<var>${pid}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:42.591127" elapsed="0.000015"/>
</kw>
<kw name="Should Match Regexp" owner="BuiltIn">
<arg>${pid}</arg>
<arg>^[0-9]+$</arg>
<arg>SIPp -bg did not return a valid PID: '${pid}'</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:42.591212" elapsed="0.000013"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'echo ${pid} &gt; ${pid_file}'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:42.591293" elapsed="0.000013"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:42.591359" elapsed="0.000012"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${check_rc}</var>
<arg>runagent -m ${module_id} kill -0 ${pid} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:42.591428" elapsed="0.000012"/>
</kw>
<if>
<branch type="IF" condition="${check_rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:42.591574" elapsed="0.000012"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${err_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}_err.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:42.591645" elapsed="0.000012"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<arg>UAS process ${pid} on port ${port} died immediately. Log: ${log_content} Errors: ${err_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:42.591710" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:42.591503" elapsed="0.000237"/>
</branch>
<status status="NOT RUN" start="2026-02-13T22:05:42.591485" elapsed="0.000277"/>
</if>
<kw name="Log" owner="BuiltIn">
<arg>Started UAS ${scenario} on port ${port} with PID ${pid}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:42.591811" elapsed="0.000009"/>
</kw>
<return>
<value>${pid}</value>
<status status="NOT RUN" start="2026-02-13T22:05:42.591847" elapsed="0.000012"/>
</return>
<var>${pid1}</var>
<arg>uas_answer.xml</arg>
<arg>${PBX1_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS1}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="FAIL" start="2026-02-13T22:05:38.418788" elapsed="4.173137">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:41.424357	1771020341.424357: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<kw name="Start UAS Server" owner="sipp">
<var>${pid2}</var>
<arg>uas_answer.xml</arg>
<arg>${PBX2_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS2}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:42.592189" elapsed="0.000017"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS1_PID}</arg>
<arg>${pid1}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:42.592277" elapsed="0.000010"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS2_PID}</arg>
<arg>${pid2}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:42.592338" elapsed="0.000010"/>
</kw>
<status status="FAIL" start="2026-02-13T22:05:38.418497" elapsed="4.173896">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:41.424357	1771020341.424357: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<test id="s1-s4-s13-t1" name="Concurrent calls to both PBX domains complete successfully" line="18">
<doc>Send 5 calls to PBX-1 and 5 calls to PBX-2 simultaneously.
Uses two sequential SIPp runs (SIPp doesn't support mixed targets in one run).
Verifies cross-PBX isolation  calls to PBX-1 don't bleed to PBX-2.</doc>
<status status="FAIL" start="2026-02-13T22:05:42.592443" elapsed="0.000183">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:41.424357	1771020341.424357: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s13-t2" name="Concurrent media calls across both PBXs" line="35">
<doc>Send calls with RTP media to both PBXs.
Verifies rtpengine handles concurrent media sessions for different PBX targets.</doc>
<status status="FAIL" start="2026-02-13T22:05:42.592739" elapsed="0.000114">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:41.424357	1771020341.424357: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s13-t3" name="No rtpengine session leak after cross-PBX concurrent calls" line="47">
<doc>Verify all media sessions are cleaned up.</doc>
<status status="FAIL" start="2026-02-13T22:05:42.593094" elapsed="0.000110">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:41.424357	1771020341.424357: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<kw name="Stop All UAS Servers" owner="sipp" type="TEARDOWN">
<kw name="Stop UAS Server" owner="sipp">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:42.593791" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:42.593706" elapsed="0.000099"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:42.593970" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:43.818300" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:43.818599" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:05:43.818659" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:42.593862" elapsed="1.224826"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:43.819369" elapsed="0.000043"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:43.819558" elapsed="0.000028"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:43.818869" elapsed="0.000756"/>
</branch>
<status status="PASS" start="2026-02-13T22:05:43.818826" elapsed="0.000837"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:43.820145" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:05:45.076478" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:43.819780" elapsed="1.256891"/>
</kw>
<arg>${PBX1_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:05:42.593588" elapsed="2.483232"/>
</kw>
<kw name="Stop UAS Server" owner="sipp">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:45.077981" level="INFO">${pid_file} = /tmp/sipp_uas_5082.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:45.077740" elapsed="0.000275"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:45.078458" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5082.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:46.155900" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:46.156282" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:05:46.156344" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:45.078200" elapsed="1.078175"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:46.156931" elapsed="0.000033"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:46.157125" elapsed="0.000036"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:46.156561" elapsed="0.000635"/>
</branch>
<status status="PASS" start="2026-02-13T22:05:46.156518" elapsed="0.000713"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:46.157510" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5082/udp 2&gt;/dev/null; fuser -k 5082/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:05:47.295083" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:46.157292" elapsed="1.137997"/>
</kw>
<arg>${PBX2_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:05:45.077279" elapsed="2.218154"/>
</kw>
<doc>Stop all known UAS servers</doc>
<status status="PASS" start="2026-02-13T22:05:42.593437" elapsed="4.702077"/>
</kw>
<status status="FAIL" start="2026-02-13T22:05:38.415694" elapsed="8.879861">Suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:41.424357	1771020341.424357: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</suite>
<suite id="s1-s4-s14" name="30 Srtp Transcoding" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/30_srtp_transcoding.robot">
<kw name="Start PBX1 UAS For SRTP Test" type="SETUP">
<kw name="Start UAS Server" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:47.299700" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null; sleep 1''.</msg>
<msg time="2026-02-13T22:05:49.480825" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null; sleep 1'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:47.299558" elapsed="2.181459"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:49.481736" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:49.481376" elapsed="0.000395"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:49.482256" level="INFO">${cmd} = runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file...</msg>
<var>${cmd}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf ${SIPP_SCENARIOS_DIR}/${scenario} -p ${port} -mi 127.0.0.1 -mp ${media_port} -rtp_echo -trace_stat -stf /tmp/sipp_uas_${port}_stat.csv -trace_err -error_file /tmp/sipp_uas_${port}_err.log -bg ${extra_args} 2&gt;/tmp/sipp_uas_${port}.log'</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:49.481904" elapsed="0.000488"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:49.482597" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file /tmp/sipp_uas_5080_err.log -bg  2&gt;/tmp/sipp_uas_5080.log''.</msg>
<msg time="2026-02-13T22:05:50.545625" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:50.545850" level="INFO">${output} = </msg>
<msg time="2026-02-13T22:05:50.545878" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>${cmd}</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:49.482468" elapsed="1.063426"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:05:50.546289" level="INFO">SIPp -bg output: , rc: 1</msg>
<arg>SIPp -bg output: ${output}, rc: ${rc}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:05:50.546103" elapsed="0.000214"/>
</kw>
<if>
<branch type="IF" condition="${rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:50.546684" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.log 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:51.606158" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:05:51.606390" level="INFO">${log_content} = 2026-02-13	22:05:50.506504	1771020350.506504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:50.546573" elapsed="1.059841"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<msg time="2026-02-13T22:05:51.606946" level="FAIL">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:50.506504	1771020350.506504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<arg>Failed to start UAS on port ${port} (rc=${rc}): ${output} ${log_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="FAIL" start="2026-02-13T22:05:51.606606" elapsed="0.000401">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:50.506504	1771020350.506504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<status status="FAIL" start="2026-02-13T22:05:50.546394" elapsed="1.060665">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:50.506504	1771020350.506504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</branch>
<status status="FAIL" start="2026-02-13T22:05:50.546365" elapsed="1.060740">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:50.506504	1771020350.506504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</if>
<kw name="Strip String" owner="String">
<var>${pid}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:51.607184" elapsed="0.000013"/>
</kw>
<kw name="Should Match Regexp" owner="BuiltIn">
<arg>${pid}</arg>
<arg>^[0-9]+$</arg>
<arg>SIPp -bg did not return a valid PID: '${pid}'</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:51.607255" elapsed="0.000267"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'echo ${pid} &gt; ${pid_file}'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:51.607584" elapsed="0.000012"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:51.607643" elapsed="0.000011"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${check_rc}</var>
<arg>runagent -m ${module_id} kill -0 ${pid} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:51.607703" elapsed="0.000009"/>
</kw>
<if>
<branch type="IF" condition="${check_rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:51.607829" elapsed="0.000014"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${err_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}_err.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:51.607891" elapsed="0.000009"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<arg>UAS process ${pid} on port ${port} died immediately. Log: ${log_content} Errors: ${err_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:51.607942" elapsed="0.000009"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:51.607769" elapsed="0.000196"/>
</branch>
<status status="NOT RUN" start="2026-02-13T22:05:51.607749" elapsed="0.000229"/>
</if>
<kw name="Log" owner="BuiltIn">
<arg>Started UAS ${scenario} on port ${port} with PID ${pid}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:51.608021" elapsed="0.000018"/>
</kw>
<return>
<value>${pid}</value>
<status status="NOT RUN" start="2026-02-13T22:05:51.608067" elapsed="0.000020"/>
</return>
<var>${pid}</var>
<arg>uas_answer.xml</arg>
<arg>${PBX1_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS1}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="FAIL" start="2026-02-13T22:05:47.299088" elapsed="4.309064">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:50.506504	1771020350.506504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS1_PID}</arg>
<arg>${pid}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:51.608228" elapsed="0.000013"/>
</kw>
<status status="FAIL" start="2026-02-13T22:05:47.298785" elapsed="4.309499">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:50.506504	1771020350.506504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<test id="s1-s4-s14-t1" name="SRTP call completes through proxy with transcoding" line="17">
<doc>INVITE with RTP/SAVP (SRTP) SDP offer.
Rtpengine should transcode SRTP to RTP for the internal PBX side.
Verifies SDP rewriting and crypto attribute handling.</doc>
<status status="FAIL" start="2026-02-13T22:05:51.608334" elapsed="0.000179">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:50.506504	1771020350.506504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s14-t2" name="No rtpengine session leak after SRTP call" line="25">
<status status="FAIL" start="2026-02-13T22:05:51.608709" elapsed="0.000131">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:50.506504	1771020350.506504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<kw name="Stop UAS Server" owner="sipp" type="TEARDOWN">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:51.609392" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:51.609301" elapsed="0.000105"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:51.609580" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:52.660811" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:52.661065" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:05:52.661115" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:51.609464" elapsed="1.051670"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:52.661568" elapsed="0.000018"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:52.661644" elapsed="0.000010"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:52.661280" elapsed="0.000391"/>
</branch>
<status status="PASS" start="2026-02-13T22:05:52.661247" elapsed="0.000444"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:52.661923" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:05:53.962982" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:52.661740" elapsed="1.301490"/>
</kw>
<arg>${PBX1_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:05:51.609146" elapsed="2.354233"/>
</kw>
<status status="FAIL" start="2026-02-13T22:05:47.296132" elapsed="6.667306">Suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:50.506504	1771020350.506504: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</suite>
<suite id="s1-s4-s15" name="31 Codec Negotiation" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/31_codec_negotiation.robot">
<kw name="Start PBX1 UAS For Codec Test" type="SETUP">
<kw name="Start UAS Server" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:53.967573" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null; sleep 1''.</msg>
<msg time="2026-02-13T22:05:56.341823" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null; sleep 1'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:53.967429" elapsed="2.374541"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:56.342455" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:56.342208" elapsed="0.000267"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:56.342769" level="INFO">${cmd} = runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file...</msg>
<var>${cmd}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf ${SIPP_SCENARIOS_DIR}/${scenario} -p ${port} -mi 127.0.0.1 -mp ${media_port} -rtp_echo -trace_stat -stf /tmp/sipp_uas_${port}_stat.csv -trace_err -error_file /tmp/sipp_uas_${port}_err.log -bg ${extra_args} 2&gt;/tmp/sipp_uas_${port}.log'</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:56.342549" elapsed="0.000238"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:56.343007" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file /tmp/sipp_uas_5080_err.log -bg  2&gt;/tmp/sipp_uas_5080.log''.</msg>
<msg time="2026-02-13T22:05:57.657841" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:05:57.658130" level="INFO">${output} = </msg>
<msg time="2026-02-13T22:05:57.658161" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>${cmd}</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:56.342867" elapsed="1.315314"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:05:57.658624" level="INFO">SIPp -bg output: , rc: 1</msg>
<arg>SIPp -bg output: ${output}, rc: ${rc}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:05:57.658418" elapsed="0.000238"/>
</kw>
<if>
<branch type="IF" condition="${rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:57.659116" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.log 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:05:58.921200" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:05:58.921517" level="INFO">${log_content} = 2026-02-13	22:05:57.446383	1771020357.446383: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:57.658977" elapsed="1.262581"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<msg time="2026-02-13T22:05:58.922509" level="FAIL">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:57.446383	1771020357.446383: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<arg>Failed to start UAS on port ${port} (rc=${rc}): ${output} ${log_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="FAIL" start="2026-02-13T22:05:58.921877" elapsed="0.000840">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:57.446383	1771020357.446383: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<status status="FAIL" start="2026-02-13T22:05:57.658752" elapsed="1.264036">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:57.446383	1771020357.446383: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</branch>
<status status="FAIL" start="2026-02-13T22:05:57.658712" elapsed="1.264123">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:57.446383	1771020357.446383: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</if>
<kw name="Strip String" owner="String">
<var>${pid}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:58.922959" elapsed="0.000019"/>
</kw>
<kw name="Should Match Regexp" owner="BuiltIn">
<arg>${pid}</arg>
<arg>^[0-9]+$</arg>
<arg>SIPp -bg did not return a valid PID: '${pid}'</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:58.923089" elapsed="0.000014"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'echo ${pid} &gt; ${pid_file}'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:58.923187" elapsed="0.000012"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:58.923262" elapsed="0.000012"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${check_rc}</var>
<arg>runagent -m ${module_id} kill -0 ${pid} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:58.923341" elapsed="0.000012"/>
</kw>
<if>
<branch type="IF" condition="${check_rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:58.923535" elapsed="0.000013"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${err_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}_err.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:58.923614" elapsed="0.000011"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<arg>UAS process ${pid} on port ${port} died immediately. Log: ${log_content} Errors: ${err_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:58.923692" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:05:58.923449" elapsed="0.000276"/>
</branch>
<status status="NOT RUN" start="2026-02-13T22:05:58.923421" elapsed="0.000322"/>
</if>
<kw name="Log" owner="BuiltIn">
<arg>Started UAS ${scenario} on port ${port} with PID ${pid}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:58.923817" elapsed="0.000012"/>
</kw>
<return>
<value>${pid}</value>
<status status="NOT RUN" start="2026-02-13T22:05:58.923868" elapsed="0.000015"/>
</return>
<var>${pid}</var>
<arg>uas_answer.xml</arg>
<arg>${PBX1_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS1}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="FAIL" start="2026-02-13T22:05:53.966953" elapsed="4.957006">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:57.446383	1771020357.446383: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS1_PID}</arg>
<arg>${pid}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:05:58.924091" elapsed="0.000017"/>
</kw>
<status status="FAIL" start="2026-02-13T22:05:53.966664" elapsed="4.957505">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:57.446383	1771020357.446383: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<test id="s1-s4-s15-t1" name="Multi-codec offer negotiated successfully" line="17">
<doc>INVITE with G.729, PCMA, PCMU, GSM codec offer.
Verifies rtpengine handles codec negotiation/filtering and the call completes.</doc>
<status status="FAIL" start="2026-02-13T22:05:58.924224" elapsed="0.000199">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:57.446383	1771020357.446383: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s15-t2" name="Multiple codec negotiation calls in sequence" line="24">
<doc>Run several multi-codec calls to verify consistent behavior.</doc>
<status status="FAIL" start="2026-02-13T22:05:58.924538" elapsed="0.000112">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:57.446383	1771020357.446383: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<kw name="Stop UAS Server" owner="sipp" type="TEARDOWN">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:05:58.925245" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:05:58.925154" elapsed="0.000105"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:05:58.925431" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:06:00.043929" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:06:00.045126" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:06:00.045295" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:05:58.925316" elapsed="1.120031"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:00.047047" elapsed="0.000082"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:00.047269" elapsed="0.000030"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:00.045913" elapsed="0.001430"/>
</branch>
<status status="PASS" start="2026-02-13T22:06:00.045782" elapsed="0.001625"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:00.048640" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:06:01.396467" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:00.047535" elapsed="1.349240"/>
</kw>
<arg>${PBX1_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:05:58.924991" elapsed="2.471926"/>
</kw>
<status status="FAIL" start="2026-02-13T22:05:53.963968" elapsed="7.433006">Suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:05:57.446383	1771020357.446383: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</suite>
<suite id="s1-s4-s16" name="32 Tls Signaling" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/32_tls_signaling.robot">
<kw name="Start PBX1 UAS For TLS Test" type="SETUP">
<kw name="Start UAS Server" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:01.401217" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null; sleep 1''.</msg>
<msg time="2026-02-13T22:06:03.735759" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null; sleep 1'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:01.401062" elapsed="2.334890"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:06:03.736685" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:06:03.736402" elapsed="0.000306"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:06:03.737156" level="INFO">${cmd} = runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file...</msg>
<var>${cmd}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf ${SIPP_SCENARIOS_DIR}/${scenario} -p ${port} -mi 127.0.0.1 -mp ${media_port} -rtp_echo -trace_stat -stf /tmp/sipp_uas_${port}_stat.csv -trace_err -error_file /tmp/sipp_uas_${port}_err.log -bg ${extra_args} 2&gt;/tmp/sipp_uas_${port}.log'</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:06:03.736797" elapsed="0.000394"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:03.737441" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file /tmp/sipp_uas_5080_err.log -bg  2&gt;/tmp/sipp_uas_5080.log''.</msg>
<msg time="2026-02-13T22:06:05.045019" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:06:05.045276" level="INFO">${output} = </msg>
<msg time="2026-02-13T22:06:05.045305" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>${cmd}</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:03.737295" elapsed="1.308027"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:06:05.045664" level="INFO">SIPp -bg output: , rc: 1</msg>
<arg>SIPp -bg output: ${output}, rc: ${rc}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:06:05.045499" elapsed="0.000193"/>
</kw>
<if>
<branch type="IF" condition="${rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:05.046017" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.log 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:06:06.317435" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:06:06.317650" level="INFO">${log_content} = 2026-02-13	22:06:04.856500	1771020364.856500: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:05.045925" elapsed="1.271748"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<msg time="2026-02-13T22:06:06.318222" level="FAIL">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:04.856500	1771020364.856500: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<arg>Failed to start UAS on port ${port} (rc=${rc}): ${output} ${log_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="FAIL" start="2026-02-13T22:06:06.317859" elapsed="0.000430">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:04.856500	1771020364.856500: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<status status="FAIL" start="2026-02-13T22:06:05.045761" elapsed="1.272580">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:04.856500	1771020364.856500: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</branch>
<status status="FAIL" start="2026-02-13T22:06:05.045738" elapsed="1.272639">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:04.856500	1771020364.856500: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</if>
<kw name="Strip String" owner="String">
<var>${pid}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:06.318465" elapsed="0.000015"/>
</kw>
<kw name="Should Match Regexp" owner="BuiltIn">
<arg>${pid}</arg>
<arg>^[0-9]+$</arg>
<arg>SIPp -bg did not return a valid PID: '${pid}'</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:06.318570" elapsed="0.000014"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'echo ${pid} &gt; ${pid_file}'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:06.318653" elapsed="0.000013"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:06.318712" elapsed="0.000009"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${check_rc}</var>
<arg>runagent -m ${module_id} kill -0 ${pid} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:06.318767" elapsed="0.000009"/>
</kw>
<if>
<branch type="IF" condition="${check_rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:06.318892" elapsed="0.000010"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${err_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}_err.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:06.318950" elapsed="0.000009"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<arg>UAS process ${pid} on port ${port} died immediately. Log: ${log_content} Errors: ${err_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:06.319105" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:06.318830" elapsed="0.000305"/>
</branch>
<status status="NOT RUN" start="2026-02-13T22:06:06.318814" elapsed="0.000333"/>
</if>
<kw name="Log" owner="BuiltIn">
<arg>Started UAS ${scenario} on port ${port} with PID ${pid}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:06.319193" elapsed="0.000010"/>
</kw>
<return>
<value>${pid}</value>
<status status="NOT RUN" start="2026-02-13T22:06:06.319230" elapsed="0.000012"/>
</return>
<var>${pid}</var>
<arg>uas_answer.xml</arg>
<arg>${PBX1_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS1}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="FAIL" start="2026-02-13T22:06:01.400618" elapsed="4.918692">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:04.856500	1771020364.856500: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS1_PID}</arg>
<arg>${pid}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:06.319389" elapsed="0.000011"/>
</kw>
<status status="FAIL" start="2026-02-13T22:06:01.400150" elapsed="4.919295">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:04.856500	1771020364.856500: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<test id="s1-s4-s16-t1" name="TLS signaling call completes through proxy" line="16">
<doc>SIP over TLS (port 5061) through Kamailio.
Verifies TLS listener is active and handles calls.
Note: SIPp uses -t t1 for TLS transport (no cert verification).</doc>
<tag>tls</tag>
<status status="FAIL" start="2026-02-13T22:06:06.319497" elapsed="0.000195">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:04.856500	1771020364.856500: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<kw name="Stop UAS Server" owner="sipp" type="TEARDOWN">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:06:06.320275" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:06:06.320190" elapsed="0.000099"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:06.320459" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:06:07.651769" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:06:07.651999" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:06:07.652049" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:06.320346" elapsed="1.331749"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:07.652803" elapsed="0.000043"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:07.652996" elapsed="0.000024"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:07.652386" elapsed="0.000686"/>
</branch>
<status status="PASS" start="2026-02-13T22:06:07.652338" elapsed="0.000778"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:07.653476" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:06:09.265260" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:07.653222" elapsed="1.612231"/>
</kw>
<arg>${PBX1_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:06:06.320026" elapsed="2.945574"/>
</kw>
<status status="FAIL" start="2026-02-13T22:06:01.397510" elapsed="7.868145">Suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:04.856500	1771020364.856500: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</suite>
<suite id="s1-s4-s17" name="33 Topology Hiding" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/33_topology_hiding.robot">
<kw name="Start PBX1 UAS For Topology Test" type="SETUP">
<kw name="Start UAS Server" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:09.270862" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null; sleep 1''.</msg>
<msg time="2026-02-13T22:06:11.470352" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null; sleep 1'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:09.270728" elapsed="2.199816"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:06:11.471223" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:06:11.470837" elapsed="0.000421"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:06:11.471812" level="INFO">${cmd} = runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file...</msg>
<var>${cmd}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf ${SIPP_SCENARIOS_DIR}/${scenario} -p ${port} -mi 127.0.0.1 -mp ${media_port} -rtp_echo -trace_stat -stf /tmp/sipp_uas_${port}_stat.csv -trace_err -error_file /tmp/sipp_uas_${port}_err.log -bg ${extra_args} 2&gt;/tmp/sipp_uas_${port}.log'</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:06:11.471390" elapsed="0.000455"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:11.472066" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file /tmp/sipp_uas_5080_err.log -bg  2&gt;/tmp/sipp_uas_5080.log''.</msg>
<msg time="2026-02-13T22:06:12.691956" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:06:12.692199" level="INFO">${output} = </msg>
<msg time="2026-02-13T22:06:12.692232" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>${cmd}</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:11.471927" elapsed="1.220422"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:06:12.692709" level="INFO">SIPp -bg output: , rc: 1</msg>
<arg>SIPp -bg output: ${output}, rc: ${rc}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:06:12.692532" elapsed="0.000211"/>
</kw>
<if>
<branch type="IF" condition="${rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:12.693109" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.log 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:06:14.167467" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:06:14.167744" level="INFO">${log_content} = 2026-02-13	22:06:12.355628	1771020372.355628: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:12.692983" elapsed="1.474798"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<msg time="2026-02-13T22:06:14.168592" level="FAIL">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:12.355628	1771020372.355628: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<arg>Failed to start UAS on port ${port} (rc=${rc}): ${output} ${log_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="FAIL" start="2026-02-13T22:06:14.168061" elapsed="0.000634">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:12.355628	1771020372.355628: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<status status="FAIL" start="2026-02-13T22:06:12.692818" elapsed="1.475961">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:12.355628	1771020372.355628: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</branch>
<status status="FAIL" start="2026-02-13T22:06:12.692794" elapsed="1.476042">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:12.355628	1771020372.355628: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</if>
<kw name="Strip String" owner="String">
<var>${pid}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:14.168982" elapsed="0.000026"/>
</kw>
<kw name="Should Match Regexp" owner="BuiltIn">
<arg>${pid}</arg>
<arg>^[0-9]+$</arg>
<arg>SIPp -bg did not return a valid PID: '${pid}'</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:14.169159" elapsed="0.000024"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'echo ${pid} &gt; ${pid_file}'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:14.169299" elapsed="0.000020"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:14.169413" elapsed="0.000020"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${check_rc}</var>
<arg>runagent -m ${module_id} kill -0 ${pid} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:14.169533" elapsed="0.000040"/>
</kw>
<if>
<branch type="IF" condition="${check_rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:14.169800" elapsed="0.000023"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${err_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}_err.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:14.169925" elapsed="0.000008"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<arg>UAS process ${pid} on port ${port} died immediately. Log: ${log_content} Errors: ${err_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:14.170016" elapsed="0.000010"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:14.169670" elapsed="0.000377"/>
</branch>
<status status="NOT RUN" start="2026-02-13T22:06:14.169644" elapsed="0.000416"/>
</if>
<kw name="Log" owner="BuiltIn">
<arg>Started UAS ${scenario} on port ${port} with PID ${pid}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:14.170131" elapsed="0.000010"/>
</kw>
<return>
<value>${pid}</value>
<status status="NOT RUN" start="2026-02-13T22:06:14.170168" elapsed="0.000015"/>
</return>
<var>${pid}</var>
<arg>uas_answer.xml</arg>
<arg>${PBX1_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS1}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="FAIL" start="2026-02-13T22:06:09.270280" elapsed="4.899995">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:12.355628	1771020372.355628: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS1_PID}</arg>
<arg>${pid}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:14.170351" elapsed="0.000010"/>
</kw>
<status status="FAIL" start="2026-02-13T22:06:09.269943" elapsed="4.900461">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:12.355628	1771020372.355628: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<test id="s1-s4-s17-t1" name="Topology hiding does not leak internal IPs" line="17">
<doc>Verify TOPOS module hides internal routing information.
Make a call and check Kamailio's SIP trace for Via/Record-Route headers.
Internal service IPs should not appear in responses sent to external UAC.</doc>
<status status="FAIL" start="2026-02-13T22:06:14.170452" elapsed="0.000191">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:12.355628	1771020372.355628: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<kw name="Stop UAS Server" owner="sipp" type="TEARDOWN">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:06:14.171239" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:06:14.171152" elapsed="0.000101"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:14.171417" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:06:15.655607" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:06:15.655909" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:06:15.655969" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:14.171307" elapsed="1.484692"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:15.656800" elapsed="0.000034"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:15.656959" elapsed="0.000022"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:15.656381" elapsed="0.000644"/>
</branch>
<status status="PASS" start="2026-02-13T22:06:15.656335" elapsed="0.000749"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:15.657443" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:06:16.760820" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:15.657212" elapsed="1.103763"/>
</kw>
<arg>${PBX1_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:06:14.170980" elapsed="2.590130"/>
</kw>
<status status="FAIL" start="2026-02-13T22:06:09.266343" elapsed="7.494812">Suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:12.355628	1771020372.355628: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</suite>
<suite id="s1-s4-s18" name="34 Nat Traversal" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/34_nat_traversal.robot">
<kw name="Start PBX1 UAS For NAT Test" type="SETUP">
<kw name="Start UAS Server" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:16.765121" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null; sleep 1''.</msg>
<msg time="2026-02-13T22:06:19.954586" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null; sleep 1'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:16.764972" elapsed="3.189809"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:06:19.955484" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:06:19.955124" elapsed="0.000394"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:06:19.956038" level="INFO">${cmd} = runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file...</msg>
<var>${cmd}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf ${SIPP_SCENARIOS_DIR}/${scenario} -p ${port} -mi 127.0.0.1 -mp ${media_port} -rtp_echo -trace_stat -stf /tmp/sipp_uas_${port}_stat.csv -trace_err -error_file /tmp/sipp_uas_${port}_err.log -bg ${extra_args} 2&gt;/tmp/sipp_uas_${port}.log'</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:06:19.955647" elapsed="0.000406"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:19.956281" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file /tmp/sipp_uas_5080_err.log -bg  2&gt;/tmp/sipp_uas_5080.log''.</msg>
<msg time="2026-02-13T22:06:20.860594" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:06:20.860907" level="INFO">${output} = </msg>
<msg time="2026-02-13T22:06:20.860968" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>${cmd}</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:19.956150" elapsed="0.904849"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:06:20.861594" level="INFO">SIPp -bg output: , rc: 1</msg>
<arg>SIPp -bg output: ${output}, rc: ${rc}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:06:20.861307" elapsed="0.000345"/>
</kw>
<if>
<branch type="IF" condition="${rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:20.862155" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.log 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:06:21.741739" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:06:21.742074" level="INFO">${log_content} = 2026-02-13	22:06:20.814135	1771020380.814135: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:20.862062" elapsed="0.880075"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<msg time="2026-02-13T22:06:21.742952" level="FAIL">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:20.814135	1771020380.814135: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<arg>Failed to start UAS on port ${port} (rc=${rc}): ${output} ${log_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="FAIL" start="2026-02-13T22:06:21.742422" elapsed="0.000653">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:20.814135	1771020380.814135: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<status status="FAIL" start="2026-02-13T22:06:20.861771" elapsed="0.881425">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:20.814135	1771020380.814135: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</branch>
<status status="FAIL" start="2026-02-13T22:06:20.861733" elapsed="0.881522">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:20.814135	1771020380.814135: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</if>
<kw name="Strip String" owner="String">
<var>${pid}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:21.743402" elapsed="0.000026"/>
</kw>
<kw name="Should Match Regexp" owner="BuiltIn">
<arg>${pid}</arg>
<arg>^[0-9]+$</arg>
<arg>SIPp -bg did not return a valid PID: '${pid}'</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:21.743585" elapsed="0.000025"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'echo ${pid} &gt; ${pid_file}'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:21.743725" elapsed="0.000021"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:21.744010" elapsed="0.000038"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${check_rc}</var>
<arg>runagent -m ${module_id} kill -0 ${pid} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:21.744137" elapsed="0.000010"/>
</kw>
<if>
<branch type="IF" condition="${check_rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:21.744265" elapsed="0.000009"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${err_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}_err.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:21.744321" elapsed="0.000008"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<arg>UAS process ${pid} on port ${port} died immediately. Log: ${log_content} Errors: ${err_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:21.744370" elapsed="0.000008"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:21.744204" elapsed="0.000189"/>
</branch>
<status status="NOT RUN" start="2026-02-13T22:06:21.744186" elapsed="0.000218"/>
</if>
<kw name="Log" owner="BuiltIn">
<arg>Started UAS ${scenario} on port ${port} with PID ${pid}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:21.744448" elapsed="0.000010"/>
</kw>
<return>
<value>${pid}</value>
<status status="NOT RUN" start="2026-02-13T22:06:21.744486" elapsed="0.000013"/>
</return>
<var>${pid}</var>
<arg>uas_answer.xml</arg>
<arg>${PBX1_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS1}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="FAIL" start="2026-02-13T22:06:16.764535" elapsed="4.980033">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:20.814135	1771020380.814135: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS1_PID}</arg>
<arg>${pid}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:21.744648" elapsed="0.000010"/>
</kw>
<status status="FAIL" start="2026-02-13T22:06:16.764292" elapsed="4.980410">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:20.814135	1771020380.814135: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<test id="s1-s4-s18-t1" name="Call with rport parameter handled correctly" line="17">
<doc>SIPp sends Via with rport, simulating a NAT'd endpoint.
Verifies Kamailio's NATDETECT route processes rport and adds contact alias.</doc>
<status status="FAIL" start="2026-02-13T22:06:21.744755" elapsed="0.000200">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:20.814135	1771020380.814135: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s18-t2" name="Call with media behind simulated NAT" line="24">
<doc>RTP media from a different IP than SIP signaling (simulated via loopback).
Verifies rtpengine handles asymmetric NAT media correctly.</doc>
<status status="FAIL" start="2026-02-13T22:06:21.745076" elapsed="0.000124">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:20.814135	1771020380.814135: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<kw name="Stop UAS Server" owner="sipp" type="TEARDOWN">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:06:21.745781" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:06:21.745697" elapsed="0.000097"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:21.745959" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:06:22.605502" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:06:22.605811" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:06:22.605871" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:21.745848" elapsed="0.860054"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:22.606525" elapsed="0.000035"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:22.606685" elapsed="0.000022"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:22.606113" elapsed="0.000626"/>
</branch>
<status status="PASS" start="2026-02-13T22:06:22.606063" elapsed="0.000713"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:22.607250" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:06:23.646260" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:22.606880" elapsed="1.039571"/>
</kw>
<arg>${PBX1_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:06:21.745547" elapsed="1.901049"/>
</kw>
<status status="FAIL" start="2026-02-13T22:06:16.761544" elapsed="6.885109">Suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:20.814135	1771020380.814135: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</suite>
<suite id="s1-s4-s19" name="35 In Dialog Requests" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/35_in_dialog_requests.robot">
<kw name="Start PBX1 UAS For In-Dialog Test" type="SETUP">
<kw name="Start UAS Server" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:23.651070" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null; sleep 1''.</msg>
<msg time="2026-02-13T22:06:25.593148" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null; sleep 1'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:23.650914" elapsed="1.942433"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:06:25.594157" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:06:25.593781" elapsed="0.000425"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:06:25.594733" level="INFO">${cmd} = runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file...</msg>
<var>${cmd}</var>
<arg>runagent -m ${module_id} sh -c '$HOME/bin/sipp -sf ${SIPP_SCENARIOS_DIR}/${scenario} -p ${port} -mi 127.0.0.1 -mp ${media_port} -rtp_echo -trace_stat -stf /tmp/sipp_uas_${port}_stat.csv -trace_err -error_file /tmp/sipp_uas_${port}_err.log -bg ${extra_args} 2&gt;/tmp/sipp_uas_${port}.log'</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:06:25.594339" elapsed="0.000425"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:25.595164" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c '$HOME/bin/sipp -sf $HOME/sipp_scenarios/uas_answer.xml -p 5080 -mi 127.0.0.1 -mp 30020 -rtp_echo -trace_stat -stf /tmp/sipp_uas_5080_stat.csv -trace_err -error_file /tmp/sipp_uas_5080_err.log -bg  2&gt;/tmp/sipp_uas_5080.log''.</msg>
<msg time="2026-02-13T22:06:26.490143" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:06:26.490463" level="INFO">${output} = </msg>
<msg time="2026-02-13T22:06:26.490523" level="INFO">${rc} = 1</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>${cmd}</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:25.594900" elapsed="0.895655"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:06:26.491059" level="INFO">SIPp -bg output: , rc: 1</msg>
<arg>SIPp -bg output: ${output}, rc: ${rc}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:06:26.490832" elapsed="0.000277"/>
</kw>
<if>
<branch type="IF" condition="${rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:26.491543" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.log 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:06:27.431514" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:06:27.431806" level="INFO">${log_content} = 2026-02-13	22:06:26.452727	1771020386.452727: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:26.491403" elapsed="0.940479"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<msg time="2026-02-13T22:06:27.432749" level="FAIL">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:26.452727	1771020386.452727: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</msg>
<arg>Failed to start UAS on port ${port} (rc=${rc}): ${output} ${log_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="FAIL" start="2026-02-13T22:06:27.432191" elapsed="0.000665">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:26.452727	1771020386.452727: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<status status="FAIL" start="2026-02-13T22:06:26.491199" elapsed="0.941747">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:26.452727	1771020386.452727: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</branch>
<status status="FAIL" start="2026-02-13T22:06:26.491170" elapsed="0.941832">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:26.452727	1771020386.452727: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</if>
<kw name="Strip String" owner="String">
<var>${pid}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:27.433196" elapsed="0.000027"/>
</kw>
<kw name="Should Match Regexp" owner="BuiltIn">
<arg>${pid}</arg>
<arg>^[0-9]+$</arg>
<arg>SIPp -bg did not return a valid PID: '${pid}'</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:27.433346" elapsed="0.000023"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'echo ${pid} &gt; ${pid_file}'</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:27.433503" elapsed="0.000022"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:27.433626" elapsed="0.000020"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${check_rc}</var>
<arg>runagent -m ${module_id} kill -0 ${pid} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:27.433745" elapsed="0.000020"/>
</kw>
<if>
<branch type="IF" condition="${check_rc} != 0">
<kw name="Execute Command" owner="SSHLibrary">
<var>${log_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:27.433998" elapsed="0.000009"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<var>${err_content}</var>
<arg>runagent -m ${module_id} cat /tmp/sipp_uas_${port}_err.log 2&gt;/dev/null</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:27.434062" elapsed="0.000010"/>
</kw>
<kw name="Fail" owner="BuiltIn">
<arg>UAS process ${pid} on port ${port} died immediately. Log: ${log_content} Errors: ${err_content}</arg>
<doc>Fails the test with the given message and optionally alters its tags.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:27.434118" elapsed="0.000009"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:27.433876" elapsed="0.000265"/>
</branch>
<status status="NOT RUN" start="2026-02-13T22:06:27.433846" elapsed="0.000307"/>
</if>
<kw name="Log" owner="BuiltIn">
<arg>Started UAS ${scenario} on port ${port} with PID ${pid}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:27.434201" elapsed="0.000010"/>
</kw>
<return>
<value>${pid}</value>
<status status="NOT RUN" start="2026-02-13T22:06:27.434238" elapsed="0.000013"/>
</return>
<var>${pid}</var>
<arg>uas_answer.xml</arg>
<arg>${PBX1_SIP_PORT}</arg>
<arg>${SIPP_MEDIA_PORT_UAS1}</arg>
<doc>Start a SIPp UAS server in the background using -bg flag.
SIPp -bg forks a daemon and prints the child PID to stdout.</doc>
<status status="FAIL" start="2026-02-13T22:06:23.650457" elapsed="3.783866">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:26.452727	1771020386.452727: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${UAS1_PID}</arg>
<arg>${pid}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:27.434402" elapsed="0.000010"/>
</kw>
<status status="FAIL" start="2026-02-13T22:06:23.650142" elapsed="3.784405">Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:26.452727	1771020386.452727: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</kw>
<test id="s1-s4-s19-t1" name="Re-INVITE hold and resume within dialog" line="16">
<doc>Established call with re-INVITE to put on hold (sendonly) then resume (sendrecv).
Verifies Kamailio's WITHINDLG route handles in-dialog INVITE correctly.
Verifies rtpengine updates media direction on re-INVITE.</doc>
<status status="FAIL" start="2026-02-13T22:06:27.434605" elapsed="0.000204">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:26.452727	1771020386.452727: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s19-t2" name="Multiple hold/resume cycles" line="24">
<doc>Run several re-INVITE cycles to verify dialog state consistency.</doc>
<status status="FAIL" start="2026-02-13T22:06:27.434920" elapsed="0.000124">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:26.452727	1771020386.452727: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<test id="s1-s4-s19-t3" name="No rtpengine session leak after in-dialog tests" line="31">
<status status="FAIL" start="2026-02-13T22:06:27.435126" elapsed="0.000369">Parent suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:26.452727	1771020386.452727: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</test>
<kw name="Stop UAS Server" owner="sipp" type="TEARDOWN">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:06:27.436054" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:06:27.435962" elapsed="0.000106"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:27.436242" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:06:28.405447" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:06:28.405655" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:06:28.405683" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:27.436130" elapsed="0.969569"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:28.406139" elapsed="0.000041"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:28.406266" elapsed="0.000015"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:28.405819" elapsed="0.000484"/>
</branch>
<status status="PASS" start="2026-02-13T22:06:28.405790" elapsed="0.000537"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:28.406608" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:06:29.374895" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:28.406392" elapsed="0.968710"/>
</kw>
<arg>${PBX1_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:06:27.435813" elapsed="1.939431"/>
</kw>
<status status="FAIL" start="2026-02-13T22:06:23.647272" elapsed="5.728026">Suite setup failed:
Failed to start UAS on port 5080 (rc=1):  2026-02-13	22:06:26.452727	1771020386.452727: Unable to load or parse '/home/nethvoice-proxy1/sipp_scenarios/uas_answer.xml' xml scenario file</status>
</suite>
<suite id="s1-s4-s20" name="40 Media Leak Check" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/40_media_leak_check.robot">
<test id="s1-s4-s20-t1" name="No active rtpengine sessions remain" line="10">
<kw name="Verify No Active RTPEngine Sessions" owner="sipp">
<kw name="Sleep" owner="BuiltIn">
<msg time="2026-02-13T22:06:31.379344" level="INFO">Slept 2 seconds.</msg>
<msg time="2026-02-13T22:06:31.379470" level="INFO">Wait for sessions to clean up</msg>
<arg>2s</arg>
<arg>Wait for sessions to clean up</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="PASS" start="2026-02-13T22:06:29.378919" elapsed="2.000646"/>
</kw>
<kw name="Get RTPEngine Session Count" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:31.380770" level="INFO">Executing command 'runagent -m nethvoice-proxy1 podman exec rtpengine rtpengine-ctl list sessions | grep -c "session" || echo 0'.</msg>
<msg time="2026-02-13T22:06:32.603326" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:06:32.603644" level="INFO">${output} = 0
0</msg>
<msg time="2026-02-13T22:06:32.603706" level="INFO">${rc} = 0</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} podman exec rtpengine rtpengine-ctl list sessions | grep -c "session" || echo 0</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:31.380480" elapsed="1.223257"/>
</kw>
<kw name="Strip String" owner="String">
<msg time="2026-02-13T22:06:32.604296" level="INFO">${count} = 0
0</msg>
<var>${count}</var>
<arg>${output}</arg>
<doc>Remove leading and/or trailing whitespaces from the given string.</doc>
<status status="PASS" start="2026-02-13T22:06:32.604012" elapsed="0.000299"/>
</kw>
<kw name="Convert To Integer" owner="BuiltIn">
<msg time="2026-02-13T22:06:32.604507" level="INFO">${count} = 0</msg>
<var>${count}</var>
<arg>${count}</arg>
<doc>Converts the given item to an integer number.</doc>
<status status="PASS" start="2026-02-13T22:06:32.604374" elapsed="0.000146"/>
</kw>
<return>
<value>${count}</value>
<status status="PASS" start="2026-02-13T22:06:32.604556" elapsed="0.000047"/>
</return>
<msg time="2026-02-13T22:06:32.604699" level="INFO">${count} = 0</msg>
<var>${count}</var>
<doc>Get the number of active rtpengine sessions</doc>
<status status="PASS" start="2026-02-13T22:06:31.379953" elapsed="1.224759"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:06:32.604904" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${count}</arg>
<arg>0</arg>
<arg>Expected 0 active rtpengine sessions but found ${count} (media leak!)</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:06:32.604781" elapsed="0.000157"/>
</kw>
<doc>Assert that rtpengine has no active media sessions (no leaks)</doc>
<status status="PASS" start="2026-02-13T22:06:29.378756" elapsed="3.226218"/>
</kw>
<doc>Final check: verify all rtpengine media sessions have been cleaned up.
Any remaining sessions indicate a media leak from one of the test suites.</doc>
<status status="PASS" start="2026-02-13T22:06:29.378537" elapsed="3.226519"/>
</test>
<test id="s1-s4-s20-t2" name="RTPEngine totals show processed traffic" line="15">
<kw name="Get RTPEngine Stats" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:32.607291" level="INFO">Executing command 'runagent -m nethvoice-proxy1 podman exec rtpengine rtpengine-ctl list totals'.</msg>
<msg time="2026-02-13T22:06:33.950344" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:06:33.950567" level="INFO">${output} = 
Statistics over currently running sessions:

 Owned sessions                                  :0
 Foreign sessions                                :0
 Total sessions                                  :...</msg>
<msg time="2026-02-13T22:06:33.950603" level="INFO">${rc} = 0</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} podman exec rtpengine rtpengine-ctl list totals</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:32.605811" elapsed="1.344811"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:06:33.951183" level="INFO">RTPEngine stats: 
Statistics over currently running sessions:

 Owned sessions                                  :0
 Foreign sessions                                :0
 Total sessions                                  :0
 Transcoded media                                :0
 Packets per second (userspace)                  :0
 Bytes per second (userspace)                    :0
 Errors per second (userspace)                   :0
 Packets per second (kernel)                     :0
 Bytes per second (kernel)                       :0
 Errors per second (kernel)                      :0
 Packets per second (total)                      :0
 Bytes per second (total)                        :0
 Errors per second (total)                       :0
 Userspace-only media streams                    :0
 Kernel-only media streams                       :0
 Mixed kernel/userspace media streams            :0

Total statistics (does not include current running sessions):

 Uptime of rtpengine                             :239 seconds
 Total managed sessions                          :0
 Total rejected sessions                         :0
 Total timed-out sessions via TIMEOUT            :0
 Total timed-out sessions via SILENT_TIMEOUT     :0
 Total timed-out sessions via FINAL_TIMEOUT      :0
 Total timed-out sessions via OFFER_TIMEOUT      :0
 Total regular terminated sessions               :0
 Total forced terminated sessions                :0
 Total relayed packets (userspace)               :0
 Total relayed packet errors (userspace)         :0
 Total relayed bytes (userspace)                 :0
 Total relayed packets (kernel)                  :0
 Total relayed packet errors (kernel)            :0
 Total relayed bytes (kernel)                    :0
 Total relayed packets                           :0
 Total relayed packet errors                     :0
 Total relayed bytes                             :0
 Total number of streams with no relayed packets :0
 Total number of 1-way streams                   :0
 Average call duration                           :0.000000 seconds
 Total calls duration                            :0.000000 seconds
 Total calls duration squared                    :0.000000 seconds squared
 Total calls duration standard deviation         :0.000000 seconds


Graphite interval statistics (last reported values to graphite):
 Total calls duration                            :0.000000 seconds

 Min managed sessions                            :0
 Max managed sessions                            :0
 Min/Max/Avg ping processing delay               :0.000000/0.000000/0.000000 sec
 Min/Max/Avg offer processing delay              :0.000000/0.000000/0.000000 sec
 Min/Max/Avg answer processing delay             :0.000000/0.000000/0.000000 sec
 Min/Max/Avg delete processing delay             :0.000000/0.000000/0.000000 sec
 Min/Max/Avg query processing delay              :0.000000/0.000000/0.000000 sec
 Min/Max/Avg list processing delay               :0.000000/0.000000/0.000000 sec
 Min/Max/Avg start recording processing delay    :0.000000/0.000000/0.000000 sec
 Min/Max/Avg stop recording processing delay     :0.000000/0.000000/0.000000 sec
 Min/Max/Avg start forwarding processing delay   :0.000000/0.000000/0.000000 sec
 Min/Max/Avg stop forwarding processing delay    :0.000000/0.000000/0.000000 sec
 Min/Max/Avg block DTMF processing delay         :0.000000/0.000000/0.000000 sec
 Min/Max/Avg unblock DTMF processing delay       :0.000000/0.000000/0.000000 sec
 Min/Max/Avg block media processing delay        :0.000000/0.000000/0.000000 sec
 Min/Max/Avg unblock media processing delay      :0.000000/0.000000/0.000000 sec
 Min/Max/Avg play media processing delay         :0.000000/0.000000/0.000000 sec
 Min/Max/Avg stop media processing delay         :0.000000/0.000000/0.000000 sec
 Min/Max/Avg play DTMF processing delay          :0.000000/0.000000/0.000000 sec
 Min/Max/Avg statistics processing delay         :0.000000/0.000000/0.000000 sec
 Min/Max/Avg silence media processing delay      :0.000000/0.000000/0.000000 sec
 Min/Max/Avg unsilence media processing delay    :0.000000/0.000000/0.000000 sec
 Min/Max/Avg publish processing delay            :0.000000/0.000000/0.000000 sec
 Min/Max/Avg subscribe request processing delay  :0.000000/0.000000/0.000000 sec
 Min/Max/Avg subscribe answer processing delay   :0.000000/0.000000/0.000000 sec
 Min/Max/Avg unsubscribe processing delay        :0.000000/0.000000/0.000000 sec
 Min/Max/Avg ping requests per second            :0/0/0 per sec
 Min/Max/Avg offer requests per second           :0/0/0 per sec
 Min/Max/Avg answer requests per second          :0/0/0 per sec
 Min/Max/Avg delete requests per second          :0/0/0 per sec
 Min/Max/Avg query requests per second           :0/0/0 per sec
 Min/Max/Avg list requests per second            :0/0/0 per sec
 Min/Max/Avg start recording requests per second :0/0/0 per sec
 Min/Max/Avg stop recording requests per second  :0/0/0 per sec
 Min/Max/Avg start forwarding requests per second:0/0/0 per sec
 Min/Max/Avg stop forwarding requests per second :0/0/0 per sec
 Min/Max/Avg block DTMF requests per second      :0/0/0 per sec
 Min/Max/Avg unblock DTMF requests per second    :0/0/0 per sec
 Min/Max/Avg block media requests per second     :0/0/0 per sec
 Min/Max/Avg unblock media requests per second   :0/0/0 per sec
 Min/Max/Avg play media requests per second      :0/0/0 per sec
 Min/Max/Avg stop media requests per second      :0/0/0 per sec
 Min/Max/Avg play DTMF requests per second       :0/0/0 per sec
 Min/Max/Avg statistics requests per second      :0/0/0 per sec
 Min/Max/Avg silence media requests per second   :0/0/0 per sec
 Min/Max/Avg unsilence media requests per second :0/0/0 per sec
 Min/Max/Avg publish requests per second         :0/0/0 per sec
 Min/Max/Avg subscribe request requests per second:0/0/0 per sec
 Min/Max/Avg subscribe answer requests per second:0/0/0 per sec
 Min/Max/Avg unsubscribe requests per second     :0/0/0 per sec


MOS statistics:

 Sum of all MOS values sampled                   :0.000000
 Sum of all MOS square values sampled            :0.000000
 Total number of MOS samples                     :0
 Average MOS                                     :0.000000
 MOS standard deviation                          :0.000000


VoIP metrics:

 Sum of all jitter (reported) values sampled     :0.000000
 Sum of all jitter (reported) square values sampled:0.000000
 Total number of jitter (reported) samples       :0
 Average jitter (reported)                       :0.000000
 jitter (reported) standard deviation            :0.000000
 Sum of all end-to-end round-trip time values sampled:0.000000
 Sum of all end-to-end round-trip time square values sampled:0.000000
 Total number of end-to-end round-trip time samples:0
 Average end-to-end round-trip time              :0.000000
 end-to-end round-trip time standard deviation   :0.000000
 Sum of all discrete round-trip time values sampled:0.000000
 Sum of all discrete round-trip time square values sampled:0.000000
 Total number of discrete round-trip time samples:0
 Average discrete round-trip time                :0.000000
 discrete round-trip time standard deviation     :0.000000
 Sum of all packet loss values sampled           :0.000000
 Sum of all packet loss square values sampled    :0.000000
 Total number of packet loss samples             :0
 Average packet loss                             :0.000000
 packet loss standard deviation                  :0.000000
 Sum of all jitter (measured) values sampled     :0.000000
 Sum of all jitter (measured) square values sampled:0.000000
 Total number of jitter (measured) samples       :0
 Average jitter (measured)                       :0.000000
 jitter (measured) standard deviation            :0.000000
 Packets lost                                    :0
 Duplicate RTP packets                           :0
 RTP sequence skips                              :0
 RTP sequence resets                             :0
 Out-of-order RTP packets                        :0


Control statistics:

                Proxy |       Ping |      Offer |     Answer |     Delete |      Query |       List |   StartRec |    StopRec |   StartFwd |    StopFwd |    BlkDTMF |  UnblkDTMF |   BlkMedia | UnblkMedia |  PlayMedia |  StopMedia |   PlayDTMF |      Stats |   SlnMedia | UnslnMedia |        Pub |     SubReq |     SubAns |      Unsub 
            127.0.0.1 |          1 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 </msg>
<arg>RTPEngine stats: ${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:06:33.950877" elapsed="0.000529"/>
</kw>
<return>
<value>${output}</value>
<status status="PASS" start="2026-02-13T22:06:33.951474" elapsed="0.000063"/>
</return>
<msg time="2026-02-13T22:06:33.951718" level="INFO">${stats} = 
Statistics over currently running sessions:

 Owned sessions                                  :0
 Foreign sessions                                :0
 Total sessions                                  :...</msg>
<var>${stats}</var>
<doc>Get rtpengine statistics summary</doc>
<status status="PASS" start="2026-02-13T22:06:32.605649" elapsed="1.346100"/>
</kw>
<kw name="Should Not Be Empty" owner="BuiltIn">
<msg time="2026-02-13T22:06:33.952101" level="INFO">Length is 8736.</msg>
<arg>${stats}</arg>
<arg>RTPEngine returned empty stats  may not have processed any media</arg>
<doc>Verifies that the given item is not empty.</doc>
<status status="PASS" start="2026-02-13T22:06:33.951877" elapsed="0.000291"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:06:33.952460" level="INFO">Final rtpengine stats:

Statistics over currently running sessions:

 Owned sessions                                  :0
 Foreign sessions                                :0
 Total sessions                                  :0
 Transcoded media                                :0
 Packets per second (userspace)                  :0
 Bytes per second (userspace)                    :0
 Errors per second (userspace)                   :0
 Packets per second (kernel)                     :0
 Bytes per second (kernel)                       :0
 Errors per second (kernel)                      :0
 Packets per second (total)                      :0
 Bytes per second (total)                        :0
 Errors per second (total)                       :0
 Userspace-only media streams                    :0
 Kernel-only media streams                       :0
 Mixed kernel/userspace media streams            :0

Total statistics (does not include current running sessions):

 Uptime of rtpengine                             :239 seconds
 Total managed sessions                          :0
 Total rejected sessions                         :0
 Total timed-out sessions via TIMEOUT            :0
 Total timed-out sessions via SILENT_TIMEOUT     :0
 Total timed-out sessions via FINAL_TIMEOUT      :0
 Total timed-out sessions via OFFER_TIMEOUT      :0
 Total regular terminated sessions               :0
 Total forced terminated sessions                :0
 Total relayed packets (userspace)               :0
 Total relayed packet errors (userspace)         :0
 Total relayed bytes (userspace)                 :0
 Total relayed packets (kernel)                  :0
 Total relayed packet errors (kernel)            :0
 Total relayed bytes (kernel)                    :0
 Total relayed packets                           :0
 Total relayed packet errors                     :0
 Total relayed bytes                             :0
 Total number of streams with no relayed packets :0
 Total number of 1-way streams                   :0
 Average call duration                           :0.000000 seconds
 Total calls duration                            :0.000000 seconds
 Total calls duration squared                    :0.000000 seconds squared
 Total calls duration standard deviation         :0.000000 seconds


Graphite interval statistics (last reported values to graphite):
 Total calls duration                            :0.000000 seconds

 Min managed sessions                            :0
 Max managed sessions                            :0
 Min/Max/Avg ping processing delay               :0.000000/0.000000/0.000000 sec
 Min/Max/Avg offer processing delay              :0.000000/0.000000/0.000000 sec
 Min/Max/Avg answer processing delay             :0.000000/0.000000/0.000000 sec
 Min/Max/Avg delete processing delay             :0.000000/0.000000/0.000000 sec
 Min/Max/Avg query processing delay              :0.000000/0.000000/0.000000 sec
 Min/Max/Avg list processing delay               :0.000000/0.000000/0.000000 sec
 Min/Max/Avg start recording processing delay    :0.000000/0.000000/0.000000 sec
 Min/Max/Avg stop recording processing delay     :0.000000/0.000000/0.000000 sec
 Min/Max/Avg start forwarding processing delay   :0.000000/0.000000/0.000000 sec
 Min/Max/Avg stop forwarding processing delay    :0.000000/0.000000/0.000000 sec
 Min/Max/Avg block DTMF processing delay         :0.000000/0.000000/0.000000 sec
 Min/Max/Avg unblock DTMF processing delay       :0.000000/0.000000/0.000000 sec
 Min/Max/Avg block media processing delay        :0.000000/0.000000/0.000000 sec
 Min/Max/Avg unblock media processing delay      :0.000000/0.000000/0.000000 sec
 Min/Max/Avg play media processing delay         :0.000000/0.000000/0.000000 sec
 Min/Max/Avg stop media processing delay         :0.000000/0.000000/0.000000 sec
 Min/Max/Avg play DTMF processing delay          :0.000000/0.000000/0.000000 sec
 Min/Max/Avg statistics processing delay         :0.000000/0.000000/0.000000 sec
 Min/Max/Avg silence media processing delay      :0.000000/0.000000/0.000000 sec
 Min/Max/Avg unsilence media processing delay    :0.000000/0.000000/0.000000 sec
 Min/Max/Avg publish processing delay            :0.000000/0.000000/0.000000 sec
 Min/Max/Avg subscribe request processing delay  :0.000000/0.000000/0.000000 sec
 Min/Max/Avg subscribe answer processing delay   :0.000000/0.000000/0.000000 sec
 Min/Max/Avg unsubscribe processing delay        :0.000000/0.000000/0.000000 sec
 Min/Max/Avg ping requests per second            :0/0/0 per sec
 Min/Max/Avg offer requests per second           :0/0/0 per sec
 Min/Max/Avg answer requests per second          :0/0/0 per sec
 Min/Max/Avg delete requests per second          :0/0/0 per sec
 Min/Max/Avg query requests per second           :0/0/0 per sec
 Min/Max/Avg list requests per second            :0/0/0 per sec
 Min/Max/Avg start recording requests per second :0/0/0 per sec
 Min/Max/Avg stop recording requests per second  :0/0/0 per sec
 Min/Max/Avg start forwarding requests per second:0/0/0 per sec
 Min/Max/Avg stop forwarding requests per second :0/0/0 per sec
 Min/Max/Avg block DTMF requests per second      :0/0/0 per sec
 Min/Max/Avg unblock DTMF requests per second    :0/0/0 per sec
 Min/Max/Avg block media requests per second     :0/0/0 per sec
 Min/Max/Avg unblock media requests per second   :0/0/0 per sec
 Min/Max/Avg play media requests per second      :0/0/0 per sec
 Min/Max/Avg stop media requests per second      :0/0/0 per sec
 Min/Max/Avg play DTMF requests per second       :0/0/0 per sec
 Min/Max/Avg statistics requests per second      :0/0/0 per sec
 Min/Max/Avg silence media requests per second   :0/0/0 per sec
 Min/Max/Avg unsilence media requests per second :0/0/0 per sec
 Min/Max/Avg publish requests per second         :0/0/0 per sec
 Min/Max/Avg subscribe request requests per second:0/0/0 per sec
 Min/Max/Avg subscribe answer requests per second:0/0/0 per sec
 Min/Max/Avg unsubscribe requests per second     :0/0/0 per sec


MOS statistics:

 Sum of all MOS values sampled                   :0.000000
 Sum of all MOS square values sampled            :0.000000
 Total number of MOS samples                     :0
 Average MOS                                     :0.000000
 MOS standard deviation                          :0.000000


VoIP metrics:

 Sum of all jitter (reported) values sampled     :0.000000
 Sum of all jitter (reported) square values sampled:0.000000
 Total number of jitter (reported) samples       :0
 Average jitter (reported)                       :0.000000
 jitter (reported) standard deviation            :0.000000
 Sum of all end-to-end round-trip time values sampled:0.000000
 Sum of all end-to-end round-trip time square values sampled:0.000000
 Total number of end-to-end round-trip time samples:0
 Average end-to-end round-trip time              :0.000000
 end-to-end round-trip time standard deviation   :0.000000
 Sum of all discrete round-trip time values sampled:0.000000
 Sum of all discrete round-trip time square values sampled:0.000000
 Total number of discrete round-trip time samples:0
 Average discrete round-trip time                :0.000000
 discrete round-trip time standard deviation     :0.000000
 Sum of all packet loss values sampled           :0.000000
 Sum of all packet loss square values sampled    :0.000000
 Total number of packet loss samples             :0
 Average packet loss                             :0.000000
 packet loss standard deviation                  :0.000000
 Sum of all jitter (measured) values sampled     :0.000000
 Sum of all jitter (measured) square values sampled:0.000000
 Total number of jitter (measured) samples       :0
 Average jitter (measured)                       :0.000000
 jitter (measured) standard deviation            :0.000000
 Packets lost                                    :0
 Duplicate RTP packets                           :0
 RTP sequence skips                              :0
 RTP sequence resets                             :0
 Out-of-order RTP packets                        :0


Control statistics:

                Proxy |       Ping |      Offer |     Answer |     Delete |      Query |       List |   StartRec |    StopRec |   StartFwd |    StopFwd |    BlkDTMF |  UnblkDTMF |   BlkMedia | UnblkMedia |  PlayMedia |  StopMedia |   PlayDTMF |      Stats |   SlnMedia | UnslnMedia |        Pub |     SubReq |     SubAns |      Unsub 
            127.0.0.1 |          1 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 |          0 </msg>
<arg>Final rtpengine stats:\n${stats}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:06:33.952294" elapsed="0.000342"/>
</kw>
<doc>Confirm rtpengine processed media during the test run.</doc>
<status status="PASS" start="2026-02-13T22:06:32.605348" elapsed="1.347428"/>
</test>
<test id="s1-s4-s20-t3" name="Kamailio has no stuck dialogs" line="21">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:33.953238" level="INFO">Executing command 'runagent -m nethvoice-proxy1 podman exec kamailio kamcmd dlg.stats_active'.</msg>
<msg time="2026-02-13T22:06:35.178984" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:06:35.179239" level="INFO">${output} = {
	starting: 0
	connecting: 0
	answering: 0
	ongoing: 0
	all: 0
}</msg>
<msg time="2026-02-13T22:06:35.179274" level="INFO">${rc} = 0</msg>
<var>${output}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} podman exec kamailio kamcmd dlg.stats_active</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:33.953132" elapsed="1.226161"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:06:35.179665" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>0</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:06:35.179492" elapsed="0.000222"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:06:35.180047" level="INFO">Kamailio active dialog stats: {
	starting: 0
	connecting: 0
	answering: 0
	ongoing: 0
	all: 0
}</msg>
<arg>Kamailio active dialog stats: ${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:06:35.179851" elapsed="0.000274"/>
</kw>
<doc>Verify Kamailio dialog table has no orphaned entries.</doc>
<status status="PASS" start="2026-02-13T22:06:33.952903" elapsed="1.227357"/>
</test>
<status status="PASS" start="2026-02-13T22:06:29.375815" elapsed="5.804825"/>
</suite>
<suite id="s1-s4-s21" name="99 Sipp Teardown" source="/home/pwuser/ns8-module/tests/20_e2e_sipp/99_sipp_teardown.robot">
<test id="s1-s4-s21-t1" name="Stop all SIPp UAS servers" line="9">
<kw name="Stop All UAS Servers" owner="sipp">
<kw name="Stop UAS Server" owner="sipp">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:06:35.183667" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:06:35.183577" elapsed="0.000106"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:35.183862" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:06:36.283609" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:06:36.283834" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:06:36.283871" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:35.183745" elapsed="1.100145"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:36.284307" elapsed="0.000022"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:36.284400" elapsed="0.000014"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:36.284041" elapsed="0.000392"/>
</branch>
<status status="PASS" start="2026-02-13T22:06:36.284001" elapsed="0.000454"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:36.284725" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:06:37.348201" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:36.284515" elapsed="1.063864"/>
</kw>
<arg>${PBX1_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:06:35.183435" elapsed="2.165085"/>
</kw>
<kw name="Stop UAS Server" owner="sipp">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:06:37.349638" level="INFO">${pid_file} = /tmp/sipp_uas_5082.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:06:37.349437" elapsed="0.000216"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:37.349851" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5082.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:06:38.379914" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:06:38.380259" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:06:38.380295" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:37.349719" elapsed="1.030594"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:38.380694" elapsed="0.000021"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:38.380785" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:38.380443" elapsed="0.000374"/>
</branch>
<status status="PASS" start="2026-02-13T22:06:38.380411" elapsed="0.000427"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:38.381128" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5082/udp 2&gt;/dev/null; fuser -k 5082/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:06:39.384116" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:38.380899" elapsed="1.003431"/>
</kw>
<arg>${PBX2_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:06:37.348918" elapsed="2.035554"/>
</kw>
<doc>Stop all known UAS servers</doc>
<status status="PASS" start="2026-02-13T22:06:35.183223" elapsed="4.201325"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:39.385140" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'killall sipp 2&gt;/dev/null || true''.</msg>
<msg time="2026-02-13T22:06:40.486218" level="INFO">Command exited with return code 0.</msg>
<arg>runagent -m ${module_id} sh -c 'killall sipp 2&gt;/dev/null || true'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:39.384759" elapsed="1.101652"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<msg time="2026-02-13T22:06:42.487215" level="INFO">Slept 2 seconds.</msg>
<arg>2s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="PASS" start="2026-02-13T22:06:40.486682" elapsed="2.000719"/>
</kw>
<doc>Ensure all mock PBX UAS processes are terminated.</doc>
<status status="PASS" start="2026-02-13T22:06:35.183010" elapsed="7.304623"/>
</test>
<test id="s1-s4-s21-t2" name="Remove e2e test routes" line="16">
<kw name="Cleanup PBX Route" owner="sipp">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:42.489524" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/remove-route --data '{"domain":"pbx1.e2etest.local"}''.</msg>
<msg time="2026-02-13T22:06:44.274906" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:06:44.275291" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:06:44.275353" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:06:44.275402" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:42.489328" elapsed="1.786104"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:06:44.276170" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:06:44.275710" elapsed="0.000545"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:06:44.276892" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:06:44.276722" elapsed="0.000186"/>
</kw>
<status status="PASS" start="2026-02-13T22:06:44.276382" elapsed="0.000547"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:44.277009" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:44.276950" elapsed="0.000095"/>
</branch>
<status status="PASS" start="2026-02-13T22:06:44.276347" elapsed="0.000709"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:06:44.277091" elapsed="0.000038"/>
</return>
<arg>module/${module_id}/remove-route</arg>
<arg>{"domain":"${domain}"}</arg>
<status status="PASS" start="2026-02-13T22:06:42.489027" elapsed="1.788177"/>
</kw>
<arg>${PBX1_DOMAIN}</arg>
<doc>Remove a domain route</doc>
<status status="PASS" start="2026-02-13T22:06:42.488515" elapsed="1.788725"/>
</kw>
<kw name="Cleanup PBX Route" owner="sipp">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:44.277957" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/remove-route --data '{"domain":"pbx2.e2etest.local"}''.</msg>
<msg time="2026-02-13T22:06:46.055324" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:06:46.055654" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:06:46.055736" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:06:46.055803" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:44.277826" elapsed="1.778007"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:06:46.056489" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:06:46.056152" elapsed="0.000384"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:06:46.057068" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:06:46.056860" elapsed="0.000231"/>
</kw>
<status status="PASS" start="2026-02-13T22:06:46.056614" elapsed="0.000507"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:46.057210" elapsed="0.000012"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:46.057144" elapsed="0.000097"/>
</branch>
<status status="PASS" start="2026-02-13T22:06:46.056590" elapsed="0.000661"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:06:46.057281" elapsed="0.000034"/>
</return>
<arg>module/${module_id}/remove-route</arg>
<arg>{"domain":"${domain}"}</arg>
<status status="PASS" start="2026-02-13T22:06:44.277622" elapsed="1.779766"/>
</kw>
<arg>${PBX2_DOMAIN}</arg>
<doc>Remove a domain route</doc>
<status status="PASS" start="2026-02-13T22:06:44.277361" elapsed="1.780063"/>
</kw>
<doc>Clean up all domain routes created during e2e testing.</doc>
<status status="PASS" start="2026-02-13T22:06:42.487879" elapsed="3.569617"/>
</test>
<test id="s1-s4-s21-t3" name="Remove e2e test trunks" line="21">
<kw name="Cleanup PBX Trunk" owner="sipp">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:46.058436" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/remove-trunk --data '{"rule":"1XXX"}''.</msg>
<msg time="2026-02-13T22:06:47.676397" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:06:47.676714" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:06:47.676775" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:06:47.676822" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:46.058309" elapsed="1.618542"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:06:47.677411" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:06:47.677117" elapsed="0.000344"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:06:47.677968" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:06:47.677800" elapsed="0.000302"/>
</kw>
<status status="PASS" start="2026-02-13T22:06:47.677544" elapsed="0.000583"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:47.678216" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:47.678149" elapsed="0.000096"/>
</branch>
<status status="PASS" start="2026-02-13T22:06:47.677518" elapsed="0.000738"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:06:47.678286" elapsed="0.000038"/>
</return>
<arg>module/${module_id}/remove-trunk</arg>
<arg>{"rule":"${rule}"}</arg>
<status status="PASS" start="2026-02-13T22:06:46.058097" elapsed="1.620304"/>
</kw>
<arg>${PBX1_TRUNK_PATTERN}</arg>
<doc>Remove a trunk rule</doc>
<status status="PASS" start="2026-02-13T22:06:46.057847" elapsed="1.620592"/>
</kw>
<kw name="Cleanup PBX Trunk" owner="sipp">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:47.679437" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/remove-trunk --data '{"rule":"2XXX"}''.</msg>
<msg time="2026-02-13T22:06:49.374747" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:06:49.375106" level="INFO">${stdout} = ""</msg>
<msg time="2026-02-13T22:06:49.375151" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:06:49.375186" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:47.679309" elapsed="1.695899"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:06:49.375867" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:06:49.375488" elapsed="0.000439"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:06:49.376693" level="INFO">${response} = </msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:06:49.376427" elapsed="0.000288"/>
</kw>
<status status="PASS" start="2026-02-13T22:06:49.376043" elapsed="0.000703"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:49.376857" elapsed="0.000014"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:49.376773" elapsed="0.000122"/>
</branch>
<status status="PASS" start="2026-02-13T22:06:49.376000" elapsed="0.000913"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:06:49.376956" elapsed="0.000060"/>
</return>
<arg>module/${module_id}/remove-trunk</arg>
<arg>{"rule":"${rule}"}</arg>
<status status="PASS" start="2026-02-13T22:06:47.679103" elapsed="1.698031"/>
</kw>
<arg>${PBX2_TRUNK_PATTERN}</arg>
<doc>Remove a trunk rule</doc>
<status status="PASS" start="2026-02-13T22:06:47.678559" elapsed="1.698619"/>
</kw>
<doc>Clean up all trunk rules created during e2e testing.</doc>
<status status="PASS" start="2026-02-13T22:06:46.057604" elapsed="3.319656"/>
</test>
<test id="s1-s4-s21-t4" name="Clean up SIPp files on node" line="26">
<kw name="Cleanup SIPp Artifacts" owner="sipp">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:49.377987" level="INFO">Executing command 'runagent -m nethvoice-proxy1 rm -rf $HOME/sipp_scenarios /tmp/sipp_ua*.csv /tmp/sipp_ua*.log /tmp/sipp_ua*.pid'.</msg>
<msg time="2026-02-13T22:06:50.540768" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} rm -rf ${SIPP_SCENARIOS_DIR} /tmp/sipp_ua*.csv /tmp/sipp_ua*.log /tmp/sipp_ua*.pid</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:49.377879" elapsed="1.163080"/>
</kw>
<doc>Remove all SIPp temporary files from the node</doc>
<status status="PASS" start="2026-02-13T22:06:49.377693" elapsed="1.163461"/>
</kw>
<doc>Remove all SIPp scenario files, logs, and stats from the node.</doc>
<status status="PASS" start="2026-02-13T22:06:49.377413" elapsed="1.163950"/>
</test>
<test id="s1-s4-s21-t5" name="Verify clean state after e2e tests" line="30">
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:50.542728" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/list-routes --data '{}''.</msg>
<msg time="2026-02-13T22:06:51.975262" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:06:51.975507" level="INFO">${stdout} = []</msg>
<msg time="2026-02-13T22:06:51.975535" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:06:51.975557" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:50.542565" elapsed="1.433007"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:06:51.976003" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:06:51.975758" elapsed="0.000297"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:06:51.976544" level="INFO">${response} = []</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:06:51.976374" elapsed="0.000186"/>
</kw>
<status status="PASS" start="2026-02-13T22:06:51.976141" elapsed="0.000440"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:51.976659" elapsed="0.000011"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:51.976600" elapsed="0.000088"/>
</branch>
<status status="PASS" start="2026-02-13T22:06:51.976119" elapsed="0.000580"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:06:51.976730" elapsed="0.000034"/>
</return>
<msg time="2026-02-13T22:06:51.976850" level="INFO">${routes} = []</msg>
<var>${routes}</var>
<arg>module/${module_id}/list-routes</arg>
<arg>{}</arg>
<status status="PASS" start="2026-02-13T22:06:50.542248" elapsed="1.434616"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:06:51.977003" level="INFO">Remaining routes after cleanup: []</msg>
<arg>Remaining routes after cleanup: ${routes}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:06:51.976931" elapsed="0.000095"/>
</kw>
<kw name="Run task" owner="api">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:51.977658" level="INFO">Executing command 'api-cli run module/nethvoice-proxy1/list-trunks --data '{}''.</msg>
<msg time="2026-02-13T22:06:53.307745" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:06:53.308078" level="INFO">${stdout} = []</msg>
<msg time="2026-02-13T22:06:53.308188" level="INFO">${stderr} = </msg>
<msg time="2026-02-13T22:06:53.308246" level="INFO">${rc} = 0</msg>
<var>${stdout}</var>
<var>${stderr}</var>
<var>${rc}</var>
<arg>api-cli run ${action} --data '${input}'</arg>
<arg>return_stdout=True</arg>
<arg>return_stderr=True</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:51.977527" elapsed="1.330743"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:06:53.308911" level="INFO">Argument types are:
&lt;class 'str'&gt;
&lt;class 'int'&gt;</msg>
<arg>${rc_expected}</arg>
<arg>${rc}</arg>
<arg>Run task ${action} failed!${\n}${stderr}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:06:53.308478" elapsed="0.000521"/>
</kw>
<if>
<branch type="IF" condition="${decode_json} and len($stdout) &gt; 0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2026-02-13T22:06:53.309911" level="INFO">${response} = []</msg>
<var>${response}</var>
<arg>json.loads('''${stdout}''')</arg>
<arg>modules=json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2026-02-13T22:06:53.309567" elapsed="0.000378"/>
</kw>
<status status="PASS" start="2026-02-13T22:06:53.309157" elapsed="0.000836"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${response}</var>
<arg>${stdout}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:53.310189" elapsed="0.000025"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:53.310043" elapsed="0.000213"/>
</branch>
<status status="PASS" start="2026-02-13T22:06:53.309120" elapsed="0.001160"/>
</if>
<return>
<value>${response}</value>
<status status="PASS" start="2026-02-13T22:06:53.310337" elapsed="0.000056"/>
</return>
<msg time="2026-02-13T22:06:53.310511" level="INFO">${trunks} = []</msg>
<var>${trunks}</var>
<arg>module/${module_id}/list-trunks</arg>
<arg>{}</arg>
<status status="PASS" start="2026-02-13T22:06:51.977299" elapsed="1.333227"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2026-02-13T22:06:53.310668" level="INFO">Remaining trunks after cleanup: []</msg>
<arg>Remaining trunks after cleanup: ${trunks}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2026-02-13T22:06:53.310596" elapsed="0.000094"/>
</kw>
<doc>Confirm the module is in a clean state with no test artifacts.</doc>
<status status="PASS" start="2026-02-13T22:06:50.541595" elapsed="2.769167"/>
</test>
<status status="PASS" start="2026-02-13T22:06:35.180971" elapsed="18.129978"/>
</suite>
<kw name="Stop All UAS Servers" owner="sipp" type="TEARDOWN">
<kw name="Stop UAS Server" owner="sipp">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:06:53.311866" level="INFO">${pid_file} = /tmp/sipp_uas_5080.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:06:53.311779" elapsed="0.000101"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:53.312061" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5080.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:06:54.471712" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:06:54.471937" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:06:54.471971" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:53.311941" elapsed="1.160049"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:54.472417" elapsed="0.000019"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:54.472519" elapsed="0.000010"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:54.472157" elapsed="0.000389"/>
</branch>
<status status="PASS" start="2026-02-13T22:06:54.472125" elapsed="0.000449"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:54.472849" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5080/udp 2&gt;/dev/null; fuser -k 5080/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:06:55.595493" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:54.472635" elapsed="1.123052"/>
</kw>
<arg>${PBX1_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:06:53.311654" elapsed="2.284182"/>
</kw>
<kw name="Stop UAS Server" owner="sipp">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2026-02-13T22:06:55.597008" level="INFO">${pid_file} = /tmp/sipp_uas_5082.pid</msg>
<var>${pid_file}</var>
<arg>/tmp/sipp_uas_${port}.pid</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2026-02-13T22:06:55.596783" elapsed="0.000276"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:55.597483" level="INFO">Executing command 'runagent -m nethvoice-proxy1 cat /tmp/sipp_uas_5082.pid 2&gt;/dev/null'.</msg>
<msg time="2026-02-13T22:06:56.564285" level="INFO">Command exited with return code 1.</msg>
<msg time="2026-02-13T22:06:56.564530" level="INFO">${pid} = </msg>
<msg time="2026-02-13T22:06:56.564573" level="INFO">${rc} = 1</msg>
<var>${pid}</var>
<var>${rc}</var>
<arg>runagent -m ${module_id} cat ${pid_file} 2&gt;/dev/null</arg>
<arg>return_rc=True</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:55.597223" elapsed="0.967375"/>
</kw>
<if>
<branch type="IF" condition="${rc} == 0">
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} sh -c 'kill ${pid} 2&gt;/dev/null; sleep 1; kill -9 ${pid} 2&gt;/dev/null'</arg>
<arg>timeout=10s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:56.565199" elapsed="0.000046"/>
</kw>
<kw name="Execute Command" owner="SSHLibrary">
<arg>runagent -m ${module_id} rm -f ${pid_file}</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="NOT RUN" start="2026-02-13T22:06:56.565372" elapsed="0.000024"/>
</kw>
<status status="NOT RUN" start="2026-02-13T22:06:56.564775" elapsed="0.000657"/>
</branch>
<status status="PASS" start="2026-02-13T22:06:56.564728" elapsed="0.000742"/>
</if>
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:56.565911" level="INFO">Executing command 'runagent -m nethvoice-proxy1 sh -c 'fuser -k 5082/udp 2&gt;/dev/null; fuser -k 5082/tcp 2&gt;/dev/null''.</msg>
<msg time="2026-02-13T22:06:57.605620" level="INFO">Command exited with return code 1.</msg>
<arg>runagent -m ${module_id} sh -c 'fuser -k ${port}/udp 2&gt;/dev/null; fuser -k ${port}/tcp 2&gt;/dev/null'</arg>
<arg>timeout=5s</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:56.565573" elapsed="1.040249"/>
</kw>
<arg>${PBX2_SIP_PORT}</arg>
<doc>Stop a SIPp UAS server by port</doc>
<status status="PASS" start="2026-02-13T22:06:55.596307" elapsed="2.009662"/>
</kw>
<doc>Stop all known UAS servers</doc>
<status status="PASS" start="2026-02-13T22:06:53.311464" elapsed="4.294628"/>
</kw>
<status status="FAIL" start="2026-02-13T22:03:42.389128" elapsed="195.217030"/>
</suite>
<suite id="s1-s5" name="99 Nethvoice-Proxy Remove-Module" source="/home/pwuser/ns8-module/tests/99_nethvoice-proxy_remove-module.robot">
<test id="s1-s5-t1" name="Check if nethvoice-proxy is removed correctly" line="5">
<kw name="Execute Command" owner="SSHLibrary">
<msg time="2026-02-13T22:06:57.608771" level="INFO">Executing command 'remove-module --no-preserve nethvoice-proxy1'.</msg>
<msg time="2026-02-13T22:07:09.925424" level="INFO">Command exited with return code 0.</msg>
<msg time="2026-02-13T22:07:09.925656" level="INFO">${rc} = 0</msg>
<var>${rc}</var>
<arg>remove-module --no-preserve ${module_id}</arg>
<arg>return_rc=True</arg>
<arg>return_stdout=False</arg>
<doc>Executes ``command`` on the remote machine and returns its outputs.</doc>
<status status="PASS" start="2026-02-13T22:06:57.608564" elapsed="12.317115"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2026-02-13T22:07:09.926071" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>0</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2026-02-13T22:07:09.925872" elapsed="0.000264"/>
</kw>
<status status="PASS" start="2026-02-13T22:06:57.608353" elapsed="12.317872"/>
</test>
<status status="PASS" start="2026-02-13T22:06:57.606799" elapsed="12.319648"/>
</suite>
<status status="FAIL" start="2026-02-13T21:59:28.704118" elapsed="461.222825"/>
</suite>
<statistics>
<total>
<stat pass="85" fail="40" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="0" fail="1" skip="0">failover</stat>
<stat pass="0" fail="1" skip="0">slow</stat>
<stat pass="0" fail="1" skip="0">tls</stat>
</tag>
<suite>
<stat name="Tests" id="s1" pass="85" fail="40" skip="0">Tests</stat>
<stat name="00 Nethvoice-Proxy Add-Module" id="s1-s1" pass="3" fail="0" skip="0">Tests.00 Nethvoice-Proxy Add-Module</stat>
<stat name="01 Container Health" id="s1-s2" pass="8" fail="0" skip="0">Tests.01 Container Health</stat>
<stat name="10 Actions" id="s1-s3" pass="55" fail="0" skip="0">Tests.10 Actions</stat>
<stat name="00 Add Route Validate" id="s1-s3-s1" pass="8" fail="0" skip="0">Tests.10 Actions.00 Add Route Validate</stat>
<stat name="00 Add Trunk Validate" id="s1-s3-s2" pass="9" fail="0" skip="0">Tests.10 Actions.00 Add Trunk Validate</stat>
<stat name="00 Configure Module Validate" id="s1-s3-s3" pass="10" fail="0" skip="0">Tests.10 Actions.00 Configure Module Validate</stat>
<stat name="00 Get Configuration Validate" id="s1-s3-s4" pass="1" fail="0" skip="0">Tests.10 Actions.00 Get Configuration Validate</stat>
<stat name="00 Get Route Validate" id="s1-s3-s5" pass="2" fail="0" skip="0">Tests.10 Actions.00 Get Route Validate</stat>
<stat name="00 Get Trunk Validate" id="s1-s3-s6" pass="2" fail="0" skip="0">Tests.10 Actions.00 Get Trunk Validate</stat>
<stat name="00 Remove Route Validate" id="s1-s3-s7" pass="2" fail="0" skip="0">Tests.10 Actions.00 Remove Route Validate</stat>
<stat name="00 Remove Trunk Validate" id="s1-s3-s8" pass="3" fail="0" skip="0">Tests.10 Actions.00 Remove Trunk Validate</stat>
<stat name="10 Configure Integrations" id="s1-s3-s9" pass="2" fail="0" skip="0">Tests.10 Actions.10 Configure Integrations</stat>
<stat name="10 Routes Integrations" id="s1-s3-s10" pass="8" fail="0" skip="0">Tests.10 Actions.10 Routes Integrations</stat>
<stat name="10 Trunks Integrations" id="s1-s3-s11" pass="8" fail="0" skip="0">Tests.10 Actions.10 Trunks Integrations</stat>
<stat name="20 E2E Sipp" id="s1-s4" pass="18" fail="40" skip="0">Tests.20 E2E Sipp</stat>
<stat name="00 Sipp Setup" id="s1-s4-s1" pass="7" fail="2" skip="0">Tests.20 E2E Sipp.00 Sipp Setup</stat>
<stat name="10 Basic Call" id="s1-s4-s2" pass="0" fail="3" skip="0">Tests.20 E2E Sipp.10 Basic Call</stat>
<stat name="11 Call With Media" id="s1-s4-s3" pass="0" fail="3" skip="0">Tests.20 E2E Sipp.11 Call With Media</stat>
<stat name="12 Call Cancel" id="s1-s4-s4" pass="0" fail="2" skip="0">Tests.20 E2E Sipp.12 Call Cancel</stat>
<stat name="13 Call Busy" id="s1-s4-s5" pass="0" fail="1" skip="0">Tests.20 E2E Sipp.13 Call Busy</stat>
<stat name="14 Call Timeout" id="s1-s4-s6" pass="0" fail="2" skip="0">Tests.20 E2E Sipp.14 Call Timeout</stat>
<stat name="15 Concurrent Calls" id="s1-s4-s7" pass="0" fail="3" skip="0">Tests.20 E2E Sipp.15 Concurrent Calls</stat>
<stat name="20 Multi Pbx Setup" id="s1-s4-s8" pass="3" fail="0" skip="0">Tests.20 E2E Sipp.20 Multi Pbx Setup</stat>
<stat name="21 Domain Routing" id="s1-s4-s9" pass="0" fail="3" skip="0">Tests.20 E2E Sipp.21 Domain Routing</stat>
<stat name="22 Trunk Routing" id="s1-s4-s10" pass="0" fail="3" skip="0">Tests.20 E2E Sipp.22 Trunk Routing</stat>
<stat name="23 Load Balancing" id="s1-s4-s11" pass="0" fail="2" skip="0">Tests.20 E2E Sipp.23 Load Balancing</stat>
<stat name="24 Failover" id="s1-s4-s12" pass="0" fail="2" skip="0">Tests.20 E2E Sipp.24 Failover</stat>
<stat name="25 Cross Pbx Concurrent" id="s1-s4-s13" pass="0" fail="3" skip="0">Tests.20 E2E Sipp.25 Cross Pbx Concurrent</stat>
<stat name="30 Srtp Transcoding" id="s1-s4-s14" pass="0" fail="2" skip="0">Tests.20 E2E Sipp.30 Srtp Transcoding</stat>
<stat name="31 Codec Negotiation" id="s1-s4-s15" pass="0" fail="2" skip="0">Tests.20 E2E Sipp.31 Codec Negotiation</stat>
<stat name="32 Tls Signaling" id="s1-s4-s16" pass="0" fail="1" skip="0">Tests.20 E2E Sipp.32 Tls Signaling</stat>
<stat name="33 Topology Hiding" id="s1-s4-s17" pass="0" fail="1" skip="0">Tests.20 E2E Sipp.33 Topology Hiding</stat>
<stat name="34 Nat Traversal" id="s1-s4-s18" pass="0" fail="2" skip="0">Tests.20 E2E Sipp.34 Nat Traversal</stat>
<stat name="35 In Dialog Requests" id="s1-s4-s19" pass="0" fail="3" skip="0">Tests.20 E2E Sipp.35 In Dialog Requests</stat>
<stat name="40 Media Leak Check" id="s1-s4-s20" pass="3" fail="0" skip="0">Tests.20 E2E Sipp.40 Media Leak Check</stat>
<stat name="99 Sipp Teardown" id="s1-s4-s21" pass="5" fail="0" skip="0">Tests.20 E2E Sipp.99 Sipp Teardown</stat>
<stat name="99 Nethvoice-Proxy Remove-Module" id="s1-s5" pass="1" fail="0" skip="0">Tests.99 Nethvoice-Proxy Remove-Module</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
